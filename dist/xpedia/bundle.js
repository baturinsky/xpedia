var app=function(){"use strict";function t(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function e(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function n(t,e){return t(e={exports:{}},e.exports),e.exports}var r,i=n(function(t,e){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e){t.exports=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(2),o=n(8),s=n(0),l=function(){function t(e,n){var r=n.location,i=void 0===r?0:r,s=n.distance,l=void 0===s?100:s,a=n.threshold,c=void 0===a?.6:a,u=n.maxPatternLength,f=void 0===u?32:u,d=n.caseSensitive,p=void 0!==d&&d,h=n.tokenSeparator,m=void 0===h?/ +/g:h,g=n.findAllMatches,y=void 0!==g&&g,b=n.minMatchCharLength,v=void 0===b?1:b,$=n.id,w=void 0===$?null:$,x=n.keys,k=void 0===x?[]:x,A=n.shouldSort,_=void 0===A||A,S=n.getFn,C=void 0===S?o:S,O=n.sortFn,T=void 0===O?function(t,e){return t.score-e.score}:O,E=n.tokenize,I=void 0!==E&&E,j=n.matchAllTokens,M=void 0!==j&&j,N=n.includeMatches,B=void 0!==N&&N,F=n.includeScore,L=void 0!==F&&F,R=n.verbose,D=void 0!==R&&R;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options={location:i,distance:l,threshold:c,maxPatternLength:f,isCaseSensitive:p,tokenSeparator:m,findAllMatches:y,minMatchCharLength:v,id:w,keys:k,includeMatches:B,includeScore:L,shouldSort:_,getFn:C,sortFn:T,verbose:D,tokenize:I,matchAllTokens:M},this.setCollection(e)}var e,n;return e=t,(n=[{key:"setCollection",value:function(t){return this.list=t,t}},{key:"search",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:!1};this._log('---------\nSearch pattern: "'.concat(t,'"'));var n=this._prepareSearchers(t),r=n.tokenSearchers,i=n.fullSearcher,o=this._search(r,i),s=o.weights,l=o.results;return this._computeScore(s,l),this.options.shouldSort&&this._sort(l),e.limit&&"number"==typeof e.limit&&(l=l.slice(0,e.limit)),this._format(l)}},{key:"_prepareSearchers",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=[];if(this.options.tokenize)for(var n=t.split(this.options.tokenSeparator),r=0,o=n.length;r<o;r+=1)e.push(new i(n[r],this.options));return{tokenSearchers:e,fullSearcher:new i(t,this.options)}}},{key:"_search",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=this.list,r={},i=[];if("string"==typeof n[0]){for(var o=0,s=n.length;o<s;o+=1)this._analyze({key:"",value:n[o],record:o,index:o},{resultMap:r,results:i,tokenSearchers:t,fullSearcher:e});return{weights:null,results:i}}for(var l={},a=0,c=n.length;a<c;a+=1)for(var u=n[a],f=0,d=this.options.keys.length;f<d;f+=1){var p=this.options.keys[f];if("string"!=typeof p){if(l[p.name]={weight:1-p.weight||1},p.weight<=0||p.weight>1)throw new Error("Key weight has to be > 0 and <= 1");p=p.name}else l[p]={weight:1};this._analyze({key:p,value:this.options.getFn(u,p),record:u,index:a},{resultMap:r,results:i,tokenSearchers:t,fullSearcher:e})}return{weights:l,results:i}}},{key:"_analyze",value:function(t,e){var n=t.key,r=t.arrayIndex,i=void 0===r?-1:r,o=t.value,l=t.record,a=t.index,c=e.tokenSearchers,u=void 0===c?[]:c,f=e.fullSearcher,d=void 0===f?[]:f,p=e.resultMap,h=void 0===p?{}:p,m=e.results,g=void 0===m?[]:m;if(null!=o){var y=!1,b=-1,v=0;if("string"==typeof o){this._log("\nKey: ".concat(""===n?"-":n));var $=d.search(o);if(this._log('Full text: "'.concat(o,'", score: ').concat($.score)),this.options.tokenize){for(var w=o.split(this.options.tokenSeparator),x=[],k=0;k<u.length;k+=1){var A=u[k];this._log('\nPattern: "'.concat(A.pattern,'"'));for(var _=!1,S=0;S<w.length;S+=1){var C=w[S],O=A.search(C),T={};O.isMatch?(T[C]=O.score,y=!0,_=!0,x.push(O.score)):(T[C]=1,this.options.matchAllTokens||x.push(1)),this._log('Token: "'.concat(C,'", score: ').concat(T[C]))}_&&(v+=1)}b=x[0];for(var E=x.length,I=1;I<E;I+=1)b+=x[I];b/=E,this._log("Token score average:",b)}var j=$.score;b>-1&&(j=(j+b)/2),this._log("Score average:",j);var M=!this.options.tokenize||!this.options.matchAllTokens||v>=u.length;if(this._log("\nCheck Matches: ".concat(M)),(y||$.isMatch)&&M){var N=h[a];N?N.output.push({key:n,arrayIndex:i,value:o,score:j,matchedIndices:$.matchedIndices}):(h[a]={item:l,output:[{key:n,arrayIndex:i,value:o,score:j,matchedIndices:$.matchedIndices}]},g.push(h[a]))}}else if(s(o))for(var B=0,F=o.length;B<F;B+=1)this._analyze({key:n,arrayIndex:B,value:o[B],record:l,index:a},{resultMap:h,results:g,tokenSearchers:u,fullSearcher:d})}}},{key:"_computeScore",value:function(t,e){this._log("\n\nComputing score:\n");for(var n=0,r=e.length;n<r;n+=1){for(var i=e[n].output,o=i.length,s=1,l=1,a=0;a<o;a+=1){var c=t?t[i[a].key].weight:1,u=(1===c?i[a].score:i[a].score||.001)*c;1!==c?l=Math.min(l,u):(i[a].nScore=u,s*=u)}e[n].score=1===l?s:l,this._log(e[n])}}},{key:"_sort",value:function(t){this._log("\n\nSorting...."),t.sort(this.options.sortFn)}},{key:"_format",value:function(t){var e=[];if(this.options.verbose){var n=[];this._log("\n\nOutput:\n\n",JSON.stringify(t,function(t,e){if("object"===r(e)&&null!==e){if(-1!==n.indexOf(e))return;n.push(e)}return e})),n=null}var i=[];this.options.includeMatches&&i.push(function(t,e){var n=t.output;e.matches=[];for(var r=0,i=n.length;r<i;r+=1){var o=n[r];if(0!==o.matchedIndices.length){var s={indices:o.matchedIndices,value:o.value};o.key&&(s.key=o.key),o.hasOwnProperty("arrayIndex")&&o.arrayIndex>-1&&(s.arrayIndex=o.arrayIndex),e.matches.push(s)}}}),this.options.includeScore&&i.push(function(t,e){e.score=t.score});for(var o=0,s=t.length;o<s;o+=1){var l=t[o];if(this.options.id&&(l.item=this.options.getFn(l.item,this.options.id)[0]),i.length){for(var a={item:l.item},c=0,u=i.length;c<u;c+=1)i[c](l,a);e.push(a)}else e.push(l.item)}return e}},{key:"_log",value:function(){var t;this.options.verbose&&(t=console).log.apply(t,arguments)}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),t}();t.exports=l},function(t,e,n){var r=n(3),i=n(4),o=n(7),s=function(){function t(e,n){var r=n.location,i=void 0===r?0:r,s=n.distance,l=void 0===s?100:s,a=n.threshold,c=void 0===a?.6:a,u=n.maxPatternLength,f=void 0===u?32:u,d=n.isCaseSensitive,p=void 0!==d&&d,h=n.tokenSeparator,m=void 0===h?/ +/g:h,g=n.findAllMatches,y=void 0!==g&&g,b=n.minMatchCharLength,v=void 0===b?1:b;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options={location:i,distance:l,threshold:c,maxPatternLength:f,isCaseSensitive:p,tokenSeparator:m,findAllMatches:y,minMatchCharLength:v},this.pattern=this.options.isCaseSensitive?e:e.toLowerCase(),this.pattern.length<=f&&(this.patternAlphabet=o(this.pattern))}var e,n;return e=t,(n=[{key:"search",value:function(t){if(this.options.isCaseSensitive||(t=t.toLowerCase()),this.pattern===t)return{isMatch:!0,score:0,matchedIndices:[[0,t.length-1]]};var e=this.options,n=e.maxPatternLength,o=e.tokenSeparator;if(this.pattern.length>n)return r(t,this.pattern,o);var s=this.options,l=s.location,a=s.distance,c=s.threshold,u=s.findAllMatches,f=s.minMatchCharLength;return i(t,this.pattern,this.patternAlphabet,{location:l,distance:a,threshold:c,findAllMatches:u,minMatchCharLength:f})}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),t}();t.exports=s},function(t,e){var n=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;t.exports=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,i=new RegExp(e.replace(n,"\\$&").replace(r,"|")),o=t.match(i),s=!!o,l=[];if(s)for(var a=0,c=o.length;a<c;a+=1){var u=o[a];l.push([t.indexOf(u),u.length-1])}return{score:s?.5:1,isMatch:s,matchedIndices:l}}},function(t,e,n){var r=n(5),i=n(6);t.exports=function(t,e,n,o){for(var s=o.location,l=void 0===s?0:s,a=o.distance,c=void 0===a?100:a,u=o.threshold,f=void 0===u?.6:u,d=o.findAllMatches,p=void 0!==d&&d,h=o.minMatchCharLength,m=void 0===h?1:h,g=l,y=t.length,b=f,v=t.indexOf(e,g),$=e.length,w=[],x=0;x<y;x+=1)w[x]=0;if(-1!==v){var k=r(e,{errors:0,currentLocation:v,expectedLocation:g,distance:c});if(b=Math.min(k,b),-1!==(v=t.lastIndexOf(e,g+$))){var A=r(e,{errors:0,currentLocation:v,expectedLocation:g,distance:c});b=Math.min(A,b)}}v=-1;for(var _=[],S=1,C=$+y,O=1<<$-1,T=0;T<$;T+=1){for(var E=0,I=C;E<I;)r(e,{errors:T,currentLocation:g+I,expectedLocation:g,distance:c})<=b?E=I:C=I,I=Math.floor((C-E)/2+E);C=I;var j=Math.max(1,g-I+1),M=p?y:Math.min(g+I,y)+$,N=Array(M+2);N[M+1]=(1<<T)-1;for(var B=M;B>=j;B-=1){var F=B-1,L=n[t.charAt(F)];if(L&&(w[F]=1),N[B]=(N[B+1]<<1|1)&L,0!==T&&(N[B]|=(_[B+1]|_[B])<<1|1|_[B+1]),N[B]&O&&(S=r(e,{errors:T,currentLocation:F,expectedLocation:g,distance:c}))<=b){if(b=S,(v=F)<=g)break;j=Math.max(1,2*g-v)}}if(r(e,{errors:T+1,currentLocation:g,expectedLocation:g,distance:c})>b)break;_=N}return{isMatch:v>=0,score:0===S?.001:S,matchedIndices:i(w,m)}}},function(t,e){t.exports=function(t,e){var n=e.errors,r=void 0===n?0:n,i=e.currentLocation,o=void 0===i?0:i,s=e.expectedLocation,l=void 0===s?0:s,a=e.distance,c=void 0===a?100:a,u=r/t.length,f=Math.abs(l-o);return c?u+f/c:f?1:u}},function(t,e){t.exports=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],r=-1,i=-1,o=0,s=t.length;o<s;o+=1){var l=t[o];l&&-1===r?r=o:l||-1===r||((i=o-1)-r+1>=e&&n.push([r,i]),r=-1)}return t[o-1]&&o-r>=e&&n.push([r,o-1]),n}},function(t,e){t.exports=function(t){for(var e={},n=t.length,r=0;r<n;r+=1)e[t.charAt(r)]=0;for(var i=0;i<n;i+=1)e[t.charAt(i)]|=1<<n-i-1;return e}},function(t,e,n){var r=n(0);t.exports=function(t,e){return function t(e,n,i){if(n){var o=n.indexOf("."),s=n,l=null;-1!==o&&(s=n.slice(0,o),l=n.slice(o+1));var a=e[s];if(null!=a)if(l||"string"!=typeof a&&"number"!=typeof a)if(r(a))for(var c=0,u=a.length;c<u;c+=1)t(a[c],l,i);else l&&t(a,l,i);else i.push(a.toString())}else i.push(e);return i}(t,e,[])}}])}),o=(r=i)&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,s=(i.Fuse,n(function(t,n){t.exports=function t(n,r,i){function o(l,a){if(!r[l]){if(!n[l]){var c=e;if(!a&&c)return c(l,!0);if(s)return s(l,!0);var u=new Error("Cannot find module '"+l+"'");throw u.code="MODULE_NOT_FOUND",u}var f=r[l]={exports:{}};n[l][0].call(f.exports,function(t){var e=n[l][1][t];return o(e||t)},f,f.exports,t,n,r,i)}return r[l].exports}for(var s=e,l=0;l<i.length;l++)o(i[l]);return o}({1:[function(t,e,n){var r=t("./js-yaml/loader"),i=t("./js-yaml/dumper");function o(t){return function(){throw new Error("Function "+t+" is deprecated and cannot be used.")}}e.exports.Type=t("./js-yaml/type"),e.exports.Schema=t("./js-yaml/schema"),e.exports.FAILSAFE_SCHEMA=t("./js-yaml/schema/failsafe"),e.exports.JSON_SCHEMA=t("./js-yaml/schema/json"),e.exports.CORE_SCHEMA=t("./js-yaml/schema/core"),e.exports.DEFAULT_SAFE_SCHEMA=t("./js-yaml/schema/default_safe"),e.exports.DEFAULT_FULL_SCHEMA=t("./js-yaml/schema/default_full"),e.exports.load=r.load,e.exports.loadAll=r.loadAll,e.exports.safeLoad=r.safeLoad,e.exports.safeLoadAll=r.safeLoadAll,e.exports.dump=i.dump,e.exports.safeDump=i.safeDump,e.exports.YAMLException=t("./js-yaml/exception"),e.exports.MINIMAL_SCHEMA=t("./js-yaml/schema/failsafe"),e.exports.SAFE_SCHEMA=t("./js-yaml/schema/default_safe"),e.exports.DEFAULT_SCHEMA=t("./js-yaml/schema/default_full"),e.exports.scan=o("scan"),e.exports.parse=o("parse"),e.exports.compose=o("compose"),e.exports.addConstructor=o("addConstructor")},{"./js-yaml/dumper":3,"./js-yaml/exception":4,"./js-yaml/loader":5,"./js-yaml/schema":7,"./js-yaml/schema/core":8,"./js-yaml/schema/default_full":9,"./js-yaml/schema/default_safe":10,"./js-yaml/schema/failsafe":11,"./js-yaml/schema/json":12,"./js-yaml/type":13}],2:[function(t,e,n){function r(t){return null==t}e.exports.isNothing=r,e.exports.isObject=function(t){return"object"==typeof t&&null!==t},e.exports.toArray=function(t){return Array.isArray(t)?t:r(t)?[]:[t]},e.exports.repeat=function(t,e){var n,r="";for(n=0;n<e;n+=1)r+=t;return r},e.exports.isNegativeZero=function(t){return 0===t&&Number.NEGATIVE_INFINITY===1/t},e.exports.extend=function(t,e){var n,r,i,o;if(e)for(o=Object.keys(e),n=0,r=o.length;n<r;n+=1)i=o[n],t[i]=e[i];return t}},{}],3:[function(t,e,n){var r=t("./common"),i=t("./exception"),o=t("./schema/default_full"),s=t("./schema/default_safe"),l=Object.prototype.toString,a=Object.prototype.hasOwnProperty,c=9,u=10,f=32,d=33,p=34,h=35,m=37,g=38,y=39,b=42,v=44,$=45,w=58,x=62,k=63,A=64,_=91,S=93,C=96,O=123,T=124,E=125,I={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},j=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function M(t){var e,n,o;if(e=t.toString(16).toUpperCase(),t<=255)n="x",o=2;else if(t<=65535)n="u",o=4;else{if(!(t<=4294967295))throw new i("code point within a string may not be greater than 0xFFFFFFFF");n="U",o=8}return"\\"+n+r.repeat("0",o-e.length)+e}function N(t){this.schema=t.schema||o,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=r.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=function(t,e){var n,r,i,o,s,l,c;if(null===e)return{};for(n={},r=Object.keys(e),i=0,o=r.length;i<o;i+=1)s=r[i],l=String(e[s]),"!!"===s.slice(0,2)&&(s="tag:yaml.org,2002:"+s.slice(2)),(c=t.compiledTypeMap.fallback[s])&&a.call(c.styleAliases,l)&&(l=c.styleAliases[l]),n[s]=l;return n}(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function B(t,e){for(var n,i=r.repeat(" ",e),o=0,s=-1,l="",a=t.length;o<a;)-1===(s=t.indexOf("\n",o))?(n=t.slice(o),o=a):(n=t.slice(o,s+1),o=s+1),n.length&&"\n"!==n&&(l+=i),l+=n;return l}function F(t,e){return"\n"+r.repeat(" ",t.indent*e)}function L(t){return t===f||t===c}function R(t){return 32<=t&&t<=126||161<=t&&t<=55295&&8232!==t&&8233!==t||57344<=t&&t<=65533&&65279!==t||65536<=t&&t<=1114111}function D(t){return R(t)&&65279!==t&&t!==v&&t!==_&&t!==S&&t!==O&&t!==E&&t!==w&&t!==h}function P(t){return/^\n* /.test(t)}var z=1,H=2,U=3,Z=4,G=5;function q(t,e,n,r,i){var o,s,l,a=!1,c=!1,f=-1!==r,I=-1,j=R(l=t.charCodeAt(0))&&65279!==l&&!L(l)&&l!==$&&l!==k&&l!==w&&l!==v&&l!==_&&l!==S&&l!==O&&l!==E&&l!==h&&l!==g&&l!==b&&l!==d&&l!==T&&l!==x&&l!==y&&l!==p&&l!==m&&l!==A&&l!==C&&!L(t.charCodeAt(t.length-1));if(e)for(o=0;o<t.length;o++){if(!R(s=t.charCodeAt(o)))return G;j=j&&D(s)}else{for(o=0;o<t.length;o++){if((s=t.charCodeAt(o))===u)a=!0,f&&(c=c||o-I-1>r&&" "!==t[I+1],I=o);else if(!R(s))return G;j=j&&D(s)}c=c||f&&o-I-1>r&&" "!==t[I+1]}return a||c?n>9&&P(t)?G:c?Z:U:j&&!i(t)?z:H}function W(t,e,n,r){t.dump=function(){if(0===e.length)return"''";if(!t.noCompatMode&&-1!==j.indexOf(e))return"'"+e+"'";var o=t.indent*Math.max(1,n),s=-1===t.lineWidth?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-o),l=r||t.flowLevel>-1&&n>=t.flowLevel;switch(q(e,l,t.indent,s,function(e){return function(t,e){var n,r;for(n=0,r=t.implicitTypes.length;n<r;n+=1)if(t.implicitTypes[n].resolve(e))return!0;return!1}(t,e)})){case z:return e;case H:return"'"+e.replace(/'/g,"''")+"'";case U:return"|"+X(e,t.indent)+K(B(e,o));case Z:return">"+X(e,t.indent)+K(B(function(t,e){for(var n,r,i,o=/(\n+)([^\n]*)/g,s=(i=-1!==(i=t.indexOf("\n"))?i:t.length,o.lastIndex=i,Y(t.slice(0,i),e)),l="\n"===t[0]||" "===t[0];r=o.exec(t);){var a=r[1],c=r[2];n=" "===c[0],s+=a+(l||n||""===c?"":"\n")+Y(c,e),l=n}return s}(e,s),o));case G:return'"'+function(t){for(var e,n,r,i="",o=0;o<t.length;o++)(e=t.charCodeAt(o))>=55296&&e<=56319&&(n=t.charCodeAt(o+1))>=56320&&n<=57343?(i+=M(1024*(e-55296)+n-56320+65536),o++):(r=I[e],i+=!r&&R(e)?t[o]:r||M(e));return i}(e)+'"';default:throw new i("impossible error: invalid scalar style")}}()}function X(t,e){var n=P(t)?String(e):"",r="\n"===t[t.length-1],i=r&&("\n"===t[t.length-2]||"\n"===t),o=i?"+":r?"":"-";return n+o+"\n"}function K(t){return"\n"===t[t.length-1]?t.slice(0,-1):t}function Y(t,e){if(""===t||" "===t[0])return t;for(var n,r,i=/ [^ ]/g,o=0,s=0,l=0,a="";n=i.exec(t);)(l=n.index)-o>e&&(r=s>o?s:l,a+="\n"+t.slice(o,r),o=r+1),s=l;return a+="\n",t.length-o>e&&s>o?a+=t.slice(o,s)+"\n"+t.slice(s+1):a+=t.slice(o),a.slice(1)}function V(t,e,n){var r,o,s,c,u,f;for(o=n?t.explicitTypes:t.implicitTypes,s=0,c=o.length;s<c;s+=1)if(((u=o[s]).instanceOf||u.predicate)&&(!u.instanceOf||"object"==typeof e&&e instanceof u.instanceOf)&&(!u.predicate||u.predicate(e))){if(t.tag=n?u.tag:"?",u.represent){if(f=t.styleMap[u.tag]||u.defaultStyle,"[object Function]"===l.call(u.represent))r=u.represent(e,f);else{if(!a.call(u.represent,f))throw new i("!<"+u.tag+'> tag resolver accepts not "'+f+'" style');r=u.represent[f](e,f)}t.dump=r}return!0}return!1}function J(t,e,n,r,o,s){t.tag=null,t.dump=n,V(t,n,!1)||V(t,n,!0);var a=l.call(t.dump);r&&(r=t.flowLevel<0||t.flowLevel>e);var c,f,d="[object Object]"===a||"[object Array]"===a;if(d&&(c=t.duplicates.indexOf(n),f=-1!==c),(null!==t.tag&&"?"!==t.tag||f||2!==t.indent&&e>0)&&(o=!1),f&&t.usedDuplicates[c])t.dump="*ref_"+c;else{if(d&&f&&!t.usedDuplicates[c]&&(t.usedDuplicates[c]=!0),"[object Object]"===a)r&&0!==Object.keys(t.dump).length?(function(t,e,n,r){var o,s,l,a,c,f,d="",p=t.tag,h=Object.keys(n);if(!0===t.sortKeys)h.sort();else if("function"==typeof t.sortKeys)h.sort(t.sortKeys);else if(t.sortKeys)throw new i("sortKeys must be a boolean or a function");for(o=0,s=h.length;o<s;o+=1)f="",r&&0===o||(f+=F(t,e)),l=h[o],a=n[l],J(t,e+1,l,!0,!0,!0)&&((c=null!==t.tag&&"?"!==t.tag||t.dump&&t.dump.length>1024)&&(t.dump&&u===t.dump.charCodeAt(0)?f+="?":f+="? "),f+=t.dump,c&&(f+=F(t,e)),J(t,e+1,a,!0,c)&&(t.dump&&u===t.dump.charCodeAt(0)?f+=":":f+=": ",f+=t.dump,d+=f));t.tag=p,t.dump=d||"{}"}(t,e,t.dump,o),f&&(t.dump="&ref_"+c+t.dump)):(function(t,e,n){var r,i,o,s,l,a="",c=t.tag,u=Object.keys(n);for(r=0,i=u.length;r<i;r+=1)l=t.condenseFlow?'"':"",0!==r&&(l+=", "),o=u[r],s=n[o],J(t,e,o,!1,!1)&&(t.dump.length>1024&&(l+="? "),l+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),J(t,e,s,!1,!1)&&(l+=t.dump,a+=l));t.tag=c,t.dump="{"+a+"}"}(t,e,t.dump),f&&(t.dump="&ref_"+c+" "+t.dump));else if("[object Array]"===a){var p=t.noArrayIndent&&e>0?e-1:e;r&&0!==t.dump.length?(function(t,e,n,r){var i,o,s="",l=t.tag;for(i=0,o=n.length;i<o;i+=1)J(t,e+1,n[i],!0,!0)&&(r&&0===i||(s+=F(t,e)),t.dump&&u===t.dump.charCodeAt(0)?s+="-":s+="- ",s+=t.dump);t.tag=l,t.dump=s||"[]"}(t,p,t.dump,o),f&&(t.dump="&ref_"+c+t.dump)):(function(t,e,n){var r,i,o="",s=t.tag;for(r=0,i=n.length;r<i;r+=1)J(t,e,n[r],!1,!1)&&(0!==r&&(o+=","+(t.condenseFlow?"":" ")),o+=t.dump);t.tag=s,t.dump="["+o+"]"}(t,p,t.dump),f&&(t.dump="&ref_"+c+" "+t.dump))}else{if("[object String]"!==a){if(t.skipInvalid)return!1;throw new i("unacceptable kind of an object to dump "+a)}"?"!==t.tag&&W(t,t.dump,e,s)}null!==t.tag&&"?"!==t.tag&&(t.dump="!<"+t.tag+"> "+t.dump)}return!0}function Q(t,e){var n,r,i=[],o=[];for(function t(e,n,r){var i,o,s;if(null!==e&&"object"==typeof e)if(-1!==(o=n.indexOf(e)))-1===r.indexOf(o)&&r.push(o);else if(n.push(e),Array.isArray(e))for(o=0,s=e.length;o<s;o+=1)t(e[o],n,r);else for(i=Object.keys(e),o=0,s=i.length;o<s;o+=1)t(e[i[o]],n,r)}(t,i,o),n=0,r=o.length;n<r;n+=1)e.duplicates.push(i[o[n]]);e.usedDuplicates=new Array(r)}function tt(t,e){var n=new N(e=e||{});return n.noRefs||Q(t,n),J(n,0,t,!0,!0)?n.dump+"\n":""}e.exports.dump=tt,e.exports.safeDump=function(t,e){return tt(t,r.extend({schema:s},e))}},{"./common":2,"./exception":4,"./schema/default_full":9,"./schema/default_safe":10}],4:[function(t,e,n){function r(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r.prototype.toString=function(t){var e=this.name+": ";return e+=this.reason||"(unknown reason)",!t&&this.mark&&(e+=" "+this.mark.toString()),e},e.exports=r},{}],5:[function(t,e,n){var r=t("./common"),i=t("./exception"),o=t("./mark"),s=t("./schema/default_safe"),l=t("./schema/default_full"),a=Object.prototype.hasOwnProperty,c=1,u=2,f=3,d=4,p=1,h=2,m=3,g=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,y=/[\x85\u2028\u2029]/,b=/[,\[\]\{\}]/,v=/^(?:!|!!|![a-z\-]+!)$/i,$=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function w(t){return Object.prototype.toString.call(t)}function x(t){return 10===t||13===t}function k(t){return 9===t||32===t}function A(t){return 9===t||32===t||10===t||13===t}function _(t){return 44===t||91===t||93===t||123===t||125===t}function S(t){var e;return 48<=t&&t<=57?t-48:97<=(e=32|t)&&e<=102?e-97+10:-1}function C(t){return 48===t?"\0":97===t?"":98===t?"\b":116===t?"\t":9===t?"\t":110===t?"\n":118===t?"\v":102===t?"\f":114===t?"\r":101===t?"":32===t?" ":34===t?'"':47===t?"/":92===t?"\\":78===t?"":95===t?" ":76===t?"\u2028":80===t?"\u2029":""}function O(t){return t<=65535?String.fromCharCode(t):String.fromCharCode(55296+(t-65536>>10),56320+(t-65536&1023))}for(var T=new Array(256),E=new Array(256),I=0;I<256;I++)T[I]=C(I)?1:0,E[I]=C(I);function j(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||l,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function M(t,e){return new i(e,new o(t.filename,t.input,t.position,t.line,t.position-t.lineStart))}function N(t,e){throw M(t,e)}function B(t,e){t.onWarning&&t.onWarning.call(null,M(t,e))}var F={YAML:function(t,e,n){var r,i,o;null!==t.version&&N(t,"duplication of %YAML directive"),1!==n.length&&N(t,"YAML directive accepts exactly one argument"),null===(r=/^([0-9]+)\.([0-9]+)$/.exec(n[0]))&&N(t,"ill-formed argument of the YAML directive"),i=parseInt(r[1],10),o=parseInt(r[2],10),1!==i&&N(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=o<2,1!==o&&2!==o&&B(t,"unsupported YAML version of the document")},TAG:function(t,e,n){var r,i;2!==n.length&&N(t,"TAG directive accepts exactly two arguments"),r=n[0],i=n[1],v.test(r)||N(t,"ill-formed tag handle (first argument) of the TAG directive"),a.call(t.tagMap,r)&&N(t,'there is a previously declared suffix for "'+r+'" tag handle'),$.test(i)||N(t,"ill-formed tag prefix (second argument) of the TAG directive"),t.tagMap[r]=i}};function L(t,e,n,r){var i,o,s,l;if(e<n){if(l=t.input.slice(e,n),r)for(i=0,o=l.length;i<o;i+=1)9===(s=l.charCodeAt(i))||32<=s&&s<=1114111||N(t,"expected valid JSON character");else g.test(l)&&N(t,"the stream contains non-printable characters");t.result+=l}}function R(t,e,n,i){var o,s,l,c;for(r.isObject(n)||N(t,"cannot merge mappings; the provided source object is unacceptable"),o=Object.keys(n),l=0,c=o.length;l<c;l+=1)s=o[l],a.call(e,s)||(e[s]=n[s],i[s]=!0)}function D(t,e,n,r,i,o,s,l){var c,u;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),c=0,u=i.length;c<u;c+=1)Array.isArray(i[c])&&N(t,"nested arrays are not supported inside keys"),"object"==typeof i&&"[object Object]"===w(i[c])&&(i[c]="[object Object]");if("object"==typeof i&&"[object Object]"===w(i)&&(i="[object Object]"),i=String(i),null===e&&(e={}),"tag:yaml.org,2002:merge"===r)if(Array.isArray(o))for(c=0,u=o.length;c<u;c+=1)R(t,e,o[c],n);else R(t,e,o,n);else t.json||a.call(n,i)||!a.call(e,i)||(t.line=s||t.line,t.position=l||t.position,N(t,"duplicated mapping key")),e[i]=o,delete n[i];return e}function P(t){var e;10===(e=t.input.charCodeAt(t.position))?t.position++:13===e?(t.position++,10===t.input.charCodeAt(t.position)&&t.position++):N(t,"a line break is expected"),t.line+=1,t.lineStart=t.position}function z(t,e,n){for(var r=0,i=t.input.charCodeAt(t.position);0!==i;){for(;k(i);)i=t.input.charCodeAt(++t.position);if(e&&35===i)do{i=t.input.charCodeAt(++t.position)}while(10!==i&&13!==i&&0!==i);if(!x(i))break;for(P(t),i=t.input.charCodeAt(t.position),r++,t.lineIndent=0;32===i;)t.lineIndent++,i=t.input.charCodeAt(++t.position)}return-1!==n&&0!==r&&t.lineIndent<n&&B(t,"deficient indentation"),r}function H(t){var e,n=t.position;return!(45!==(e=t.input.charCodeAt(n))&&46!==e||e!==t.input.charCodeAt(n+1)||e!==t.input.charCodeAt(n+2)||(n+=3,0!==(e=t.input.charCodeAt(n))&&!A(e)))}function U(t,e){1===e?t.result+=" ":e>1&&(t.result+=r.repeat("\n",e-1))}function Z(t,e){var n,r,i=t.tag,o=t.anchor,s=[],l=!1;for(null!==t.anchor&&(t.anchorMap[t.anchor]=s),r=t.input.charCodeAt(t.position);0!==r&&45===r&&A(t.input.charCodeAt(t.position+1));)if(l=!0,t.position++,z(t,!0,-1)&&t.lineIndent<=e)s.push(null),r=t.input.charCodeAt(t.position);else if(n=t.line,W(t,e,f,!1,!0),s.push(t.result),z(t,!0,-1),r=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&0!==r)N(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break;return!!l&&(t.tag=i,t.anchor=o,t.kind="sequence",t.result=s,!0)}function G(t){var e,n,r,i,o=!1,s=!1;if(33!==(i=t.input.charCodeAt(t.position)))return!1;if(null!==t.tag&&N(t,"duplication of a tag property"),60===(i=t.input.charCodeAt(++t.position))?(o=!0,i=t.input.charCodeAt(++t.position)):33===i?(s=!0,n="!!",i=t.input.charCodeAt(++t.position)):n="!",e=t.position,o){do{i=t.input.charCodeAt(++t.position)}while(0!==i&&62!==i);t.position<t.length?(r=t.input.slice(e,t.position),i=t.input.charCodeAt(++t.position)):N(t,"unexpected end of the stream within a verbatim tag")}else{for(;0!==i&&!A(i);)33===i&&(s?N(t,"tag suffix cannot contain exclamation marks"):(n=t.input.slice(e-1,t.position+1),v.test(n)||N(t,"named tag handle cannot contain such characters"),s=!0,e=t.position+1)),i=t.input.charCodeAt(++t.position);r=t.input.slice(e,t.position),b.test(r)&&N(t,"tag suffix cannot contain flow indicator characters")}return r&&!$.test(r)&&N(t,"tag name cannot contain such characters: "+r),o?t.tag=r:a.call(t.tagMap,n)?t.tag=t.tagMap[n]+r:"!"===n?t.tag="!"+r:"!!"===n?t.tag="tag:yaml.org,2002:"+r:N(t,'undeclared tag handle "'+n+'"'),!0}function q(t){var e,n;if(38!==(n=t.input.charCodeAt(t.position)))return!1;for(null!==t.anchor&&N(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;0!==n&&!A(n)&&!_(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&N(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function W(t,e,n,i,o){var s,l,g,y,b,v,$,w,C=1,I=!1,j=!1;if(null!==t.listener&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,s=l=g=d===n||f===n,i&&z(t,!0,-1)&&(I=!0,t.lineIndent>e?C=1:t.lineIndent===e?C=0:t.lineIndent<e&&(C=-1)),1===C)for(;G(t)||q(t);)z(t,!0,-1)?(I=!0,g=s,t.lineIndent>e?C=1:t.lineIndent===e?C=0:t.lineIndent<e&&(C=-1)):g=!1;if(g&&(g=I||o),1!==C&&d!==n||($=c===n||u===n?e:e+1,w=t.position-t.lineStart,1===C?g&&(Z(t,w)||function(t,e,n){var r,i,o,s,l,a=t.tag,c=t.anchor,f={},p={},h=null,m=null,g=null,y=!1,b=!1;for(null!==t.anchor&&(t.anchorMap[t.anchor]=f),l=t.input.charCodeAt(t.position);0!==l;){if(r=t.input.charCodeAt(t.position+1),o=t.line,s=t.position,63!==l&&58!==l||!A(r)){if(!W(t,n,u,!1,!0))break;if(t.line===o){for(l=t.input.charCodeAt(t.position);k(l);)l=t.input.charCodeAt(++t.position);if(58===l)A(l=t.input.charCodeAt(++t.position))||N(t,"a whitespace character is expected after the key-value separator within a block mapping"),y&&(D(t,f,p,h,m,null),h=m=g=null),b=!0,y=!1,i=!1,h=t.tag,m=t.result;else{if(!b)return t.tag=a,t.anchor=c,!0;N(t,"can not read an implicit mapping pair; a colon is missed")}}else{if(!b)return t.tag=a,t.anchor=c,!0;N(t,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===l?(y&&(D(t,f,p,h,m,null),h=m=g=null),b=!0,y=!0,i=!0):y?(y=!1,i=!0):N(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,l=r;if((t.line===o||t.lineIndent>e)&&(W(t,e,d,!0,i)&&(y?m=t.result:g=t.result),y||(D(t,f,p,h,m,g,o,s),h=m=g=null),z(t,!0,-1),l=t.input.charCodeAt(t.position)),t.lineIndent>e&&0!==l)N(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return y&&D(t,f,p,h,m,null),b&&(t.tag=a,t.anchor=c,t.kind="mapping",t.result=f),b}(t,w,$))||function(t,e){var n,r,i,o,s,l,a,u,f,d,p=!0,h=t.tag,m=t.anchor,g={};if(91===(d=t.input.charCodeAt(t.position)))i=93,l=!1,r=[];else{if(123!==d)return!1;i=125,l=!0,r={}}for(null!==t.anchor&&(t.anchorMap[t.anchor]=r),d=t.input.charCodeAt(++t.position);0!==d;){if(z(t,!0,e),(d=t.input.charCodeAt(t.position))===i)return t.position++,t.tag=h,t.anchor=m,t.kind=l?"mapping":"sequence",t.result=r,!0;p||N(t,"missed comma between flow collection entries"),u=a=f=null,o=s=!1,63===d&&A(t.input.charCodeAt(t.position+1))&&(o=s=!0,t.position++,z(t,!0,e)),n=t.line,W(t,e,c,!1,!0),u=t.tag,a=t.result,z(t,!0,e),d=t.input.charCodeAt(t.position),!s&&t.line!==n||58!==d||(o=!0,d=t.input.charCodeAt(++t.position),z(t,!0,e),W(t,e,c,!1,!0),f=t.result),l?D(t,r,g,u,a,f):o?r.push(D(t,null,g,u,a,f)):r.push(a),z(t,!0,e),44===(d=t.input.charCodeAt(t.position))?(p=!0,d=t.input.charCodeAt(++t.position)):p=!1}N(t,"unexpected end of the stream within a flow collection")}(t,$)?j=!0:(l&&function(t,e){var n,i,o,s,l,a=p,c=!1,u=!1,f=e,d=0,g=!1;if(124===(s=t.input.charCodeAt(t.position)))i=!1;else{if(62!==s)return!1;i=!0}for(t.kind="scalar",t.result="";0!==s;)if(43===(s=t.input.charCodeAt(++t.position))||45===s)p===a?a=43===s?m:h:N(t,"repeat of a chomping mode identifier");else{if(!((o=48<=(l=s)&&l<=57?l-48:-1)>=0))break;0===o?N(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):u?N(t,"repeat of an indentation width identifier"):(f=e+o-1,u=!0)}if(k(s)){do{s=t.input.charCodeAt(++t.position)}while(k(s));if(35===s)do{s=t.input.charCodeAt(++t.position)}while(!x(s)&&0!==s)}for(;0!==s;){for(P(t),t.lineIndent=0,s=t.input.charCodeAt(t.position);(!u||t.lineIndent<f)&&32===s;)t.lineIndent++,s=t.input.charCodeAt(++t.position);if(!u&&t.lineIndent>f&&(f=t.lineIndent),x(s))d++;else{if(t.lineIndent<f){a===m?t.result+=r.repeat("\n",c?1+d:d):a===p&&c&&(t.result+="\n");break}for(i?k(s)?(g=!0,t.result+=r.repeat("\n",c?1+d:d)):g?(g=!1,t.result+=r.repeat("\n",d+1)):0===d?c&&(t.result+=" "):t.result+=r.repeat("\n",d):t.result+=r.repeat("\n",c?1+d:d),c=!0,u=!0,d=0,n=t.position;!x(s)&&0!==s;)s=t.input.charCodeAt(++t.position);L(t,n,t.position,!1)}}return!0}(t,$)||function(t,e){var n,r,i;if(39!==(n=t.input.charCodeAt(t.position)))return!1;for(t.kind="scalar",t.result="",t.position++,r=i=t.position;0!==(n=t.input.charCodeAt(t.position));)if(39===n){if(L(t,r,t.position,!0),39!==(n=t.input.charCodeAt(++t.position)))return!0;r=t.position,t.position++,i=t.position}else x(n)?(L(t,r,i,!0),U(t,z(t,!1,e)),r=i=t.position):t.position===t.lineStart&&H(t)?N(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);N(t,"unexpected end of the stream within a single quoted scalar")}(t,$)||function(t,e){var n,r,i,o,s,l,a;if(34!==(l=t.input.charCodeAt(t.position)))return!1;for(t.kind="scalar",t.result="",t.position++,n=r=t.position;0!==(l=t.input.charCodeAt(t.position));){if(34===l)return L(t,n,t.position,!0),t.position++,!0;if(92===l){if(L(t,n,t.position,!0),x(l=t.input.charCodeAt(++t.position)))z(t,!1,e);else if(l<256&&T[l])t.result+=E[l],t.position++;else if((s=120===(a=l)?2:117===a?4:85===a?8:0)>0){for(i=s,o=0;i>0;i--)l=t.input.charCodeAt(++t.position),(s=S(l))>=0?o=(o<<4)+s:N(t,"expected hexadecimal character");t.result+=O(o),t.position++}else N(t,"unknown escape sequence");n=r=t.position}else x(l)?(L(t,n,r,!0),U(t,z(t,!1,e)),n=r=t.position):t.position===t.lineStart&&H(t)?N(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position)}N(t,"unexpected end of the stream within a double quoted scalar")}(t,$)?j=!0:function(t){var e,n,r;if(42!==(r=t.input.charCodeAt(t.position)))return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;0!==r&&!A(r)&&!_(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&N(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),t.anchorMap.hasOwnProperty(n)||N(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],z(t,!0,-1),!0}(t)?(j=!0,null===t.tag&&null===t.anchor||N(t,"alias node should not have any properties")):function(t,e,n){var r,i,o,s,l,a,c,u,f=t.kind,d=t.result;if(A(u=t.input.charCodeAt(t.position))||_(u)||35===u||38===u||42===u||33===u||124===u||62===u||39===u||34===u||37===u||64===u||96===u)return!1;if((63===u||45===u)&&(A(r=t.input.charCodeAt(t.position+1))||n&&_(r)))return!1;for(t.kind="scalar",t.result="",i=o=t.position,s=!1;0!==u;){if(58===u){if(A(r=t.input.charCodeAt(t.position+1))||n&&_(r))break}else if(35===u){if(A(t.input.charCodeAt(t.position-1)))break}else{if(t.position===t.lineStart&&H(t)||n&&_(u))break;if(x(u)){if(l=t.line,a=t.lineStart,c=t.lineIndent,z(t,!1,-1),t.lineIndent>=e){s=!0,u=t.input.charCodeAt(t.position);continue}t.position=o,t.line=l,t.lineStart=a,t.lineIndent=c;break}}s&&(L(t,i,o,!1),U(t,t.line-l),i=o=t.position,s=!1),k(u)||(o=t.position+1),u=t.input.charCodeAt(++t.position)}return L(t,i,o,!1),!!t.result||(t.kind=f,t.result=d,!1)}(t,$,c===n)&&(j=!0,null===t.tag&&(t.tag="?")),null!==t.anchor&&(t.anchorMap[t.anchor]=t.result)):0===C&&(j=g&&Z(t,w))),null!==t.tag&&"!"!==t.tag)if("?"===t.tag){for(y=0,b=t.implicitTypes.length;y<b;y+=1)if((v=t.implicitTypes[y]).resolve(t.result)){t.result=v.construct(t.result),t.tag=v.tag,null!==t.anchor&&(t.anchorMap[t.anchor]=t.result);break}}else a.call(t.typeMap[t.kind||"fallback"],t.tag)?(v=t.typeMap[t.kind||"fallback"][t.tag],null!==t.result&&v.kind!==t.kind&&N(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+v.kind+'", not "'+t.kind+'"'),v.resolve(t.result)?(t.result=v.construct(t.result),null!==t.anchor&&(t.anchorMap[t.anchor]=t.result)):N(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")):N(t,"unknown tag !<"+t.tag+">");return null!==t.listener&&t.listener("close",t),null!==t.tag||null!==t.anchor||j}function X(t){var e,n,r,i,o=t.position,s=!1;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap={},t.anchorMap={};0!==(i=t.input.charCodeAt(t.position))&&(z(t,!0,-1),i=t.input.charCodeAt(t.position),!(t.lineIndent>0||37!==i));){for(s=!0,i=t.input.charCodeAt(++t.position),e=t.position;0!==i&&!A(i);)i=t.input.charCodeAt(++t.position);for(n=t.input.slice(e,t.position),r=[],n.length<1&&N(t,"directive name must not be less than one character in length");0!==i;){for(;k(i);)i=t.input.charCodeAt(++t.position);if(35===i){do{i=t.input.charCodeAt(++t.position)}while(0!==i&&!x(i));break}if(x(i))break;for(e=t.position;0!==i&&!A(i);)i=t.input.charCodeAt(++t.position);r.push(t.input.slice(e,t.position))}0!==i&&P(t),a.call(F,n)?F[n](t,n,r):B(t,'unknown document directive "'+n+'"')}z(t,!0,-1),0===t.lineIndent&&45===t.input.charCodeAt(t.position)&&45===t.input.charCodeAt(t.position+1)&&45===t.input.charCodeAt(t.position+2)?(t.position+=3,z(t,!0,-1)):s&&N(t,"directives end mark is expected"),W(t,t.lineIndent-1,d,!1,!0),z(t,!0,-1),t.checkLineBreaks&&y.test(t.input.slice(o,t.position))&&B(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&H(t)?46===t.input.charCodeAt(t.position)&&(t.position+=3,z(t,!0,-1)):t.position<t.length-1&&N(t,"end of the stream or a document separator is expected")}function K(t,e){t=String(t),e=e||{},0!==t.length&&(10!==t.charCodeAt(t.length-1)&&13!==t.charCodeAt(t.length-1)&&(t+="\n"),65279===t.charCodeAt(0)&&(t=t.slice(1)));var n=new j(t,e);for(n.input+="\0";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)X(n);return n.documents}function Y(t,e,n){var r,i,o=K(t,n);if("function"!=typeof e)return o;for(r=0,i=o.length;r<i;r+=1)e(o[r])}function V(t,e){var n=K(t,e);if(0!==n.length){if(1===n.length)return n[0];throw new i("expected a single document in the stream, but found more")}}e.exports.loadAll=Y,e.exports.load=V,e.exports.safeLoadAll=function(t,e,n){if("function"!=typeof e)return Y(t,r.extend({schema:s},n));Y(t,e,r.extend({schema:s},n))},e.exports.safeLoad=function(t,e){return V(t,r.extend({schema:s},e))}},{"./common":2,"./exception":4,"./mark":6,"./schema/default_full":9,"./schema/default_safe":10}],6:[function(t,e,n){var r=t("./common");function i(t,e,n,r,i){this.name=t,this.buffer=e,this.position=n,this.line=r,this.column=i}i.prototype.getSnippet=function(t,e){var n,i,o,s,l;if(!this.buffer)return null;for(t=t||4,e=e||75,n="",i=this.position;i>0&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(i-1));)if(i-=1,this.position-i>e/2-1){n=" ... ",i+=5;break}for(o="",s=this.position;s<this.buffer.length&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(s));)if((s+=1)-this.position>e/2-1){o=" ... ",s-=5;break}return l=this.buffer.slice(i,s),r.repeat(" ",t)+n+l+o+"\n"+r.repeat(" ",t+this.position-i+n.length)+"^"},i.prototype.toString=function(t){var e,n="";return this.name&&(n+='in "'+this.name+'" '),n+="at line "+(this.line+1)+", column "+(this.column+1),t||(e=this.getSnippet())&&(n+=":\n"+e),n},e.exports=i},{"./common":2}],7:[function(t,e,n){var r=t("./common"),i=t("./exception"),o=t("./type");function s(t,e,n){var r=[];return t.include.forEach(function(t){n=s(t,e,n)}),t[e].forEach(function(t){n.forEach(function(e,n){e.tag===t.tag&&e.kind===t.kind&&r.push(n)}),n.push(t)}),n.filter(function(t,e){return-1===r.indexOf(e)})}function l(t){this.include=t.include||[],this.implicit=t.implicit||[],this.explicit=t.explicit||[],this.implicit.forEach(function(t){if(t.loadKind&&"scalar"!==t.loadKind)throw new i("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=s(this,"implicit",[]),this.compiledExplicit=s(this,"explicit",[]),this.compiledTypeMap=function(){var t,e,n={scalar:{},sequence:{},mapping:{},fallback:{}};function r(t){n[t.kind][t.tag]=n.fallback[t.tag]=t}for(t=0,e=arguments.length;t<e;t+=1)arguments[t].forEach(r);return n}(this.compiledImplicit,this.compiledExplicit)}l.DEFAULT=null,l.create=function(){var t,e;switch(arguments.length){case 1:t=l.DEFAULT,e=arguments[0];break;case 2:t=arguments[0],e=arguments[1];break;default:throw new i("Wrong number of arguments for Schema.create function")}if(t=r.toArray(t),e=r.toArray(e),!t.every(function(t){return t instanceof l}))throw new i("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!e.every(function(t){return t instanceof o}))throw new i("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new l({include:t,explicit:e})},e.exports=l},{"./common":2,"./exception":4,"./type":13}],8:[function(t,e,n){var r=t("../schema");e.exports=new r({include:[t("./json")]})},{"../schema":7,"./json":12}],9:[function(t,e,n){var r=t("../schema");e.exports=r.DEFAULT=new r({include:[t("./default_safe")],explicit:[t("../type/js/undefined"),t("../type/js/regexp"),t("../type/js/function")]})},{"../schema":7,"../type/js/function":18,"../type/js/regexp":19,"../type/js/undefined":20,"./default_safe":10}],10:[function(t,e,n){var r=t("../schema");e.exports=new r({include:[t("./core")],implicit:[t("../type/timestamp"),t("../type/merge")],explicit:[t("../type/binary"),t("../type/omap"),t("../type/pairs"),t("../type/set")]})},{"../schema":7,"../type/binary":14,"../type/merge":22,"../type/omap":24,"../type/pairs":25,"../type/set":27,"../type/timestamp":29,"./core":8}],11:[function(t,e,n){var r=t("../schema");e.exports=new r({explicit:[t("../type/str"),t("../type/seq"),t("../type/map")]})},{"../schema":7,"../type/map":21,"../type/seq":26,"../type/str":28}],12:[function(t,e,n){var r=t("../schema");e.exports=new r({include:[t("./failsafe")],implicit:[t("../type/null"),t("../type/bool"),t("../type/int"),t("../type/float")]})},{"../schema":7,"../type/bool":15,"../type/float":16,"../type/int":17,"../type/null":23,"./failsafe":11}],13:[function(t,e,n){var r=t("./exception"),i=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],o=["scalar","sequence","mapping"];e.exports=function(t,e){if(e=e||{},Object.keys(e).forEach(function(e){if(-1===i.indexOf(e))throw new r('Unknown option "'+e+'" is met in definition of "'+t+'" YAML type.')}),this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(t){return t},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.defaultStyle=e.defaultStyle||null,this.styleAliases=(n=e.styleAliases||null,s={},null!==n&&Object.keys(n).forEach(function(t){n[t].forEach(function(e){s[String(e)]=t})}),s),-1===o.indexOf(this.kind))throw new r('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.');var n,s}},{"./exception":4}],14:[function(t,e,n){var r,i=t("../type"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";e.exports=new i("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(t){if(null===t)return!1;var e,n,r=0,i=t.length,s=o;for(n=0;n<i;n++)if(!((e=s.indexOf(t.charAt(n)))>64)){if(e<0)return!1;r+=6}return r%8==0},construct:function(t){var e,n,r=t.replace(/[\r\n=]/g,""),i=r.length,s=o,l=0,a=[];for(e=0;e<i;e++)e%4==0&&e&&(a.push(l>>16&255),a.push(l>>8&255),a.push(255&l)),l=l<<6|s.indexOf(r.charAt(e));return 0==(n=i%4*6)?(a.push(l>>16&255),a.push(l>>8&255),a.push(255&l)):18===n?(a.push(l>>10&255),a.push(l>>2&255)):12===n&&a.push(l>>4&255),a},predicate:function(t){return r&&r.isBuffer(t)},represent:function(t){var e,n,r="",i=0,s=t.length,l=o;for(e=0;e<s;e++)e%3==0&&e&&(r+=l[i>>18&63],r+=l[i>>12&63],r+=l[i>>6&63],r+=l[63&i]),i=(i<<8)+t[e];return 0==(n=s%3)?(r+=l[i>>18&63],r+=l[i>>12&63],r+=l[i>>6&63],r+=l[63&i]):2===n?(r+=l[i>>10&63],r+=l[i>>4&63],r+=l[i<<2&63],r+=l[64]):1===n&&(r+=l[i>>2&63],r+=l[i<<4&63],r+=l[64],r+=l[64]),r}})},{"../type":13}],15:[function(t,e,n){var r=t("../type");e.exports=new r("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(t){if(null===t)return!1;var e=t.length;return 4===e&&("true"===t||"True"===t||"TRUE"===t)||5===e&&("false"===t||"False"===t||"FALSE"===t)},construct:function(t){return"true"===t||"True"===t||"TRUE"===t},predicate:function(t){return"[object Boolean]"===Object.prototype.toString.call(t)},represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"})},{"../type":13}],16:[function(t,e,n){var r=t("../common"),i=t("../type"),o=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),s=/^[-+]?[0-9]+e/;e.exports=new i("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(t){return null!==t&&!(!o.test(t)||"_"===t[t.length-1])},construct:function(t){var e,n,r,i;return e=t.replace(/_/g,"").toLowerCase(),n="-"===e[0]?-1:1,i=[],"+-".indexOf(e[0])>=0&&(e=e.slice(1)),".inf"===e?1===n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===e?NaN:e.indexOf(":")>=0?(e.split(":").forEach(function(t){i.unshift(parseFloat(t,10))}),e=0,r=1,i.forEach(function(t){e+=t*r,r*=60}),n*e):n*parseFloat(e,10)},predicate:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&(t%1!=0||r.isNegativeZero(t))},represent:function(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(r.isNegativeZero(t))return"-0.0";return n=t.toString(10),s.test(n)?n.replace("e",".e"):n},defaultStyle:"lowercase"})},{"../common":2,"../type":13}],17:[function(t,e,n){var r=t("../common"),i=t("../type");function o(t){return 48<=t&&t<=55}function s(t){return 48<=t&&t<=57}e.exports=new i("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(t){if(null===t)return!1;var e,n,r=t.length,i=0,l=!1;if(!r)return!1;if("-"!==(e=t[i])&&"+"!==e||(e=t[++i]),"0"===e){if(i+1===r)return!0;if("b"===(e=t[++i])){for(i++;i<r;i++)if("_"!==(e=t[i])){if("0"!==e&&"1"!==e)return!1;l=!0}return l&&"_"!==e}if("x"===e){for(i++;i<r;i++)if("_"!==(e=t[i])){if(!(48<=(n=t.charCodeAt(i))&&n<=57||65<=n&&n<=70||97<=n&&n<=102))return!1;l=!0}return l&&"_"!==e}for(;i<r;i++)if("_"!==(e=t[i])){if(!o(t.charCodeAt(i)))return!1;l=!0}return l&&"_"!==e}if("_"===e)return!1;for(;i<r;i++)if("_"!==(e=t[i])){if(":"===e)break;if(!s(t.charCodeAt(i)))return!1;l=!0}return!(!l||"_"===e)&&(":"!==e||/^(:[0-5]?[0-9])+$/.test(t.slice(i)))},construct:function(t){var e,n,r=t,i=1,o=[];return-1!==r.indexOf("_")&&(r=r.replace(/_/g,"")),"-"!==(e=r[0])&&"+"!==e||("-"===e&&(i=-1),r=r.slice(1),e=r[0]),"0"===r?0:"0"===e?"b"===r[1]?i*parseInt(r.slice(2),2):"x"===r[1]?i*parseInt(r,16):i*parseInt(r,8):-1!==r.indexOf(":")?(r.split(":").forEach(function(t){o.unshift(parseInt(t,10))}),r=0,n=1,o.forEach(function(t){r+=t*n,n*=60}),i*r):i*parseInt(r,10)},predicate:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&t%1==0&&!r.isNegativeZero(t)},represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0"+t.toString(8):"-0"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},{"../common":2,"../type":13}],18:[function(t,e,n){var r;r=window.esprima;var i=t("../../type");e.exports=new i("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:function(t){if(null===t)return!1;try{var e="("+t+")",n=r.parse(e,{range:!0});return"Program"===n.type&&1===n.body.length&&"ExpressionStatement"===n.body[0].type&&("ArrowFunctionExpression"===n.body[0].expression.type||"FunctionExpression"===n.body[0].expression.type)}catch(t){return!1}},construct:function(t){var e,n="("+t+")",i=r.parse(n,{range:!0}),o=[];if("Program"!==i.type||1!==i.body.length||"ExpressionStatement"!==i.body[0].type||"ArrowFunctionExpression"!==i.body[0].expression.type&&"FunctionExpression"!==i.body[0].expression.type)throw new Error("Failed to resolve function");return i.body[0].expression.params.forEach(function(t){o.push(t.name)}),e=i.body[0].expression.body.range,"BlockStatement"===i.body[0].expression.body.type?new Function(o,n.slice(e[0]+1,e[1]-1)):new Function(o,"return "+n.slice(e[0],e[1]))},predicate:function(t){return"[object Function]"===Object.prototype.toString.call(t)},represent:function(t){return t.toString()}})},{"../../type":13}],19:[function(t,e,n){var r=t("../../type");e.exports=new r("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:function(t){if(null===t)return!1;if(0===t.length)return!1;var e=t,n=/\/([gim]*)$/.exec(t),r="";if("/"===e[0]){if(n&&(r=n[1]),r.length>3)return!1;if("/"!==e[e.length-r.length-1])return!1}return!0},construct:function(t){var e=t,n=/\/([gim]*)$/.exec(t),r="";return"/"===e[0]&&(n&&(r=n[1]),e=e.slice(1,e.length-r.length-1)),new RegExp(e,r)},predicate:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},represent:function(t){var e="/"+t.source+"/";return t.global&&(e+="g"),t.multiline&&(e+="m"),t.ignoreCase&&(e+="i"),e}})},{"../../type":13}],20:[function(t,e,n){var r=t("../../type");e.exports=new r("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:function(){return!0},construct:function(){},predicate:function(t){return void 0===t},represent:function(){return""}})},{"../../type":13}],21:[function(t,e,n){var r=t("../type");e.exports=new r("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return null!==t?t:{}}})},{"../type":13}],22:[function(t,e,n){var r=t("../type");e.exports=new r("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(t){return"<<"===t||null===t}})},{"../type":13}],23:[function(t,e,n){var r=t("../type");e.exports=new r("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(t){if(null===t)return!0;var e=t.length;return 1===e&&"~"===t||4===e&&("null"===t||"Null"===t||"NULL"===t)},construct:function(){return null},predicate:function(t){return null===t},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},{"../type":13}],24:[function(t,e,n){var r=t("../type"),i=Object.prototype.hasOwnProperty,o=Object.prototype.toString;e.exports=new r("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(t){if(null===t)return!0;var e,n,r,s,l,a=[],c=t;for(e=0,n=c.length;e<n;e+=1){if(r=c[e],l=!1,"[object Object]"!==o.call(r))return!1;for(s in r)if(i.call(r,s)){if(l)return!1;l=!0}if(!l)return!1;if(-1!==a.indexOf(s))return!1;a.push(s)}return!0},construct:function(t){return null!==t?t:[]}})},{"../type":13}],25:[function(t,e,n){var r=t("../type"),i=Object.prototype.toString;e.exports=new r("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(t){if(null===t)return!0;var e,n,r,o,s,l=t;for(s=new Array(l.length),e=0,n=l.length;e<n;e+=1){if(r=l[e],"[object Object]"!==i.call(r))return!1;if(1!==(o=Object.keys(r)).length)return!1;s[e]=[o[0],r[o[0]]]}return!0},construct:function(t){if(null===t)return[];var e,n,r,i,o,s=t;for(o=new Array(s.length),e=0,n=s.length;e<n;e+=1)r=s[e],i=Object.keys(r),o[e]=[i[0],r[i[0]]];return o}})},{"../type":13}],26:[function(t,e,n){var r=t("../type");e.exports=new r("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return null!==t?t:[]}})},{"../type":13}],27:[function(t,e,n){var r=t("../type"),i=Object.prototype.hasOwnProperty;e.exports=new r("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(t){if(null===t)return!0;var e,n=t;for(e in n)if(i.call(n,e)&&null!==n[e])return!1;return!0},construct:function(t){return null!==t?t:{}}})},{"../type":13}],28:[function(t,e,n){var r=t("../type");e.exports=new r("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return null!==t?t:""}})},{"../type":13}],29:[function(t,e,n){var r=t("../type"),i=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),o=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");e.exports=new r("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(t){return null!==t&&(null!==i.exec(t)||null!==o.exec(t))},construct:function(t){var e,n,r,s,l,a,c,u,f,d,p=0,h=null;if(null===(e=i.exec(t))&&(e=o.exec(t)),null===e)throw new Error("Date resolve error");if(n=+e[1],r=+e[2]-1,s=+e[3],!e[4])return new Date(Date.UTC(n,r,s));if(l=+e[4],a=+e[5],c=+e[6],e[7]){for(p=e[7].slice(0,3);p.length<3;)p+="0";p=+p}return e[9]&&(u=+e[10],f=+(e[11]||0),h=6e4*(60*u+f),"-"===e[9]&&(h=-h)),d=new Date(Date.UTC(n,r,s,l,a,c,p)),h&&d.setTime(d.getTime()-h),d},instanceOf:Date,represent:function(t){return t.toISOString()}})},{"../type":13}],"/":[function(t,e,n){var r=t("./lib/js-yaml.js");e.exports=r},{"./lib/js-yaml.js":1}]},{},[])("/")})),l=n(function(t,e){var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)r(n,i)&&(t[i]=n[i])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var i={arraySet:function(t,e,n,r,i){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+r),i);else for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){var e,n,r,i,o,s;for(r=0,e=0,n=t.length;e<n;e++)r+=t[e].length;for(s=new Uint8Array(r),i=0,e=0,n=t.length;e<n;e++)o=t[e],s.set(o,i),i+=o.length;return s}},o={arraySet:function(t,e,n,r,i){for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,i)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,o))},e.setTyped(n)});l.assign,l.shrinkBuf,l.setTyped,l.Buf8,l.Buf16,l.Buf32;var a=function(t,e,n,r){for(var i=65535&t|0,o=t>>>16&65535|0,s=0;0!==n;){n-=s=n>2e3?2e3:n;do{o=o+(i=i+e[r++]|0)|0}while(--s);i%=65521,o%=65521}return i|o<<16|0};var c=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();var u=function(t,e,n,r){var i=c,o=r+n;t^=-1;for(var s=r;s<o;s++)t=t>>>8^i[255&(t^e[s])];return-1^t},f=function(t,e){var n,r,i,o,s,l,a,c,u,f,d,p,h,m,g,y,b,v,$,w,x,k,A,_,S;n=t.state,r=t.next_in,_=t.input,i=r+(t.avail_in-5),o=t.next_out,S=t.output,s=o-(e-t.avail_out),l=o+(t.avail_out-257),a=n.dmax,c=n.wsize,u=n.whave,f=n.wnext,d=n.window,p=n.hold,h=n.bits,m=n.lencode,g=n.distcode,y=(1<<n.lenbits)-1,b=(1<<n.distbits)-1;t:do{h<15&&(p+=_[r++]<<h,h+=8,p+=_[r++]<<h,h+=8),v=m[p&y];e:for(;;){if(p>>>=$=v>>>24,h-=$,0===($=v>>>16&255))S[o++]=65535&v;else{if(!(16&$)){if(0==(64&$)){v=m[(65535&v)+(p&(1<<$)-1)];continue e}if(32&$){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}w=65535&v,($&=15)&&(h<$&&(p+=_[r++]<<h,h+=8),w+=p&(1<<$)-1,p>>>=$,h-=$),h<15&&(p+=_[r++]<<h,h+=8,p+=_[r++]<<h,h+=8),v=g[p&b];n:for(;;){if(p>>>=$=v>>>24,h-=$,!(16&($=v>>>16&255))){if(0==(64&$)){v=g[(65535&v)+(p&(1<<$)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(x=65535&v,h<($&=15)&&(p+=_[r++]<<h,(h+=8)<$&&(p+=_[r++]<<h,h+=8)),(x+=p&(1<<$)-1)>a){t.msg="invalid distance too far back",n.mode=30;break t}if(p>>>=$,h-=$,x>($=o-s)){if(($=x-$)>u&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(k=0,A=d,0===f){if(k+=c-$,$<w){w-=$;do{S[o++]=d[k++]}while(--$);k=o-x,A=S}}else if(f<$){if(k+=c+f-$,($-=f)<w){w-=$;do{S[o++]=d[k++]}while(--$);if(k=0,f<w){w-=$=f;do{S[o++]=d[k++]}while(--$);k=o-x,A=S}}}else if(k+=f-$,$<w){w-=$;do{S[o++]=d[k++]}while(--$);k=o-x,A=S}for(;w>2;)S[o++]=A[k++],S[o++]=A[k++],S[o++]=A[k++],w-=3;w&&(S[o++]=A[k++],w>1&&(S[o++]=A[k++]))}else{k=o-x;do{S[o++]=S[k++],S[o++]=S[k++],S[o++]=S[k++],w-=3}while(w>2);w&&(S[o++]=S[k++],w>1&&(S[o++]=S[k++]))}break}}break}}while(r<i&&o<l);r-=w=h>>3,p&=(1<<(h-=w<<3))-1,t.next_in=r,t.next_out=o,t.avail_in=r<i?i-r+5:5-(r-i),t.avail_out=o<l?l-o+257:257-(o-l),n.hold=p,n.bits=h},d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],p=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],g=function(t,e,n,r,i,o,s,a){var c,u,f,g,y,b,v,$,w,x=a.bits,k=0,A=0,_=0,S=0,C=0,O=0,T=0,E=0,I=0,j=0,M=null,N=0,B=new l.Buf16(16),F=new l.Buf16(16),L=null,R=0;for(k=0;k<=15;k++)B[k]=0;for(A=0;A<r;A++)B[e[n+A]]++;for(C=x,S=15;S>=1&&0===B[S];S--);if(C>S&&(C=S),0===S)return i[o++]=20971520,i[o++]=20971520,a.bits=1,0;for(_=1;_<S&&0===B[_];_++);for(C<_&&(C=_),E=1,k=1;k<=15;k++)if(E<<=1,(E-=B[k])<0)return-1;if(E>0&&(0===t||1!==S))return-1;for(F[1]=0,k=1;k<15;k++)F[k+1]=F[k]+B[k];for(A=0;A<r;A++)0!==e[n+A]&&(s[F[e[n+A]]++]=A);if(0===t?(M=L=s,b=19):1===t?(M=d,N-=257,L=p,R-=257,b=256):(M=h,L=m,b=-1),j=0,A=0,k=_,y=o,O=C,T=0,f=-1,g=(I=1<<C)-1,1===t&&I>852||2===t&&I>592)return 1;for(;;){v=k-T,s[A]<b?($=0,w=s[A]):s[A]>b?($=L[R+s[A]],w=M[N+s[A]]):($=96,w=0),c=1<<k-T,_=u=1<<O;do{i[y+(j>>T)+(u-=c)]=v<<24|$<<16|w|0}while(0!==u);for(c=1<<k-1;j&c;)c>>=1;if(0!==c?(j&=c-1,j+=c):j=0,A++,0==--B[k]){if(k===S)break;k=e[n+s[A]]}if(k>C&&(j&g)!==f){for(0===T&&(T=C),y+=_,E=1<<(O=k-T);O+T<S&&!((E-=B[O+T])<=0);)O++,E<<=1;if(I+=1<<O,1===t&&I>852||2===t&&I>592)return 1;i[f=j&g]=C<<24|O<<16|y-o|0}}return 0!==j&&(i[y+j]=k-T<<24|64<<16|0),a.bits=C,0},y=0,b=1,v=2,$=4,w=5,x=6,k=0,A=1,_=2,S=-2,C=-3,O=-4,T=-5,E=8,I=1,j=2,M=3,N=4,B=5,F=6,L=7,R=8,D=9,P=10,z=11,H=12,U=13,Z=14,G=15,q=16,W=17,X=18,K=19,Y=20,V=21,J=22,Q=23,tt=24,et=25,nt=26,rt=27,it=28,ot=29,st=30,lt=31,at=32,ct=852,ut=592,ft=15;function dt(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function pt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new l.Buf16(320),this.work=new l.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ht(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=I,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new l.Buf32(ct),e.distcode=e.distdyn=new l.Buf32(ut),e.sane=1,e.back=-1,k):S}function mt(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,ht(t)):S}function gt(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?S:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,mt(t))):S}function yt(t,e){var n,r;return t?(r=new pt,t.state=r,r.window=null,(n=gt(t,e))!==k&&(t.state=null),n):S}var bt,vt,$t=!0;function wt(t){if($t){var e;for(bt=new l.Buf32(512),vt=new l.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(g(b,t.lens,0,288,bt,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;g(v,t.lens,0,32,vt,0,t.work,{bits:5}),$t=!1}t.lencode=bt,t.lenbits=9,t.distcode=vt,t.distbits=5}function xt(t,e,n,r){var i,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new l.Buf8(o.wsize)),r>=o.wsize?(l.arraySet(o.window,e,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((i=o.wsize-o.wnext)>r&&(i=r),l.arraySet(o.window,e,n-r,i,o.wnext),(r-=i)?(l.arraySet(o.window,e,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}var kt={inflateReset:mt,inflateReset2:gt,inflateResetKeep:ht,inflateInit:function(t){return yt(t,ft)},inflateInit2:yt,inflate:function(t,e){var n,r,i,o,s,c,d,p,h,m,ct,ut,ft,pt,ht,mt,gt,yt,bt,vt,$t,kt,At,_t,St=0,Ct=new l.Buf8(4),Ot=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return S;(n=t.state).mode===H&&(n.mode=U),s=t.next_out,i=t.output,d=t.avail_out,o=t.next_in,r=t.input,c=t.avail_in,p=n.hold,h=n.bits,m=c,ct=d,kt=k;t:for(;;)switch(n.mode){case I:if(0===n.wrap){n.mode=U;break}for(;h<16;){if(0===c)break t;c--,p+=r[o++]<<h,h+=8}if(2&n.wrap&&35615===p){n.check=0,Ct[0]=255&p,Ct[1]=p>>>8&255,n.check=u(n.check,Ct,2,0),p=0,h=0,n.mode=j;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&p)<<8)+(p>>8))%31){t.msg="incorrect header check",n.mode=st;break}if((15&p)!==E){t.msg="unknown compression method",n.mode=st;break}if(h-=4,$t=8+(15&(p>>>=4)),0===n.wbits)n.wbits=$t;else if($t>n.wbits){t.msg="invalid window size",n.mode=st;break}n.dmax=1<<$t,t.adler=n.check=1,n.mode=512&p?P:H,p=0,h=0;break;case j:for(;h<16;){if(0===c)break t;c--,p+=r[o++]<<h,h+=8}if(n.flags=p,(255&n.flags)!==E){t.msg="unknown compression method",n.mode=st;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=st;break}n.head&&(n.head.text=p>>8&1),512&n.flags&&(Ct[0]=255&p,Ct[1]=p>>>8&255,n.check=u(n.check,Ct,2,0)),p=0,h=0,n.mode=M;case M:for(;h<32;){if(0===c)break t;c--,p+=r[o++]<<h,h+=8}n.head&&(n.head.time=p),512&n.flags&&(Ct[0]=255&p,Ct[1]=p>>>8&255,Ct[2]=p>>>16&255,Ct[3]=p>>>24&255,n.check=u(n.check,Ct,4,0)),p=0,h=0,n.mode=N;case N:for(;h<16;){if(0===c)break t;c--,p+=r[o++]<<h,h+=8}n.head&&(n.head.xflags=255&p,n.head.os=p>>8),512&n.flags&&(Ct[0]=255&p,Ct[1]=p>>>8&255,n.check=u(n.check,Ct,2,0)),p=0,h=0,n.mode=B;case B:if(1024&n.flags){for(;h<16;){if(0===c)break t;c--,p+=r[o++]<<h,h+=8}n.length=p,n.head&&(n.head.extra_len=p),512&n.flags&&(Ct[0]=255&p,Ct[1]=p>>>8&255,n.check=u(n.check,Ct,2,0)),p=0,h=0}else n.head&&(n.head.extra=null);n.mode=F;case F:if(1024&n.flags&&((ut=n.length)>c&&(ut=c),ut&&(n.head&&($t=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),l.arraySet(n.head.extra,r,o,ut,$t)),512&n.flags&&(n.check=u(n.check,r,ut,o)),c-=ut,o+=ut,n.length-=ut),n.length))break t;n.length=0,n.mode=L;case L:if(2048&n.flags){if(0===c)break t;ut=0;do{$t=r[o+ut++],n.head&&$t&&n.length<65536&&(n.head.name+=String.fromCharCode($t))}while($t&&ut<c);if(512&n.flags&&(n.check=u(n.check,r,ut,o)),c-=ut,o+=ut,$t)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=R;case R:if(4096&n.flags){if(0===c)break t;ut=0;do{$t=r[o+ut++],n.head&&$t&&n.length<65536&&(n.head.comment+=String.fromCharCode($t))}while($t&&ut<c);if(512&n.flags&&(n.check=u(n.check,r,ut,o)),c-=ut,o+=ut,$t)break t}else n.head&&(n.head.comment=null);n.mode=D;case D:if(512&n.flags){for(;h<16;){if(0===c)break t;c--,p+=r[o++]<<h,h+=8}if(p!==(65535&n.check)){t.msg="header crc mismatch",n.mode=st;break}p=0,h=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=H;break;case P:for(;h<32;){if(0===c)break t;c--,p+=r[o++]<<h,h+=8}t.adler=n.check=dt(p),p=0,h=0,n.mode=z;case z:if(0===n.havedict)return t.next_out=s,t.avail_out=d,t.next_in=o,t.avail_in=c,n.hold=p,n.bits=h,_;t.adler=n.check=1,n.mode=H;case H:if(e===w||e===x)break t;case U:if(n.last){p>>>=7&h,h-=7&h,n.mode=rt;break}for(;h<3;){if(0===c)break t;c--,p+=r[o++]<<h,h+=8}switch(n.last=1&p,h-=1,3&(p>>>=1)){case 0:n.mode=Z;break;case 1:if(wt(n),n.mode=Y,e===x){p>>>=2,h-=2;break t}break;case 2:n.mode=W;break;case 3:t.msg="invalid block type",n.mode=st}p>>>=2,h-=2;break;case Z:for(p>>>=7&h,h-=7&h;h<32;){if(0===c)break t;c--,p+=r[o++]<<h,h+=8}if((65535&p)!=(p>>>16^65535)){t.msg="invalid stored block lengths",n.mode=st;break}if(n.length=65535&p,p=0,h=0,n.mode=G,e===x)break t;case G:n.mode=q;case q:if(ut=n.length){if(ut>c&&(ut=c),ut>d&&(ut=d),0===ut)break t;l.arraySet(i,r,o,ut,s),c-=ut,o+=ut,d-=ut,s+=ut,n.length-=ut;break}n.mode=H;break;case W:for(;h<14;){if(0===c)break t;c--,p+=r[o++]<<h,h+=8}if(n.nlen=257+(31&p),p>>>=5,h-=5,n.ndist=1+(31&p),p>>>=5,h-=5,n.ncode=4+(15&p),p>>>=4,h-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=st;break}n.have=0,n.mode=X;case X:for(;n.have<n.ncode;){for(;h<3;){if(0===c)break t;c--,p+=r[o++]<<h,h+=8}n.lens[Ot[n.have++]]=7&p,p>>>=3,h-=3}for(;n.have<19;)n.lens[Ot[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,At={bits:n.lenbits},kt=g(y,n.lens,0,19,n.lencode,0,n.work,At),n.lenbits=At.bits,kt){t.msg="invalid code lengths set",n.mode=st;break}n.have=0,n.mode=K;case K:for(;n.have<n.nlen+n.ndist;){for(;mt=(St=n.lencode[p&(1<<n.lenbits)-1])>>>16&255,gt=65535&St,!((ht=St>>>24)<=h);){if(0===c)break t;c--,p+=r[o++]<<h,h+=8}if(gt<16)p>>>=ht,h-=ht,n.lens[n.have++]=gt;else{if(16===gt){for(_t=ht+2;h<_t;){if(0===c)break t;c--,p+=r[o++]<<h,h+=8}if(p>>>=ht,h-=ht,0===n.have){t.msg="invalid bit length repeat",n.mode=st;break}$t=n.lens[n.have-1],ut=3+(3&p),p>>>=2,h-=2}else if(17===gt){for(_t=ht+3;h<_t;){if(0===c)break t;c--,p+=r[o++]<<h,h+=8}h-=ht,$t=0,ut=3+(7&(p>>>=ht)),p>>>=3,h-=3}else{for(_t=ht+7;h<_t;){if(0===c)break t;c--,p+=r[o++]<<h,h+=8}h-=ht,$t=0,ut=11+(127&(p>>>=ht)),p>>>=7,h-=7}if(n.have+ut>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=st;break}for(;ut--;)n.lens[n.have++]=$t}}if(n.mode===st)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=st;break}if(n.lenbits=9,At={bits:n.lenbits},kt=g(b,n.lens,0,n.nlen,n.lencode,0,n.work,At),n.lenbits=At.bits,kt){t.msg="invalid literal/lengths set",n.mode=st;break}if(n.distbits=6,n.distcode=n.distdyn,At={bits:n.distbits},kt=g(v,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,At),n.distbits=At.bits,kt){t.msg="invalid distances set",n.mode=st;break}if(n.mode=Y,e===x)break t;case Y:n.mode=V;case V:if(c>=6&&d>=258){t.next_out=s,t.avail_out=d,t.next_in=o,t.avail_in=c,n.hold=p,n.bits=h,f(t,ct),s=t.next_out,i=t.output,d=t.avail_out,o=t.next_in,r=t.input,c=t.avail_in,p=n.hold,h=n.bits,n.mode===H&&(n.back=-1);break}for(n.back=0;mt=(St=n.lencode[p&(1<<n.lenbits)-1])>>>16&255,gt=65535&St,!((ht=St>>>24)<=h);){if(0===c)break t;c--,p+=r[o++]<<h,h+=8}if(mt&&0==(240&mt)){for(yt=ht,bt=mt,vt=gt;mt=(St=n.lencode[vt+((p&(1<<yt+bt)-1)>>yt)])>>>16&255,gt=65535&St,!(yt+(ht=St>>>24)<=h);){if(0===c)break t;c--,p+=r[o++]<<h,h+=8}p>>>=yt,h-=yt,n.back+=yt}if(p>>>=ht,h-=ht,n.back+=ht,n.length=gt,0===mt){n.mode=nt;break}if(32&mt){n.back=-1,n.mode=H;break}if(64&mt){t.msg="invalid literal/length code",n.mode=st;break}n.extra=15&mt,n.mode=J;case J:if(n.extra){for(_t=n.extra;h<_t;){if(0===c)break t;c--,p+=r[o++]<<h,h+=8}n.length+=p&(1<<n.extra)-1,p>>>=n.extra,h-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Q;case Q:for(;mt=(St=n.distcode[p&(1<<n.distbits)-1])>>>16&255,gt=65535&St,!((ht=St>>>24)<=h);){if(0===c)break t;c--,p+=r[o++]<<h,h+=8}if(0==(240&mt)){for(yt=ht,bt=mt,vt=gt;mt=(St=n.distcode[vt+((p&(1<<yt+bt)-1)>>yt)])>>>16&255,gt=65535&St,!(yt+(ht=St>>>24)<=h);){if(0===c)break t;c--,p+=r[o++]<<h,h+=8}p>>>=yt,h-=yt,n.back+=yt}if(p>>>=ht,h-=ht,n.back+=ht,64&mt){t.msg="invalid distance code",n.mode=st;break}n.offset=gt,n.extra=15&mt,n.mode=tt;case tt:if(n.extra){for(_t=n.extra;h<_t;){if(0===c)break t;c--,p+=r[o++]<<h,h+=8}n.offset+=p&(1<<n.extra)-1,p>>>=n.extra,h-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=st;break}n.mode=et;case et:if(0===d)break t;if(ut=ct-d,n.offset>ut){if((ut=n.offset-ut)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=st;break}ut>n.wnext?(ut-=n.wnext,ft=n.wsize-ut):ft=n.wnext-ut,ut>n.length&&(ut=n.length),pt=n.window}else pt=i,ft=s-n.offset,ut=n.length;ut>d&&(ut=d),d-=ut,n.length-=ut;do{i[s++]=pt[ft++]}while(--ut);0===n.length&&(n.mode=V);break;case nt:if(0===d)break t;i[s++]=n.length,d--,n.mode=V;break;case rt:if(n.wrap){for(;h<32;){if(0===c)break t;c--,p|=r[o++]<<h,h+=8}if(ct-=d,t.total_out+=ct,n.total+=ct,ct&&(t.adler=n.check=n.flags?u(n.check,i,ct,s-ct):a(n.check,i,ct,s-ct)),ct=d,(n.flags?p:dt(p))!==n.check){t.msg="incorrect data check",n.mode=st;break}p=0,h=0}n.mode=it;case it:if(n.wrap&&n.flags){for(;h<32;){if(0===c)break t;c--,p+=r[o++]<<h,h+=8}if(p!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=st;break}p=0,h=0}n.mode=ot;case ot:kt=A;break t;case st:kt=C;break t;case lt:return O;case at:default:return S}return t.next_out=s,t.avail_out=d,t.next_in=o,t.avail_in=c,n.hold=p,n.bits=h,(n.wsize||ct!==t.avail_out&&n.mode<st&&(n.mode<rt||e!==$))&&xt(t,t.output,t.next_out,ct-t.avail_out),m-=t.avail_in,ct-=t.avail_out,t.total_in+=m,t.total_out+=ct,n.total+=ct,n.wrap&&ct&&(t.adler=n.check=n.flags?u(n.check,i,ct,t.next_out-ct):a(n.check,i,ct,t.next_out-ct)),t.data_type=n.bits+(n.last?64:0)+(n.mode===H?128:0)+(n.mode===Y||n.mode===G?256:0),(0===m&&0===ct||e===$)&&kt===k&&(kt=T),kt},inflateEnd:function(t){if(!t||!t.state)return S;var e=t.state;return e.window&&(e.window=null),t.state=null,k},inflateGetHeader:function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?S:(n.head=e,e.done=!1,k):S},inflateSetDictionary:function(t,e){var n,r=e.length;return t&&t.state?0!==(n=t.state).wrap&&n.mode!==z?S:n.mode===z&&a(1,e,r,0)!==n.check?C:xt(t,e,r,r)?(n.mode=lt,O):(n.havedict=1,k):S},inflateInfo:"pako inflate (from Nodeca project)"},At=!0,_t=!0;try{String.fromCharCode.apply(null,[0])}catch(t){At=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){_t=!1}for(var St=new l.Buf8(256),Ct=0;Ct<256;Ct++)St[Ct]=Ct>=252?6:Ct>=248?5:Ct>=240?4:Ct>=224?3:Ct>=192?2:1;St[254]=St[254]=1;function Ot(t,e){if(e<65534&&(t.subarray&&_t||!t.subarray&&At))return String.fromCharCode.apply(null,l.shrinkBuf(t,e));for(var n="",r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n}var Tt={string2buf:function(t){var e,n,r,i,o,s=t.length,a=0;for(i=0;i<s;i++)55296==(64512&(n=t.charCodeAt(i)))&&i+1<s&&56320==(64512&(r=t.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new l.Buf8(a),o=0,i=0;o<a;i++)55296==(64512&(n=t.charCodeAt(i)))&&i+1<s&&56320==(64512&(r=t.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|63&n):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|63&n):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|63&n);return e},buf2binstring:function(t){return Ot(t,t.length)},binstring2buf:function(t){for(var e=new l.Buf8(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e},buf2string:function(t,e){var n,r,i,o,s=e||t.length,l=new Array(2*s);for(r=0,n=0;n<s;)if((i=t[n++])<128)l[r++]=i;else if((o=St[i])>4)l[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&n<s;)i=i<<6|63&t[n++],o--;o>1?l[r++]=65533:i<65536?l[r++]=i:(i-=65536,l[r++]=55296|i>>10&1023,l[r++]=56320|1023&i)}return Ot(l,r)},utf8border:function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+St[t[n]]>e?n:e}},Et={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},It={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};var jt=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};var Mt=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},Nt=Object.prototype.toString;function Bt(t){if(!(this instanceof Bt))return new Bt(t);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new jt,this.strm.avail_out=0;var n=kt.inflateInit2(this.strm,e.windowBits);if(n!==Et.Z_OK)throw new Error(It[n]);if(this.header=new Mt,kt.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=Tt.string2buf(e.dictionary):"[object ArrayBuffer]"===Nt.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=kt.inflateSetDictionary(this.strm,e.dictionary))!==Et.Z_OK))throw new Error(It[n])}function Ft(t,e){var n=new Bt(e);if(n.push(t,!0),n.err)throw n.msg||It[n.err];return n.result}Bt.prototype.push=function(t,e){var n,r,i,o,s,a=this.strm,c=this.options.chunkSize,u=this.options.dictionary,f=!1;if(this.ended)return!1;r=e===~~e?e:!0===e?Et.Z_FINISH:Et.Z_NO_FLUSH,"string"==typeof t?a.input=Tt.binstring2buf(t):"[object ArrayBuffer]"===Nt.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new l.Buf8(c),a.next_out=0,a.avail_out=c),(n=kt.inflate(a,Et.Z_NO_FLUSH))===Et.Z_NEED_DICT&&u&&(n=kt.inflateSetDictionary(this.strm,u)),n===Et.Z_BUF_ERROR&&!0===f&&(n=Et.Z_OK,f=!1),n!==Et.Z_STREAM_END&&n!==Et.Z_OK)return this.onEnd(n),this.ended=!0,!1;a.next_out&&(0!==a.avail_out&&n!==Et.Z_STREAM_END&&(0!==a.avail_in||r!==Et.Z_FINISH&&r!==Et.Z_SYNC_FLUSH)||("string"===this.options.to?(i=Tt.utf8border(a.output,a.next_out),o=a.next_out-i,s=Tt.buf2string(a.output,i),a.next_out=o,a.avail_out=c-o,o&&l.arraySet(a.output,a.output,i,o,0),this.onData(s)):this.onData(l.shrinkBuf(a.output,a.next_out)))),0===a.avail_in&&0===a.avail_out&&(f=!0)}while((a.avail_in>0||0===a.avail_out)&&n!==Et.Z_STREAM_END);return n===Et.Z_STREAM_END&&(r=Et.Z_FINISH),r===Et.Z_FINISH?(n=kt.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===Et.Z_OK):r!==Et.Z_SYNC_FLUSH||(this.onEnd(Et.Z_OK),a.avail_out=0,!0)},Bt.prototype.onData=function(t){this.chunks.push(t)},Bt.prototype.onEnd=function(t){t===Et.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Lt,Rt={Inflate:Bt,inflate:Ft,inflateRaw:function(t,e){return(e=e||{}).raw=!0,Ft(t,e)},ungzip:Ft};function Dt(t,e,n,r){if(e)for(var i=0,o=e;i<o.length;i++){var s=n[o[i]];s&&(s[r]=s[r]||[],s[r].push(t))}}var Pt=function(){function t(){this.articles=new o(Lt.articlesOrder,{keys:["id","type","title","text"],tokenize:!0,matchAllTokens:!0,distance:10,threshold:.1})}return t.prototype.findArticles=function(t){return this.articles.search(t)},t}(),zt=function(){return function(t){if(Object.assign(this,t),Lt.manufacture[this.name]=this,this.requires)for(var e=0,n=this.requires;e<n.length;e++){var r=n[e],i=Lt.research[r];i&&(i.manufacture||(i.manufacture=[]),i.manufacture.push(this.name))}if(this.producedItems)for(var o=0,s=Object.keys(this.producedItems);o<s.length;o++){var l=s[o];(u=Lt.items[l])&&(u.manufacture||(u.manufacture={}),u.manufacture[this.name]=this.producedItems[l])}if(this.requiredItems)for(var a=0,c=Object.keys(this.requiredItems);a<c.length;a++){var u;l=c[a],(u=Lt.items[l])&&(u.componentOf||(u.componentOf={}),u.componentOf[this.name]=this.requiredItems[l])}if(this.randomProducedItems){this.chanceSum=0;for(var f=0,d=this.randomProducedItems;f<d.length;f++){var p=d[f];this.chanceSum+=p[0]}}Ut.add("allowsManufacture",this.name,this.requiresBaseFunc),Qt.create({id:this.name,section:"MANUFACTURE",type_id:"MANUFACTURE"})}}(),Ht=function(){return function(t){Object.assign(this,t),Lt.research[this.name]=this,Ut.add("allowsResearching",this.name,this.requiresBaseFunc),Qt.create({id:this.name,section:"RESEARCH",type_id:"RESEARCH"})}}(),Ut=function(){function t(t){this.id=t,Qt.create({id:t,type_id:"SERVICES",section:"SERVICES"})}return t.add=function(e,n,r){if(r)for(var i=0,o=r;i<o.length;i++){var s=o[i];s in Lt.baseServices||(Lt.baseServices[s]=new t(s)),e in Lt.baseServices[s]||(Lt.baseServices[s][e]=[]),Lt.baseServices[s][e].push(n)}},t}(),Zt=function(){return function(t){Object.assign(this,t),Lt.alienDeployments[this.type]=this;var e=Lt.startingConditions[this.startingCondition];e&&e.deployments.push(this.type)}}(),Gt=function(){return function(t){Object.assign(this,t),Lt.craftWeapons[this.type]=this,Ut.add("canBuy",this.type,this.requiresBuyBaseFunc)}}(),qt=function(){return function(t){this.startingConditions=[],Object.assign(this,t),Lt.crafts[this.type]=this}}(),Wt=function(){return function(t){Object.assign(this,t),Lt.ufos[this.type]=this}}(),Xt=function(){return function(t){Object.assign(this,t),Lt.facilities[this.type]=this,Ut.add("providedBy",this.type,this.provideBaseFunc),Ut.add("allowsBuilding",this.type,this.requiresBaseFunc),Ut.add("forbidsBuilding",this.type,this.forbiddenBaseFunc)}}(),Kt=function(){return function(t){this.allowedCraft=[],this.allowedItemCategories=[],this.allowedArmors=[],this.allowedVehicles=[],this.deployments=[],Object.assign(this,t),Lt.startingConditions[this.type]=this,Lt.lang[this.type]=Lt.decamelize(this.type.substr(11));for(var e=0,n=this.allowedCraft;e<n.length;e++){var r=n[e];Lt.crafts[r].startingConditions.push(this.type)}Qt.create({id:this.type,section:"CONDITIONS",type_id:"CONDITIONS"})}}(),Yt=function(){return function(t){Object.assign(this,t),Lt.units[this.type]=this;var e=Lt.armors[t.armor];e&&(e.users=e.users||[],e.users.push(this.type))}}(),Vt={snap:15,auto:7,aimed:200},Jt=function(){return function(t,e){this.mode=e,this.possible=!1,this.flatTime=!1,this.shots=1,this.pellets=1;var n=e.charAt(0).toUpperCase()+e.substr(1),r="ammo"==e&&2==t.battleType||"melee"==e&&3==t.battleType||"psi"==e&&9==t.battleType||"throw"==e&&[4,5].includes(t.battleType);if("throw"==e&&!r)return null;if(!(t["accuracy"+n]||t["cost"+n]||r))return null;"STR_THROWING_HAMMER"==t.type&&(console.log(t),console.log(e)),"melee"==e&&3!=t.battleType?(this.damage=t.meleePower,this.damageBonus=t.meleeBonus,this.damageType=t.meleeType):t.compatibleAmmo||(this.damage=t.power,this.damageBonus=t.damageBonus,this.damageType=t.damageType),this.pellets=t.shotgunPellets||1,this.shots="auto"==e?t.autoShots||3:1,this.name=e.substr(0,1).toUpperCase()+e.substr(1);var i="conf"+this.name;if(i in t){var o=t[i];o.name&&(this.name=Lt.str(o.name)),o.shots&&(this.shots=o.shots),delete t[i]}if(t[e+"AttackName"]&&(this.name=Lt.str(t[e+"AttackName"])),"melee"==e&&(this.alter=t.meleeAlter),3!=t.battleType&&"melee"==e||(this.alter=t.damageAlter),"ammo"!=e){("melee"==e&&3==t.battleType||"melee"!=e)&&t.flatRate&&(this.flatTime=t.flatRate),t["flat"+n]&&t["flat"+n].time&&(this.flatTime=!0),"Psi"==n&&(n="Use"),this.cost=this.cost=t["cost"+n]||{time:t["tu"+n],energy:0},this.accuracy=t["accuracy"+n]||100;var s="throw"==e?t.throwMultiplier:"melee"==e?t.meleeMultiplier:t.accuracyMultiplier;s||((s={})["throw"==e?"throwing":"melee"==e?"melee":"firing"]=1),this.accuracyMultiplier=s}for(var l in this.alter&&this.alter.ResistType&&(this.damageType=this.alter.ResistType),e+"Range"in t&&(this.alter=Object.assign({},this.alter||{}),this.alter.range=t[e+"Range"]),this.alter)"damageType"!=l&&"ResistType"!=l||(this.alter[l]=Lt.damageTypes[this.alter[l]]);this.range=t[e+"Range"]||t[e.substr(0,3)+"Range"]||this.alter&&this.alter.range||Vt[e],this.possible=!0}}(),Qt=function(){function t(t){this.id=t.id,this.title=t.title||Lt.str(t.id),Lt.lang[this.id]=this.title,this.text=Lt.lang[t.text]||Lt.lang[t.id+"_UFOPEDIA"],this.image_id=t.image_id,this.type_id=t.type_id||"-1",Lt.articles[this.id]=this;var e=t.id;Lt.articles[e]=this,t.section&&Lt.addToSection(this,t.section)}return t.create=function(e){if(e.id in Lt.articles){var n=Lt.articles[e.id];return e.section&&n.section!=e.section&&Lt.sections[e.section].add(n),n}return new t(e)},t}(),te=function(){function t(t,e){void 0===e&&(e="PEDIA"),this.id=t,this.type_id=e,this._articles=[],Lt.sections[t]=this,this.isType()?Lt.typeSectionsOrder.push(this):Lt.sectionsOrder.push(this),this.title=Lt.str(t),Qt.create({id:t,section:t,type_id:e})}return Object.defineProperty(t.prototype,"articles",{get:function(){return this._articles},enumerable:!0,configurable:!0}),t.prototype.isType=function(){return"TYPE"==this.type_id},t.prototype.add=function(t){this._articles.includes(t)||this._articles.push(t),t.section||(t.section=this)},t}(),ee=function(){return function(t){this.id=t.type||t.typeSingle,t.files&&(this.path=t.files[0],this.extra=t.files),t.fileSingle&&(this.path=t.fileSingle)}}(),ne=function(){return function(t){if(this.dollSprites={},this.armor={},Object.assign(this,t),Lt.armors[t.type]=this,this.layersDefinition){var e=this.layersDefaultPrefix;for(var n in this.layersDefinition){var r=this.layersDefinition[n],i=[];for(var o in r){var s=r[o];if(s&&s.length){var l=e+"__"+o+"__"+s;i.push(Lt.sprite(l))}}this.dollSprites[n]=i}}else if(this.spriteInv){var a=this.spriteInv,c=a.length;if(this.spriteInv+".SPK"in Lt.sprites)this.dollSprites={0:[Lt.path+Lt.sprites[this.spriteInv+".SPK"].path]};else for(var u in Lt.sprites)u.substr(0,c)==a&&(this.dollSprites[u.substr(c,u.length-c-4)]=[Lt.path+Lt.sprites[u].path])}if(this.armor={Front:this.frontArmor,Side:this.sideArmor,Rear:this.rearArmor,Under:this.underArmor},this.storeItem&&Lt.items[this.storeItem]){var f=Lt.items[this.storeItem];f.armors||(f.armors=[]),f.armors.push(this.type)}}}(),re=function(){function t(t){this.invWidth=1,this.invHeight=1,Object.assign(this,t),Lt.items[t.type]=this,this.sprite=Lt.bigSprite[this.bigSprite];var e=this;if("flatThrow"in e&&(e.flatThrowTime=e.flatThrow.time,delete e.flatThrow),Ut.add("canBuyItem",this.type,this.requiresBuyBaseFunc),this.categories)for(var n=0,r=this.categories;n<r.length;n++){var i=r[n];this.addCategory(i)}Qt.create({id:this.type,type_id:"ITEMS",section:"ITEMS"})}return t.prototype.attacks=function(){if(!this._attacks){this._attacks=[];for(var t=0,e=["ammo","melee","snap","aimed","auto","throw","psi","panic","mindControl","use"];t<e.length;t++){var n=new Jt(this,e[t]);if(n.possible&&(this._attacks.push(n),n.damageType&&this.addCategory("dmg="+Lt.damageTypes[n.damageType]),n.damageBonus)){for(var r in n.damageBonus)this.addCategory("dmg*"+r);for(var r in n.accuracyMultiplier)this.addCategory("acc*"+r)}}}return 2==this.battleType&&(this._attacks[0].item=this,this._attacks[0].mode="ammo"),this._attacks},t.prototype.addCategory=function(t){var e=Lt.categories[t]||[];e.includes(this)||e.push(this),Lt.categories[t]=e},t}(),ie=function(){function e(){this.articles={},this.articlesOrder=[],this.sections={},this.sectionsOrder=[],this.typeSectionsOrder=[],this.sprites={},this.raw={},this.items={},this.categories={},this.armors={},this.units={},this.crafts={},this.ufos={},this.facilities={},this.craftWeapons={},this.alienDeployments={},this.research={},this.manufacture={},this.startingConditions={},this.bigSprite=[],this.floorSprite=[],this.handSprite=[],this.baseSprite=[],this.sounds=[],this.baseServices={},this.redirect={},this.lang={},this.damageTypes=["STR_DAMAGE_NONE","STR_DAMAGE_ARMOR_PIERCING","STR_DAMAGE_INCENDIARY","STR_DAMAGE_HIGH_EXPLOSIVE","STR_DAMAGE_LASER_BEAM","STR_DAMAGE_PLASMA_BEAM","STR_DAMAGE_STUN","STR_DAMAGE_MELEE","STR_DAMAGE_ACID","STR_DAMAGE_SMOKE","STR_DAMAGE_10","STR_DAMAGE_11","STR_DAMAGE_12","STR_DAMAGE_13","STR_DAMAGE_14","STR_DAMAGE_15","STR_DAMAGE_16","STR_DAMAGE_17","STR_DAMAGE_18","STR_DAMAGE_19","STR_DAMAGE_20","STR_DAMAGE_21","STR_DAMAGE_22","STR_MANA"],this.battleTypes=["None (Geoscape-only item)","Firearm","Ammo","Melee","Grenade","Proximity Grenade","Medi-Kit","Motion Scanner","Mind Probe","Psi-Amp","Electro-flare","Corpse"],Lt=this}return e.prototype.damageTypeName=function(t){return this.lang[this.damageTypes[t]]},e.prototype.sound=function(t){return this.path+this.sounds[t]},e.prototype.str=function(t){return this.lang[t]||t},e.prototype.specialSprite=function(t,e){return e in this[t]?this.path+this[t][e]:"xpedia/0.png"},e.prototype.combineFiles=function(t,e){void 0===e&&(e=!1);for(var n=0,r=e?t.reverse():t;n<r.length;n++){var i=r[n];for(var o in i)if("lang"==o.substr(0,4)&&Object.assign(this.lang,i[o]),o in this.raw){var s=this.raw[o],l=i[o];if(s.concat)this.raw[o]=s.concat(l);else for(var a=0,c=l;a<c.length;a++){var u=c[a];u in s?Object.assign(s[u],l[u]):s[u]=l[u]}}else this.raw[o]=i[o]}},e.prototype.mergeRuls=function(t){for(var e in void 0===t&&(t=!1),this.raw){var n={},r={},i=this.raw[e];if(Array.isArray(i)){for(var o=0,s=i;o<s.length;o++){var l=s[o],a=l.type||l.id||l.name||l.delete||l.typeSingle;if(a&&!r[a])if("delete"in l)t?r[a]=!0:delete n[a];else if(a&&a in n)if(t)for(var c in l)c in n[a]||(n[a][c]=l[c]);else Object.assign(n[a],l);else n[a]=l}this.raw[e]=Object.values(n)}}},e.prototype.parse=function(t){this.combineFiles(t,!0);for(var e=["ITEMS","CONDITIONS","CATEGORIES","RESEARCH","MANUFACTURE","SERVICES"],n=0,r=e;n<r.length;n++){new te(r[n],"TYPE")}for(var i in this.mergeRuls(!0),this.path="user/mods/"+Lt.modName+"/",this.lang){var o=this.lang[i];"string"==typeof o&&(o=(o=o.replace(/^({NEWLINE})+/,"")).replace(/{NEWLINE}/g,"<br/>"),this.lang[i]=o)}for(var s=0,l=Lt.damageTypes;s<l.length;s++){var a=l[s];Lt.categories["dmg="+a]=[],this.redirect[a]="dmg="+a,this.lang["dmg="+a]=this.lang[a]}this.parsePedia(this.raw.ufopaedia),this.parseSprites(this.raw.extraSprites),this.sprites["BIGOBS.PCK"]&&(this.bigSprite=this.sprites["BIGOBS.PCK"].extra),this.sprites["FLOOROB.PCK"]&&(this.floorSprite=this.sprites["FLOOROB.PCK"].extra),this.sprites["HANDOB.PCK"]&&(this.handSprite=this.sprites["HANDOB.PCK"].extra),this.sprites["BASEBITS.PCK"]&&(this.baseSprite=this.sprites["BASEBITS.PCK"].extra),this.raw.extraSounds&&this.raw.extraSounds[0]&&(this.sounds=this.raw.extraSounds[0].files);for(var c=0,u=this.raw.items;c<u.length;c++){var f=u[c];new re(f)}for(var d=0,p=this.raw.armors;d<p.length;d++){var h=p[d];new ne(h)}for(var m=0,g=this.raw.units;m<g.length;m++){var y=g[m];new Yt(y)}for(var b=0,v=this.raw.crafts;b<v.length;b++){var $=v[b];new qt($)}for(var w=0,x=this.raw.craftWeapons;w<x.length;w++){var k=x[w];new Gt(k)}for(var A=0,_=this.raw.ufos;A<_.length;A++){var S=_[A];new Wt(S)}for(var C=0,O=this.raw.facilities;C<O.length;C++){var T=O[C];new Xt(T)}if(this.raw.startingConditions)for(var E=0,I=this.raw.startingConditions;E<I.length;E++){var j=I[E];new Kt(j)}for(var M=0,N=this.raw.alienDeployments;M<N.length;M++){var B=N[M];new Zt(B)}for(var F=0,L=this.raw.research;F<L.length;F++){var R=L[F];new Ht(R)}for(var D=0,P=this.raw.manufacture;D<P.length;D++){var z=P[D];new zt(z)}for(var H=0,U=Object.values(this.facilities);H<U.length;H++){var Z=U[H];if(Z.buildCostItems)for(var G=0,q=Object.keys(Z.buildCostItems);G<q.length;G++){var W=q[G];(nt=Lt.items[W])&&(nt.componentOf||(nt.componentOf={}),nt.componentOf[Z.type]=Z.buildCostItems[W].build,nt.manufacture||(nt.manufacture={}),nt.manufacture[Z.type]=Z.buildCostItems[W].refund)}}for(var X=0,K=Object.values(this.items);X<K.length;X++){if((nt=K[X]).attacks(),nt.compatibleAmmo)for(var Y=0,V=nt.compatibleAmmo;Y<V.length;Y++){var J=V[Y],Q=this.items[J];Q&&(Q.compatibleWeapons=Q.compatibleWeapons||[],Q.compatibleWeapons.push(nt.type))}}for(var tt=0,et=Object.values(this.research);tt<et.length;tt++){var nt,rt=et[tt];if(Dt(rt.name,rt.dependencies,Lt.research,"leadsTo"),Dt(rt.name,rt.getOneFree,Lt.research,"freeFrom"),rt.lookup&&rt.name!=rt.lookup&&this.research[rt.lookup]){var it=this.research[rt.lookup];it.seeAlso=it.seeAlso||[],it.seeAlso.push(rt.name);var ot=this.article(rt.lookup),st=this.article(rt.name);Lt.lang[st.id]||(st.title=ot.title),st.text=ot.text,st.image_id=ot.image_id}if(rt.spawnedItem)(nt=Lt.items[rt.spawnedItem]).spawnedBy=nt.spawnedBy||[],nt.spawnedBy.push(rt.name)}this.ourArmors=Object.values(this.armors).filter(function(t){return t.units}).map(function(t){return t.type});for(var lt=0,at=e;lt<at.length;lt++){var ct=at[lt];Lt.sections[ct]._articles=Lt.sections[ct].articles.sort(function(t,e){return t.title<e.title?-1:1})}for(var ut=0,ft=Object.keys(this.categories);ut<ft.length;ut++){var dt=ft[ut];Qt.create({id:dt,title:Lt.str(dt),type_id:"CATEGORIES",section:"CATEGORIES"})}console.log(this),this.search=new Pt},e.prototype.parsePedia=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(r.id){var i=new Qt(r);this.articlesOrder.push(i),this.articles[i.id]=i}}},e.prototype.parseSprites=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e],i=new ee(r);this.sprites[i.id]=i}},e.prototype.findNextArticle=function(t,e){if(!t)return null;var n=t.section,r=n?n.articles:this.articlesOrder,i=r.findIndex(function(e){return e.id==t.id});return null!=i?r[i+e]:void 0},e.prototype.decamelize=function(t,e){if(void 0===e&&(e=" "),"string"==typeof t){if(Lt.lang[t])return Lt.lang[t];if(this.lang[oe[t]])return this.lang[oe[t]];t=(t=t.includes("_")&&-1==t.search(/[a-z]/)?t.replace(/_/g," "):t.replace(/([^A-Z])([A-Z])/g,"$1"+e+"$2")).substr(0,1).toUpperCase()+t.substr(1).toLowerCase()}return t},e.prototype.sprite=function(t){return t in this.sprites?this.path+this.sprites[t].path:this.path+t},e.prototype.load=function(e){return n=this,r=void 0,o=function(){var n,r;return t(this,function(t){"base64"==(e=e.trim()).substr(0,6)&&(e=e.substr(6),n=atob(e),e=Rt.inflate(n,{to:"string"})),r=function(t){for(var e,n=[],r=/^FILE: (.+)\n/gm,i=[];e=r.exec(t);)i.push(e);for(var o=function(e){var r=i[e][1],o=void 0;if("п»ї"==(o=e<i.length-1?t.substr(i[e].index+7+r.length,i[e+1].index-i[e].index-7-r.length):t.substr(i[e].index+7+r.length)).substr(1,3)&&(o=o.substr(4)),"TEXT@"==r.substr(0,5))return Lt.lang[r.substr(5)]=o,"continue";var l=void 0;if("JSON@"==r.substr(0,5))l=JSON.parse(o),r=r.substr(5);else try{l=s.load(o,{json:!0,filename:r,onWarning:function(t){console.log(r),console.log(t.message)}})}catch(t){console.log(t.message)}if("xpedia"==r)return Lt.config=l,Lt.modName=l.mod_name,"continue";l&&n.push(l)},l=0;l<i.length;l++)o(l);return n}(e);try{this.parse(r)}catch(t){console.error(t)}return[2]})},new((i=void 0)||(i=Promise))(function(t,e){function s(t){try{a(o.next(t))}catch(t){e(t)}}function l(t){try{a(o.throw(t))}catch(t){e(t)}}function a(e){e.done?t(e.value):new i(function(t){t(e.value)}).then(s,l)}a((o=o.apply(n,r||[])).next())});var n,r,i,o},e.prototype.addToSection=function(t,e){var n;return n=e in Lt.sections?Lt.sections[e]:Lt.sections[e]=new te(e),t.id!=n.id&&n.add(t),t.section=n,n},e.prototype.linksByType=function(t){switch(t){case"CONDITIONS":return Object.keys(this.startingConditions).map(function(t){return"CONDITIONS_"+t})}return[]},e.prototype.bodiesCompare=function(t){for(var e in t)2==t[e].length&&(t[e]=("M"==t[e].charAt(0)?"A":"B")+"0"+t[e].substr(1));return t[0]>t[1]?1:-1},e.prototype.article=function(t){return this.articles[this.redirect[t]||t]},e}(),oe={dependencies:"STR_DEPENDS_ON",seeAlso:"STR_ITEM_REQUIRED",requiresBaseFunc:"STR_SERVICES_REQUIRED",freeFrom:"STR_GET_FOR_FREE_FROM",leadsTo:"STR_LEADS_TO",unlocks:"STR_UNLOCKS",disables:"STR_DISABLES",getOneFree:"STR_GIVES_ONE_FOR_FREE",manufacture:"STR_REQUIRED_BY",randomProducedItems:"STR_RANDOM_PRODUCTION_DISCLAIMER",cost:"STR_COST"};function se(){}function le(t){return t()}function ae(){return Object.create(null)}function ce(t){t.forEach(le)}function ue(t){return"function"==typeof t}function fe(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function de(t){return null==t?"":t}function pe(t,e){t.appendChild(e)}function he(t,e,n){t.insertBefore(e,n||null)}function me(t){t.parentNode.removeChild(t)}function ge(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function ye(t){return document.createElement(t)}function be(t){return document.createTextNode(t)}function ve(){return be(" ")}function $e(){return be("")}function we(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function xe(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ke(t,e){e=""+e,t.data!==e&&(t.data=e)}function Ae(t,e){(null!=e||t.value)&&(t.value=e)}function _e(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}class Se{constructor(t,e=null){this.e=ye("div"),this.a=e,this.u(t)}m(t,e=null){for(let n=0;n<this.n.length;n+=1)he(t,this.n[n],e);this.t=t}u(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}p(t){this.d(),this.u(t),this.m(this.t,this.a)}d(){this.n.forEach(me)}}let Ce;function Oe(t){Ce=t}function Te(){if(!Ce)throw new Error("Function called outside component initialization");return Ce}function Ee(){const t=Te();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const i=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);r.slice().forEach(e=>{e.call(t,i)})}}}const Ie=[],je=[],Me=[],Ne=[],Be=Promise.resolve();let Fe=!1;function Le(t){Me.push(t)}function Re(){const t=new Set;do{for(;Ie.length;){const t=Ie.shift();Oe(t),De(t.$$)}for(;je.length;)je.pop()();for(let e=0;e<Me.length;e+=1){const n=Me[e];t.has(n)||(n(),t.add(n))}Me.length=0}while(Ie.length);for(;Ne.length;)Ne.pop()();Fe=!1}function De(t){if(null!==t.fragment){t.update(),ce(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Le)}}const Pe=new Set;let ze;function He(){ze={r:0,c:[],p:ze}}function Ue(){ze.r||ce(ze.c),ze=ze.p}function Ze(t,e){t&&t.i&&(Pe.delete(t),t.i(e))}function Ge(t,e,n,r){if(t&&t.o){if(Pe.has(t))return;Pe.add(t),ze.c.push(()=>{Pe.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}const qe="undefined"!=typeof window?window:global;function We(t){t&&t.c()}function Xe(t,e,n){const{fragment:r,on_mount:i,on_destroy:o,after_update:s}=t.$$;r&&r.m(e,n),Le(()=>{const e=i.map(le).filter(ue);o?o.push(...e):ce(e),t.$$.on_mount=[]}),s.forEach(Le)}function Ke(t,e){const n=t.$$;null!==n.fragment&&(ce(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ye(t,e){-1===t.$$.dirty[0]&&(Ie.push(t),Fe||(Fe=!0,Be.then(Re)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ve(t,e,n,r,i,o,s=[-1]){const l=Ce;Oe(t);const a=e.props||{},c=t.$$={fragment:null,ctx:null,props:o,update:se,not_equal:i,bound:ae(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:ae(),dirty:s};let u=!1;var f;c.ctx=n?n(t,a,(e,n,r=n)=>(c.ctx&&i(c.ctx[e],c.ctx[e]=r)&&(c.bound[e]&&c.bound[e](r),u&&Ye(t,e)),n)):[],c.update(),u=!0,ce(c.before_update),c.fragment=!!r&&r(c.ctx),e.target&&(e.hydrate?c.fragment&&c.fragment.l((f=e.target,Array.from(f.childNodes))):c.fragment&&c.fragment.c(),e.intro&&Ze(t.$$.fragment),Xe(t,e.target,e.anchor),Re()),Oe(l)}class Je{$destroy(){Ke(this,1),this.$destroy=se}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function Qe(t){let e,n=Lt.str(t[0])+"";return{c(){e=be(n)},m(t,n){he(t,e,n)},p(t,r){1&r&&n!==(n=Lt.str(t[0])+"")&&ke(e,n)},d(t){t&&me(e)}}}function tn(t){let e,n,r,i=Lt.str(t[0])+"";return{c(){e=ye("a"),n=be(i),xe(e,"href",r="##"+t[0])},m(t,r){he(t,e,r),pe(e,n)},p(t,o){1&o&&i!==(i=Lt.str(t[0])+"")&&ke(n,i),1&o&&r!==(r="##"+t[0])&&xe(e,"href",r)},d(t){t&&me(e)}}}function en(t){let e,n;function r(t,n){return(null==e||1&n)&&(e=!!Lt.article(t[0])),e?tn:Qe}let i=r(t,-1),o=i(t);return{c(){o.c(),n=$e()},m(t,e){o.m(t,e),he(t,n,e)},p(t,[e]){i===(i=r(t,e))&&o?o.p(t,e):(o.d(1),(o=i(t))&&(o.c(),o.m(n.parentNode,n)))},i:se,o:se,d(t){o.d(t),t&&me(n)}}}function nn(t,e,n){let{href:r}=e;return t.$set=(t=>{"href"in t&&n(0,r=t.href)}),t.$$.update=(()=>{1&t.$$.dirty&&r&&r.type&&n(0,r=r.type)}),[r]}class rn extends Je{constructor(t){super(),Ve(this,t,nn,en,fe,{href:0})}}function on(t,e,n){const r=t.slice();return r[5]=e[n],r}function sn(t){let e,n,r,i,o,s,l=!t[1]&&ln(t),a=t[1]&&an(t),c=t[3],u=[];for(let e=0;e<c.length;e+=1)u[e]=cn(on(t,c,e));const f=t=>Ge(u[t],1,1,()=>{u[t]=null});return{c(){l&&l.c(),e=ve(),a&&a.c(),n=ve(),r=ye("div"),i=ye("div"),o=ye("ol");for(let t=0;t<u.length;t+=1)u[t].c();xe(i,"class","cols"),xe(r,"class","links-page")},m(t,c){l&&l.m(t,c),he(t,e,c),a&&a.m(t,c),he(t,n,c),he(t,r,c),pe(r,i),pe(i,o);for(let t=0;t<u.length;t+=1)u[t].m(o,null);s=!0},p(t,r){if(t[1]?l&&(l.d(1),l=null):l?l.p(t,r):((l=ln(t)).c(),l.m(e.parentNode,e)),t[1]?a?a.p(t,r):((a=an(t)).c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null),8&r){let e;for(c=t[3],e=0;e<c.length;e+=1){const n=on(t,c,e);u[e]?(u[e].p(n,r),Ze(u[e],1)):(u[e]=cn(n),u[e].c(),Ze(u[e],1),u[e].m(o,null))}for(He(),e=c.length;e<u.length;e+=1)f(e);Ue()}},i(t){if(!s){for(let t=0;t<c.length;t+=1)Ze(u[t]);s=!0}},o(t){u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)Ge(u[t]);s=!1},d(t){l&&l.d(t),t&&me(e),a&&a.d(t),t&&me(n),t&&me(r),ge(u,t)}}}function ln(t){let e,n,r,i,o;return{c(){e=ye("div"),n=ye("button"),r=be("A-Z"),xe(n,"style",i=t[2]?"":"text-decoration:line-through"),xe(e,"class","links-page-button"),o=we(n,"click",t[4])},m(t,i){he(t,e,i),pe(e,n),pe(n,r)},p(t,e){4&e&&i!==(i=t[2]?"":"text-decoration:line-through")&&xe(n,"style",i)},d(t){t&&me(e),o()}}}function an(t){let e,n;return{c(){e=ye("div"),n=be(t[1]),xe(e,"class","links-page-header")},m(t,r){he(t,e,r),pe(e,n)},p(t,e){2&e&&ke(n,t[1])},d(t){t&&me(e)}}}function cn(t){let e,n,r;const i=new rn({props:{href:t[5]}});return{c(){e=ye("li"),We(i.$$.fragment),n=ve()},m(t,o){he(t,e,o),Xe(i,e,null),pe(e,n),r=!0},p(t,e){const n={};8&e&&(n.href=t[5]),i.$set(n)},i(t){r||(Ze(i.$$.fragment,t),r=!0)},o(t){Ge(i.$$.fragment,t),r=!1},d(t){t&&me(e),Ke(i)}}}function un(t){let e,n,r=t[0]&&t[0].length>0&&sn(t);return{c(){r&&r.c(),e=$e()},m(t,i){r&&r.m(t,i),he(t,e,i),n=!0},p(t,[n]){t[0]&&t[0].length>0?r?(r.p(t,n),Ze(r,1)):((r=sn(t)).c(),Ze(r,1),r.m(e.parentNode,e)):r&&(He(),Ge(r,1,1,()=>{r=null}),Ue())},i(t){n||(Ze(r),n=!0)},o(t){Ge(r),n=!1},d(t){r&&r.d(t),t&&me(e)}}}function fn(t,e,n){let{links:r}=e,{title:i=null}=e,o=!1;let s;return t.$set=(t=>{"links"in t&&n(0,r=t.links),"title"in t&&n(1,i=t.title)}),t.$$.update=(()=>{5&t.$$.dirty&&n(3,s=o?r.slice().sort((t,e)=>Lt.str(t)>Lt.str(e)?1:-1):r)}),[r,i,o,s,t=>n(2,o=!o)]}class dn extends Je{constructor(t){super(),Ve(this,t,fn,un,fe,{links:0,title:1})}}function pn(t){let e,n,r,i,o,s,l,a,c,u,f,d,p,h,m,g,y,b,v,$,w,x,k,A,_,S,C,O,T,E,I,j,M,N,B,F,L,R,D,P,z,H,U,Z,G,q,W,X,K,Y,V,J,Q,tt,et,nt,rt,it,ot,st,lt,at,ct,ut,ft,dt,pt,ht,mt,gt,yt,bt,vt,$t,wt,xt,kt,At,_t,St,Ct,Ot,Tt,Et,It,jt,Mt,Nt,Bt,Ft,Rt,Dt,Pt,zt,Ht,Ut,Zt,Gt,qt,Wt,Xt,Kt,Yt,Vt,Jt,Qt,te,ee,ne,re,ie,oe,le,ae,ce,ue,fe,de,ge,$e,we,ke,Ae,_e,Se,Ce,Oe,Te,Ee,Ie,je,Me,Ne,Be,Fe,Le,Re,De,Pe,ze,He,Ue,Ze,Ge,qe,We,Xe,Ke,Ye,Ve,Je,Qe,tn,en,nn,rn,on,sn,ln,an,cn,un,fn,dn,pn,hn,mn,gn,yn,bn,vn,$n,wn,xn,kn,An,_n,Sn,Cn,On,Tn,En,In,jn,Mn,Nn,Bn,Fn,Ln,Rn,Dn,Pn,zn=Lt.str("Welcome onboard, seagal! Take your bunk at da orlop and have some X-Grog, yarrr!")+"",Hn=Lt.str("X-Piratez is a total conversion mod designed for OpenXcom, a free open-source reimplementation of UFO")+"",Un=Lt.str("Enemy Unknown (1994) and X-Com")+"",Zn=Lt.str("Terror From The Deep. There are major gameplay differences, as well as a complete overhaul of research, manufacture, base facilities, and so on. X-Piratez is designed for the veteran X-Com player seeking a much longer and complex campaign.")+"",Gn=Lt.str("The year is 2601. The Earth has been long conquered by aliens. You run a gang of mutant pirates. Rob aliens and their human proxies for fun, profit and power. X-Piratez is the biggest OpenXcom mod to date.")+"",qn=Lt.str("We appreciate Anna Zemlina for her fantastic artworks created especially for the mod.")+"",Wn=Lt.str("WARNINGS")+"",Xn=Lt.str("mod author, the Grand Master")+"",Kn=Lt.str("You can send your donations through PayPal to")+"",Yn=Lt.str("chief OXCE programmer, the Wise Alchemist")+"",Vn=Lt.str("You can send your donations through PayPal to")+"",Jn=Lt.str("All mods are translated by the players")+"",Qn=Lt.str("OpenXcom needs your translation skills!")+"",tr=Lt.str("Community & support")+"",er=Lt.str("Here you can ask any questions associated with this site.")+"",nr=Lt.str("Ping @Kato_guardian and we will hear you.")+"",rr=Lt.str("Thanks to")+"",ir=Lt.str("for translating the homepage and interfaces into non-English languages")+"",or=Lt.str("Wiki is powered by")+"",sr=Lt.str("Mobile version by")+"";return{c(){e=ye("div"),n=ye("div"),r=ye("img"),o=ve(),s=be(zn),l=ve(),a=ye("br"),c=ve(),(u=ye("h4")).textContent=`${Lt.str("Arrr, what da FLUFF is X-Piratez stuff?")}`,f=ve(),d=be(Hn),p=be(": "),h=be(Un),m=be(": "),g=be(Zn),y=ye("br"),b=ve(),v=ye("br"),$=ve(),w=be(Gn),x=ye("br"),k=ve(),A=ye("br"),_=ve(),S=be(qn),C=ve(),(O=ye("div")).innerHTML='<div class="column media-bar"><a href="https://discordapp.com/invite/b5KXPvX" target="_blank"><img class="media-icon" src="xpedia/images/discord-256.png" alt="Discord" title="Discord server"></a> \n        <a href="https://openxcom.org/forum/index.php/board,18.0.html" target="_blank"><img class="media-icon" src="xpedia/images/FG4SCQ58YFXV.png" alt="Forum" title="Forum"></a> \n        <a href="https://vk.com/xpiratez" target="_blank"><img class="media-icon" src="xpedia/images/vk-256.png" alt="VK" title="VK community"></a> \n        <a href="https://www.deviantart.com/emerald--weapon" target="_blank"><img class="media-icon" src="xpedia/images/Emerald.png" alt="Anna Zemlina (artist)" title="Anna Zemlina (artist)"></a></div>',T=ve(),(E=ye("h1")).textContent=`${Lt.str("Current mod version is")} K3`,I=ve(),j=ye("div"),(M=ye("h2")).textContent=`${Lt.str("PC Installation & Update Guide")}`,N=ve(),B=ye("ul"),(F=ye("li")).textContent=`${Lt.str("Unzip the archive to a NEW folder. It strongly recommended not merging the contents with your existing Dioxine_XPiratez folder, as this can lead to various problems.")}`,L=ve(),(R=ye("li")).textContent=`${Lt.str("You need your files of the original UFO")}: ${Lt.str("Enemy Unknown or X-Com")}: ${Lt.str("UFO Defense game (either DOS or Steam version) to launch the mod. Copy them to the Dioxine_XPiratez\\UFO folder.")}`,D=ve(),(P=ye("li")).textContent=`${Lt.str("X-Piratez is distributed with the compatible OXCE engine version. There is no need to replace or upgrade OXCE, as other builds may not be compatible with your version of X-Piratez. Because of that, we recommend you turn off the 'Automatic update check' user option (options\\advanced\\general.) This option does not check for updates of the mod itself.")}`,z=ve(),(H=ye("li")).textContent=`${Lt.str("If you already have X-Piratez saves, you can copy them from the old Dioxine_XPiratez\\user\\piratez folder to the new one.")}`,U=ve(),(Z=ye("li")).textContent=`${Lt.str("Optionally, you can also copy user settings from the old Dioxine_XPiratez\\user folder to the new one (options.cfg file.)")}`,G=ve(),(q=ye("li")).textContent=`${Lt.str("Optionally, don't delete your outdated version. Just in case.")}`,W=ve(),X=ye("h4"),K=ve(),Y=ye("div"),(V=ye("div")).textContent=`\n          "${Lt.str("READ OR DIE. The Bootypedia is your friend. Trust me on that.")}"\n        `,J=ve(),(Q=ye("div")).textContent=`\n          – Dioxine, ${Lt.str("mod author, lead designer")}`,tt=ve(),et=ye("h4"),nt=ve(),rt=ye("div"),it=ye("h3"),ot=ye("img"),lt=be(Wn),at=ve(),ct=ye("ul"),(ut=ye("li")).textContent=`${Lt.str("Contains some NUDITY of both sexes. You've been warned. Also take note this is not any porn-quality T&A since it's not a porn game.")}`,ft=ve(),(dt=ye("li")).textContent=`${Lt.str("Do not install OpenXcom nightlies! They are not compatible with X-Piratez. (Requires OXCE version.)")}`,pt=ve(),(ht=ye("li")).textContent=`${Lt.str("If you absolutely can't stand bikini babes fighting Nazis with chainsaws, you may suffer some trauma.")}`,mt=ve(),(gt=ye("li")).textContent=`${Lt.str("If you're looking for a tactical game that doesn't require brains, try DOTA instead.")}`,yt=ve(),(bt=ye("li")).textContent=`${Lt.str("A single campaign might take as much as 400 hours.")}`,vt=ve(),($t=ye("li")).textContent=`${Lt.str("Contains riddles. Not everything is what it seems.")}`,wt=ve(),(xt=ye("li")).textContent=`${Lt.str("Read or Die.")}`,kt=ve(),At=ye("br"),_t=ve(),St=ye("div"),Ct=ye("div"),Ot=ye("img"),Et=ve(),It=ye("br"),jt=ve(),(Mt=ye("strong")).textContent="Dioxine",Nt=ve(),Bt=ye("br"),Ft=ve(),Rt=be(Xn),Dt=ve(),Pt=ye("br"),zt=ve(),Ht=ye("br"),Ut=ve(),Zt=be(Kn),Gt=ve(),qt=ye("br"),Wt=be("\n        GSDioxine@gmail.com"),Xt=ve(),Kt=ye("div"),Yt=ye("img"),Jt=ve(),Qt=ye("br"),te=ve(),(ee=ye("strong")).textContent="Meridian",ne=ve(),re=ye("br"),ie=ve(),oe=be(Yn),le=ve(),ae=ye("br"),ce=ve(),ue=ye("br"),fe=ve(),de=be(Vn),ge=ve(),$e=ye("br"),we=be("\n        martin.dzurenko@gmail.com"),ke=ve(),Ae=ye("br"),_e=ve(),Se=ye("h4"),Ce=ve(),Oe=ye("div"),Te=ye("div"),Ee=ye("img"),je=ve(),Me=ye("br"),Ne=ve(),(Be=ye("strong")).textContent=`${Lt.str("Join the Transifex team!")}`,Fe=ve(),Le=ye("br"),Re=ve(),De=be(Jn),Pe=ve(),ze=ye("br"),He=ve(),Ue=ye("br"),Ze=ve(),Ge=be(Qn),qe=ve(),We=ye("div"),Xe=ye("img"),Ye=ve(),Ve=ye("br"),Je=ve(),(Qe=ye("strong")).textContent="X-Piratez Discord",tn=ve(),en=ye("br"),nn=ve(),rn=be(tr),on=ve(),sn=ye("br"),ln=ve(),an=ye("br"),cn=ve(),un=be(er),fn=ve(),dn=ye("br"),pn=ve(),hn=be(nr),mn=ve(),gn=ye("br"),yn=ve(),bn=ye("h4"),vn=ve(),$n=ye("div"),wn=be(rr),xn=be(" Bartojan, Dorothy Haze, Mey-ow & Solarius Scorch\n    "),kn=ye("br"),An=ve(),_n=be(ir),Sn=be("!\n    "),Cn=ye("br"),On=ve(),Tn=be(or),En=ve(),(In=ye("a")).textContent="Baturinsky's XPedia",jn=be(".\n    "),Mn=ye("br"),Nn=ve(),Bn=be(sr),Fn=ve(),(Ln=ye("a")).textContent=`${Lt.str("Finnik, XCF junior developer")}`,Rn=be("."),Dn=ve(),(Pn=ye("div")).innerHTML='<div class="imgcol" style="background-color:#232727"><img class="imgbox" src="xpedia/images/XFox.png" alt="#StandWithXPZ" title="Download links will be available soon"> \n      <div class="rejoice">#StandWithXPZ</div></div> \n    <div class="imgcol"><img class="imgbox" src="xpedia/images/screen035.png" alt="screen035.png"> \n      <img class="imgbox" src="xpedia/images/screen226.png" alt="screen226.png"> \n      <img class="imgbox" src="xpedia/images/screen1209.png" alt="screen1209.png"> \n      <img class="imgbox" src="xpedia/images/screen164.png" alt="screen164.png"> \n      <img class="imgbox" src="xpedia/images/screen757.png" alt="screen757.png"> \n      <img class="imgbox" src="xpedia/images/screen1325.png" alt="screen1325.png"> \n      <img class="imgbox" src="xpedia/images/screen135.png" alt="screen135.png"> \n      <img class="imgbox" src="xpedia/images/screen692.png" alt="screen692.png"> \n      <img class="imgbox" src="xpedia/images/screen064.png" alt="screen064.png"></div>',xe(r,"class","title-image"),r.src!==(i="xpedia/images/Title.png")&&xe(r,"src","xpedia/images/Title.png"),xe(r,"alt","Title art by Anna Zemlina"),xe(r,"title","Art by Anna Zemlina. X-Piratez logo by Alla Panova."),xe(O,"class","columns"),xe(B,"class","guide"),xe(j,"class","guide"),xe(V,"class","quote"),xe(Q,"class","qsign"),xe(ot,"class","warnings-icon"),ot.src!==(st="xpedia/images/warning.png")&&xe(ot,"src","xpedia/images/warning.png"),xe(ot,"alt","!!"),xe(ct,"class","warnings"),xe(rt,"class","warnings"),xe(Ot,"class","extlink-icon"),Ot.src!==(Tt="xpedia/images/Dioxine.png")&&xe(Ot,"src","xpedia/images/Dioxine.png"),xe(Ot,"alt","Dioxine"),xe(Mt,"class","man"),xe(Ct,"class","extlink"),xe(Ct,"onclick","window.open('https://www.paypal.com/myaccount/transfer/homepage', '_blank')"),xe(Yt,"class","extlink-icon"),Yt.src!==(Vt="xpedia/images/Meridian.png")&&xe(Yt,"src","xpedia/images/Meridian.png"),xe(Yt,"alt","Meridian"),xe(ee,"class","man"),xe(Kt,"class","extlink"),xe(Kt,"onclick","window.open('https://www.paypal.com/myaccount/transfer/homepage', '_blank')"),xe(St,"class","cellar"),xe(Ee,"class","extlink-icon"),Ee.src!==(Ie="xpedia/images/TX.png")&&xe(Ee,"src","xpedia/images/TX.png"),xe(Ee,"alt","Transifex"),xe(Be,"class","man"),xe(Te,"class","extlink"),xe(Te,"onclick","window.open('https://www.transifex.com/openxcom/openxcom-mods/dashboard', '_blank')"),xe(Xe,"class","extlink-icon"),Xe.src!==(Ke="xpedia/images/XPZ.png")&&xe(Xe,"src","xpedia/images/XPZ.png"),xe(Xe,"alt","Troubleshooting here"),xe(Qe,"class","man"),xe(We,"class","extlink"),xe(We,"onclick","window.open('https://discordapp.com/invite/b5KXPvX', '_blank')"),xe(Oe,"class","cellar"),xe(In,"href","https://github.com/baturinsky/xpedia/"),xe(In,"target","_blank"),xe(Ln,"href","http://thexcomfiles.xyz/"),xe(Ln,"target","_blank"),xe($n,"class","credits"),xe(n,"class","column is-full-touch is-9-desktop"),xe(Pn,"class","column is-hidden-touch is-3-desktop"),xe(e,"class","columns")},m(t,i){he(t,e,i),pe(e,n),pe(n,r),pe(n,o),pe(n,s),pe(n,l),pe(n,a),pe(n,c),pe(n,u),pe(n,f),pe(n,d),pe(n,p),pe(n,h),pe(n,m),pe(n,g),pe(n,y),pe(n,b),pe(n,v),pe(n,$),pe(n,w),pe(n,x),pe(n,k),pe(n,A),pe(n,_),pe(n,S),pe(n,C),pe(n,O),pe(n,T),pe(n,E),pe(n,I),pe(n,j),pe(j,M),pe(j,N),pe(j,B),pe(B,F),pe(B,L),pe(B,R),pe(B,D),pe(B,P),pe(B,z),pe(B,H),pe(B,U),pe(B,Z),pe(B,G),pe(B,q),pe(n,W),pe(n,X),pe(n,K),pe(n,Y),pe(Y,V),pe(Y,J),pe(Y,Q),pe(n,tt),pe(n,et),pe(n,nt),pe(n,rt),pe(rt,it),pe(it,ot),pe(it,lt),pe(rt,at),pe(rt,ct),pe(ct,ut),pe(ct,ft),pe(ct,dt),pe(ct,pt),pe(ct,ht),pe(ct,mt),pe(ct,gt),pe(ct,yt),pe(ct,bt),pe(ct,vt),pe(ct,$t),pe(ct,wt),pe(ct,xt),pe(n,kt),pe(n,At),pe(n,_t),pe(n,St),pe(St,Ct),pe(Ct,Ot),pe(Ct,Et),pe(Ct,It),pe(Ct,jt),pe(Ct,Mt),pe(Ct,Nt),pe(Ct,Bt),pe(Ct,Ft),pe(Ct,Rt),pe(Ct,Dt),pe(Ct,Pt),pe(Ct,zt),pe(Ct,Ht),pe(Ct,Ut),pe(Ct,Zt),pe(Ct,Gt),pe(Ct,qt),pe(Ct,Wt),pe(St,Xt),pe(St,Kt),pe(Kt,Yt),pe(Kt,Jt),pe(Kt,Qt),pe(Kt,te),pe(Kt,ee),pe(Kt,ne),pe(Kt,re),pe(Kt,ie),pe(Kt,oe),pe(Kt,le),pe(Kt,ae),pe(Kt,ce),pe(Kt,ue),pe(Kt,fe),pe(Kt,de),pe(Kt,ge),pe(Kt,$e),pe(Kt,we),pe(n,ke),pe(n,Ae),pe(n,_e),pe(n,Se),pe(n,Ce),pe(n,Oe),pe(Oe,Te),pe(Te,Ee),pe(Te,je),pe(Te,Me),pe(Te,Ne),pe(Te,Be),pe(Te,Fe),pe(Te,Le),pe(Te,Re),pe(Te,De),pe(Te,Pe),pe(Te,ze),pe(Te,He),pe(Te,Ue),pe(Te,Ze),pe(Te,Ge),pe(Oe,qe),pe(Oe,We),pe(We,Xe),pe(We,Ye),pe(We,Ve),pe(We,Je),pe(We,Qe),pe(We,tn),pe(We,en),pe(We,nn),pe(We,rn),pe(We,on),pe(We,sn),pe(We,ln),pe(We,an),pe(We,cn),pe(We,un),pe(We,fn),pe(We,dn),pe(We,pn),pe(We,hn),pe(n,mn),pe(n,gn),pe(n,yn),pe(n,bn),pe(n,vn),pe(n,$n),pe($n,wn),pe($n,xn),pe($n,kn),pe($n,An),pe($n,_n),pe($n,Sn),pe($n,Cn),pe($n,On),pe($n,Tn),pe($n,En),pe($n,In),pe($n,jn),pe($n,Mn),pe($n,Nn),pe($n,Bn),pe($n,Fn),pe($n,Ln),pe($n,Rn),pe(e,Dn),pe(e,Pn)},p:se,i:se,o:se,d(t){t&&me(e)}}}class hn extends Je{constructor(t){super(),Ve(this,t,null,pn,fe,{})}}function mn(t,e,n){const r=t.slice();return r[2]=e[n],r[4]=n,r}function gn(t){let e,n,r,i=0==t[4]?"":t[1]?"</br>":", ";const o=new rn({props:{href:t[2]}});return{c(){n=ve(),We(o.$$.fragment),e=new Se(i,n)},m(t,i){e.m(t,i),he(t,n,i),Xe(o,t,i),r=!0},p(t,n){(!r||2&n)&&i!==(i=0==t[4]?"":t[1]?"</br>":", ")&&e.p(i);const s={};1&n&&(s.href=t[2]),o.$set(s)},i(t){r||(Ze(o.$$.fragment,t),r=!0)},o(t){Ge(o.$$.fragment,t),r=!1},d(t){t&&e.d(),t&&me(n),Ke(o,t)}}}function yn(t){let e,n,r=t[0],i=[];for(let e=0;e<r.length;e+=1)i[e]=gn(mn(t,r,e));const o=t=>Ge(i[t],1,1,()=>{i[t]=null});return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=$e()},m(t,r){for(let e=0;e<i.length;e+=1)i[e].m(t,r);he(t,e,r),n=!0},p(t,[n]){if(3&n){let s;for(r=t[0],s=0;s<r.length;s+=1){const o=mn(t,r,s);i[s]?(i[s].p(o,n),Ze(i[s],1)):(i[s]=gn(o),i[s].c(),Ze(i[s],1),i[s].m(e.parentNode,e))}for(He(),s=r.length;s<i.length;s+=1)o(s);Ue()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)Ze(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)Ge(i[t]);n=!1},d(t){ge(i,t),t&&me(e)}}}function bn(t,e,n){let{items:r}=e,{vertical:i=!1}=e;return t.$set=(t=>{"items"in t&&n(0,r=t.items),"vertical"in t&&n(1,i=t.vertical)}),[r,i]}class vn extends Je{constructor(t){super(),Ve(this,t,bn,yn,fe,{items:0,vertical:1})}}function $n(t,e,n){const r=t.slice();return r[1]=e[n],r[3]=n,r}function wn(t){let e;const n=new rn({props:{href:t[0]}});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.href=t[0]),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function xn(t){let e,n,r=t[0].toLocaleString()+"";return{c(){e=ye("em"),n=be(r),xe(e,"class","num")},m(t,r){he(t,e,r),pe(e,n)},p(t,e){1&e&&r!==(r=t[0].toLocaleString()+"")&&ke(n,r)},i:se,o:se,d(t){t&&me(e)}}}function kn(t){let e,n,r=Lt.str(t[0].toString())+"";return{c(){e=ye("span"),n=be(r),_e(e,"color",t[0]?"lime":"red")},m(t,r){he(t,e,r),pe(e,n)},p(t,i){1&i&&r!==(r=Lt.str(t[0].toString())+"")&&ke(n,r),1&i&&_e(e,"color",t[0]?"lime":"red")},i:se,o:se,d(t){t&&me(e)}}}function An(t){let e,n,r=Object.keys(t[0]).sort(),i=[];for(let e=0;e<r.length;e+=1)i[e]=Sn($n(t,r,e));const o=t=>Ge(i[t],1,1,()=>{i[t]=null});return{c(){e=ye("table");for(let t=0;t<i.length;t+=1)i[t].c();xe(e,"class","number-table")},m(t,r){he(t,e,r);for(let t=0;t<i.length;t+=1)i[t].m(e,null);n=!0},p(t,n){if(1&n){let s;for(r=Object.keys(t[0]).sort(),s=0;s<r.length;s+=1){const o=$n(t,r,s);i[s]?(i[s].p(o,n),Ze(i[s],1)):(i[s]=Sn(o),i[s].c(),Ze(i[s],1),i[s].m(e,null))}for(He(),s=r.length;s<i.length;s+=1)o(s);Ue()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)Ze(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)Ge(i[t]);n=!1},d(t){t&&me(e),ge(i,t)}}}function _n(t){let e;const n=new vn({props:{items:t[0],vertical:!0}});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.items=t[0]),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function Sn(t){let e,n,r,i,o,s,l,a,c=Lt.decamelize(t[1])+"";const u=new rn({props:{href:t[0][t[1]]}});return{c(){e=ye("tr"),n=ye("td"),r=ye("nobr"),i=ve(),o=ye("td"),s=ye("em"),We(u.$$.fragment),l=ve()},m(t,f){he(t,e,f),pe(e,n),pe(n,r),r.innerHTML=c,pe(e,i),pe(e,o),pe(o,s),Xe(u,s,null),pe(e,l),a=!0},p(t,e){(!a||1&e)&&c!==(c=Lt.decamelize(t[1])+"")&&(r.innerHTML=c);const n={};1&e&&(n.href=t[0][t[1]]),u.$set(n)},i(t){a||(Ze(u.$$.fragment,t),a=!0)},o(t){Ge(u.$$.fragment,t),a=!1},d(t){t&&me(e),Ke(u)}}}function Cn(t){let e,n,r,i,o,s;const l=[_n,An,kn,xn,wn],a=[];function c(t,r){return 1&r&&(e=!!Array.isArray(t[0])),e?0:t[0]instanceof Object?1:!0===t[0]||!1===t[0]?2:(1&r&&(n=!isNaN(+t[0])),n?3:4)}return r=c(t,-1),i=a[r]=l[r](t),{c(){i.c(),o=$e()},m(t,e){a[r].m(t,e),he(t,o,e),s=!0},p(t,[e]){let n=r;(r=c(t,e))===n?a[r].p(t,e):(He(),Ge(a[n],1,1,()=>{a[n]=null}),Ue(),(i=a[r])||(i=a[r]=l[r](t)).c(),Ze(i,1),i.m(o.parentNode,o))},i(t){s||(Ze(i),s=!0)},o(t){Ge(i),s=!1},d(t){a[r].d(t),t&&me(o)}}}function On(t,e,n){let{val:r}=e;return t.$set=(t=>{"val"in t&&n(0,r=t.val)}),[r]}class Tn extends Je{constructor(t){super(),Ve(this,t,On,Cn,fe,{val:0})}}function En(t,e,n){const r=t.slice();return r[2]=e[n],r[4]=n,r}function In(t){let e,n,r,i=0==t[4]?"":t[1]?"</br>":", ";const o=new rn({props:{href:t[2]}});return{c(){n=ve(),We(o.$$.fragment),e=new Se(i,n)},m(t,i){e.m(t,i),he(t,n,i),Xe(o,t,i),r=!0},p(t,n){(!r||2&n)&&i!==(i=0==t[4]?"":t[1]?"</br>":", ")&&e.p(i);const s={};1&n&&(s.href=t[2]),o.$set(s)},i(t){r||(Ze(o.$$.fragment,t),r=!0)},o(t){Ge(o.$$.fragment,t),r=!1},d(t){t&&e.d(),t&&me(n),Ke(o,t)}}}function jn(t){let e,n,r=t[0],i=[];for(let e=0;e<r.length;e+=1)i[e]=In(En(t,r,e));const o=t=>Ge(i[t],1,1,()=>{i[t]=null});return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=$e()},m(t,r){for(let e=0;e<i.length;e+=1)i[e].m(t,r);he(t,e,r),n=!0},p(t,[n]){if(3&n){let s;for(r=t[0],s=0;s<r.length;s+=1){const o=En(t,r,s);i[s]?(i[s].p(o,n),Ze(i[s],1)):(i[s]=In(o),i[s].c(),Ze(i[s],1),i[s].m(e.parentNode,e))}for(He(),s=r.length;s<i.length;s+=1)o(s);Ue()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)Ze(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)Ge(i[t]);n=!1},d(t){ge(i,t),t&&me(e)}}}function Mn(t,e,n){let{items:r}=e,{vertical:i=!1}=e;return t.$set=(t=>{"items"in t&&n(0,r=t.items),"vertical"in t&&n(1,i=t.vertical)}),[r,i]}class Nn extends Je{constructor(t){super(),Ve(this,t,Mn,jn,fe,{items:0,vertical:1})}}function Bn(t){let e,n,r,i,o,s,l;return{c(){e=ye("a"),xe(n=ye("img"),"style",r=t[2]+(t[1]?"float:left":"")),xe(n,"alt",i=t[0]||""),n.src!==(o=Lt.sprite(t[0]))&&xe(n,"src",o),xe(e,"href",s=Lt.sprite(t[0])),xe(e,"class","illustration"),l=[we(n,"load",t[6]),we(n,"error",t[7])]},m(t,r){he(t,e,r),pe(e,n)},p(t,l){6&l&&r!==(r=t[2]+(t[1]?"float:left":""))&&xe(n,"style",r),1&l&&i!==(i=t[0]||"")&&xe(n,"alt",i),1&l&&n.src!==(o=Lt.sprite(t[0]))&&xe(n,"src",o),1&l&&s!==(s=Lt.sprite(t[0]))&&xe(e,"href",s)},d(t){t&&me(e),ce(l)}}}function Fn(t){let e,n=t[0]&&Lt.sprite(t[0]),r=n&&Bn(t);return{c(){r&&r.c(),e=$e()},m(t,n){r&&r.m(t,n),he(t,e,n)},p(t,[i]){1&i&&(n=t[0]&&Lt.sprite(t[0])),n?r?r.p(t,i):((r=Bn(t)).c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},i:se,o:se,d(t){r&&r.d(t),t&&me(e)}}}function Ln(t,e,n){let{id:r}=e,{left:i=!1}=e,{maxWidth:o=(window.innerWidth>1400?640:320)}=e,{maxZoom:s=4}=e,{style:l=""}=e;function a(t){}console.log(r);return t.$set=(t=>{"id"in t&&n(0,r=t.id),"left"in t&&n(1,i=t.left),"maxWidth"in t&&n(4,o=t.maxWidth),"maxZoom"in t&&n(5,s=t.maxZoom),"style"in t&&n(2,l=t.style)}),[r,i,l,a,o,s,t=>void t.target,t=>(function(t){t.onerror=null,t.src="xpedia/0.png",t.style.border="none"})(t.target)]}class Rn extends Je{constructor(t){super(),Ve(this,t,Ln,Fn,fe,{id:0,left:1,maxWidth:4,maxZoom:5,style:2})}}function Dn(t,e,n){const r=t.slice();return r[3]=e[n],r[5]=n,r}function Pn(t){let e;return{c(){e=be("+")},m(t,n){he(t,e,n)},d(t){t&&me(e)}}}function zn(t){let e,n=Lt.str(t[3][0])+(1!=t[3][1]?"×<em>"+t[3][1]+"</em>":"");return{c(){e=new Se(n,null)},m(t,n){e.m(t,n)},p(t,r){2&r&&n!==(n=Lt.str(t[3][0])+(1!=t[3][1]?"×<em>"+t[3][1]+"</em>":""))&&e.p(n)},d(t){t&&e.d()}}}function Hn(t){let e,n=100*t[3][1]+"";return{c(){e=new Se(n,null)},m(t,n){e.m(t,n)},p(t,r){2&r&&n!==(n=100*t[3][1]+"")&&e.p(n)},d(t){t&&e.d()}}}function Un(t){let e,n,r,i=0!=t[5]&&function(t){let e;return{c(){e=be(" +")},m(t,n){he(t,e,n)},d(t){t&&me(e)}}}();function o(t,e){return"flatHundred"==t[3][0]?Hn:zn}let s=o(t),l=s(t);return{c(){e=ye("span"),i&&i.c(),n=ve(),l.c(),r=ve()},m(t,o){he(t,e,o),i&&i.m(e,null),pe(e,n),l.m(e,null),pe(e,r)},p(t,n){s===(s=o(t))&&l?l.p(t,n):(l.d(1),(l=s(t))&&(l.c(),l.m(e,r)))},d(t){t&&me(e),i&&i.d(),l.d()}}}function Zn(t){let e,n,r=t[1].length>0&&t[0]&&Pn(),i=t[1],o=[];for(let e=0;e<i.length;e+=1)o[e]=Un(Dn(t,i,e));return{c(){r&&r.c(),e=ve();for(let t=0;t<o.length;t+=1)o[t].c();n=$e()},m(t,i){r&&r.m(t,i),he(t,e,i);for(let e=0;e<o.length;e+=1)o[e].m(t,i);he(t,n,i)},p(t,[s]){if(t[1].length>0&&t[0]?r||((r=Pn()).c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),2&s){let e;for(i=t[1],e=0;e<i.length;e+=1){const r=Dn(t,i,e);o[e]?o[e].p(r,s):(o[e]=Un(r),o[e].c(),o[e].m(n.parentNode,n))}for(;e<o.length;e+=1)o[e].d(1);o.length=i.length}},i:se,o:se,d(t){r&&r.d(t),t&&me(e),ge(o,t),t&&me(n)}}}function Gn(t,e,n){let r,{bonus:i}=e,{plus:o=!1}=e;return t.$set=(t=>{"bonus"in t&&n(2,i=t.bonus),"plus"in t&&n(0,o=t.plus)}),t.$$.update=(()=>{4&t.$$.dirty&&n(1,r=function(t){if(!t)return[];let e=[];for(let n of Object.keys(t))if(t[n].length)for(let r in t[n]){let i=t[n][r];0!=i&&(r=1*r+1,e.push([Lt.str(n)+(1==r?"":"<sup>"+r+"</sup>"),i]))}else 0!=t[n]&&e.push([n,t[n]]);return e=e.sort((t,e)=>"flatHundred"==t[0]||t[0]<e[0]?-1:1)}(i))}),[o,r,i]}class qn extends Je{constructor(t){super(),Ve(this,t,Gn,Zn,fe,{bonus:2,plus:0})}}function Wn(t){let e,n,r,i;return{c(){var o;e=ye("a"),xe(n=ye("canvas"),"class","pixelated"),_e(n,"display",t[2]?"inline":"none"),xe(e,"href",t[0]),xe(e,"class","canvas-image"),o=r=t[3].call(null,n),i=o&&ue(o.destroy)?o.destroy:se},m(r,i){he(r,e,i),pe(e,n),t[11](n)},p(t,[r]){4&r&&_e(n,"display",t[2]?"inline":"none"),1&r&&xe(e,"href",t[0])},i:se,o:se,d(n){n&&me(e),t[11](null),i()}}}function Xn(t,e,n){let r,i,{src:o=null}=e,{maxWidth:s=1e6}=e,{maxHeight:l=1e6}=e,{zoom:a=1}=e,{item:c=null}=e,u=null,f=!1;function d(){n(1,r.width=Math.min(s,u.naturalWidth*a),r),n(1,r.height=Math.min(l,u.naturalHeight*a),r),i.imageSmoothingEnabled=!1,i.mozImageSmoothingEnabled=!1,i.webkitImageSmoothingEnabled=!1,i.drawImage(u,0,0,u.naturalWidth*a,u.naturalHeight*a),n(2,f=!0)}return t.$set=(t=>{"src"in t&&n(0,o=t.src),"maxWidth"in t&&n(4,s=t.maxWidth),"maxHeight"in t&&n(5,l=t.maxHeight),"zoom"in t&&n(6,a=t.zoom),"item"in t&&n(7,c=t.item)}),t.$$.update=(()=>{641&t.$$.dirty&&(c&&(console.log(c),n(0,o=Lt.sprite(c.sprite)),n(4,s=32*c.invWidth),n(5,l=32*c.invHeight)),o&&u&&(n(2,f=!1),n(9,u.src=o,u)))}),[o,r,f,function(t){n(1,r=t),i=r.getContext("2d"),n(9,u=new Image),n(9,u.onload=d,u),n(9,u.src=o,u)},s,l,a,c,i,u,d,function(t){je[t?"unshift":"push"](()=>{n(1,r=t)})}]}class Kn extends Je{constructor(t){super(),Ve(this,t,Xn,Wn,fe,{src:0,maxWidth:4,maxHeight:5,zoom:6,item:7})}}function Yn(t,e,n){const r=t.slice();return r[1]=e[n],r[3]=n,r}function Vn(t){let e;return{c(){(e=ye("sup")).textContent="?"},m(t,n){he(t,e,n)},d(t){t&&me(e)}}}function Jn(t){let e,n,r,i,o,s,l,a,c,u,f,d,p=Lt.str(t[1])+"",h=(Lt.lang[t[1]+"_"+t[0][t[1]]]||"")+"",m="tip_"+t[1]in Lt.lang&&Vn();const g=new Tn({props:{val:t[0][t[1]]}});return{c(){e=ye("div"),n=ye("nobr"),r=ye("span"),o=ve(),m&&m.c(),s=be("\r\n              :"),a=ve(),We(g.$$.fragment),c=ve(),f=ve(),i=new Se(p,o),xe(r,"tooltip",l="tip_"+t[1]),u=new Se(h,null)},m(t,l){he(t,e,l),pe(e,n),pe(n,r),i.m(r),pe(r,o),m&&m.m(r,null),pe(r,s),pe(n,a),Xe(g,n,null),pe(n,c),u.m(n),pe(e,f),d=!0},p(t,e){(!d||1&e)&&p!==(p=Lt.str(t[1])+"")&&i.p(p),"tip_"+t[1]in Lt.lang?m||((m=Vn()).c(),m.m(r,s)):m&&(m.d(1),m=null),(!d||1&e&&l!==(l="tip_"+t[1]))&&xe(r,"tooltip",l);const n={};1&e&&(n.val=t[0][t[1]]),g.$set(n),(!d||1&e)&&h!==(h=(Lt.lang[t[1]+"_"+t[0][t[1]]]||"")+"")&&u.p(h)},i(t){d||(Ze(g.$$.fragment,t),d=!0)},o(t){Ge(g.$$.fragment,t),d=!1},d(t){t&&me(e),m&&m.d(),Ke(g)}}}function Qn(t){let e,n,r,i,o=Object.keys(t[0]).sort(),s=[];for(let e=0;e<o.length;e+=1)s[e]=Jn(Yn(t,o,e));const l=t=>Ge(s[t],1,1,()=>{s[t]=null});return{c(){e=ye("tr"),n=ye("td"),r=ye("small");for(let t=0;t<s.length;t+=1)s[t].c();xe(n,"colspan","4"),xe(n,"class","attack-alter")},m(t,o){he(t,e,o),pe(e,n),pe(n,r);for(let t=0;t<s.length;t+=1)s[t].m(r,null);i=!0},p(t,[e]){if(1&e){let n;for(o=Object.keys(t[0]).sort(),n=0;n<o.length;n+=1){const i=Yn(t,o,n);s[n]?(s[n].p(i,e),Ze(s[n],1)):(s[n]=Jn(i),s[n].c(),Ze(s[n],1),s[n].m(r,null))}for(He(),n=o.length;n<s.length;n+=1)l(n);Ue()}},i(t){if(!i){for(let t=0;t<o.length;t+=1)Ze(s[t]);i=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)Ge(s[t]);i=!1},d(t){t&&me(e),ge(s,t)}}}function tr(t,e,n){let{items:r}=e;return console.log("alter ",r),t.$set=(t=>{"items"in t&&n(0,r=t.items)}),[r]}class er extends Je{constructor(t){super(),Ve(this,t,tr,Qn,fe,{items:0})}}function nr(t){let e;return{c(){(e=ye("sup")).textContent="?"},m(t,n){he(t,e,n)},d(t){t&&me(e)}}}function rr(t){let e,n,r,i,o,s=Lt.decamelize(t[0])+"",l="tip_"+t[0]in Lt.lang&&nr();return{c(){e=ye("td"),n=ye("div"),i=ve(),l&&l.c(),r=new Se(s,i),xe(n,"tooltip",o="tip_"+t[0])},m(t,o){he(t,e,o),pe(e,n),r.m(n),pe(n,i),l&&l.m(n,null)},p(t,[e]){1&e&&s!==(s=Lt.decamelize(t[0])+"")&&r.p(s),"tip_"+t[0]in Lt.lang?l||((l=nr()).c(),l.m(n,null)):l&&(l.d(1),l=null),1&e&&o!==(o="tip_"+t[0])&&xe(n,"tooltip",o)},i:se,o:se,d(t){t&&me(e),l&&l.d()}}}function ir(t,e,n){let{key:r}=e;return t.$set=(t=>{"key"in t&&n(0,r=t.key)}),[r]}class or extends Je{constructor(t){super(),Ve(this,t,ir,rr,fe,{key:0})}}function sr(t,e,n){const r=t.slice();return r[10]=e[n],r[9]=n,r}function lr(t,e,n){const r=t.slice();return r[7]=e[n],r[9]=n,r}function ar(t,e,n){const r=t.slice();return r[3]=e[n][0],r[4]=e[n][1],r}function cr(t,e,n){const r=t.slice();return r[15]=e[n],r}function ur(t,e,n){const r=t.slice();return r[12]=e[n],r}function fr(t){let e,n,r,i,o=t[2].length>0&&dr(t);return{c(){e=ye("tr"),n=ye("td"),r=ye("div"),o&&o.c(),xe(n,"colspan","2"),xe(n,"class","td-attacks-table")},m(t,s){he(t,e,s),pe(e,n),pe(n,r),o&&o.m(r,null),i=!0},p(t,e){t[2].length>0?o?(o.p(t,e),Ze(o,1)):((o=dr(t)).c(),Ze(o,1),o.m(r,null)):o&&(He(),Ge(o,1,1,()=>{o=null}),Ue())},i(t){i||(Ze(o),i=!0)},o(t){Ge(o),i=!1},d(t){t&&me(e),o&&o.d()}}}function dr(t){let e,n,r,i,o,s,l,a=2!=t[0].battleType&&pr(),c=t[2],u=[];for(let e=0;e<c.length;e+=1)u[e]=xr(ur(t,c,e));const f=t=>Ge(u[t],1,1,()=>{u[t]=null});let d=t[0].damageAlter&&2!=t[0].battleType&&kr(t);return{c(){e=ye("table"),n=ye("thead"),a&&a.c(),r=ve(),(i=ye("td")).textContent=`${Lt.str("damage")}`,o=ve();for(let t=0;t<u.length;t+=1)u[t].c();s=ve(),d&&d.c(),xe(e,"class","attacks-table")},m(t,c){he(t,e,c),pe(e,n),a&&a.m(n,null),pe(n,r),pe(n,i),pe(e,o);for(let t=0;t<u.length;t+=1)u[t].m(e,null);pe(e,s),d&&d.m(e,null),l=!0},p(t,i){if(2!=t[0].battleType?a?a.p(t,i):((a=pr()).c(),a.m(n,r)):a&&(a.d(1),a=null),4&i){let n;for(c=t[2],n=0;n<c.length;n+=1){const r=ur(t,c,n);u[n]?(u[n].p(r,i),Ze(u[n],1)):(u[n]=xr(r),u[n].c(),Ze(u[n],1),u[n].m(e,s))}for(He(),n=c.length;n<u.length;n+=1)f(n);Ue()}t[0].damageAlter&&2!=t[0].battleType?d?(d.p(t,i),Ze(d,1)):((d=kr(t)).c(),Ze(d,1),d.m(e,null)):d&&(He(),Ge(d,1,1,()=>{d=null}),Ue())},i(t){if(!l){for(let t=0;t<c.length;t+=1)Ze(u[t]);Ze(d),l=!0}},o(t){u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)Ge(u[t]);Ge(d),l=!1},d(t){t&&me(e),a&&a.d(),ge(u,t),d&&d.d()}}}function pr(t){let e,n,r,i,o;return{c(){(e=ye("td")).textContent=`${Lt.str("mode")}`,n=ve(),(r=ye("td")).textContent=`${Lt.str("accuracy")}`,i=ve(),(o=ye("td")).textContent=`${Lt.str("cost")}`},m(t,s){he(t,e,s),he(t,n,s),he(t,r,s),he(t,i,s),he(t,o,s)},p:se,d(t){t&&me(e),t&&me(n),t&&me(r),t&&me(i),t&&me(o)}}}function hr(t){let e,n,r,i,o,s,l,a,c,u,f,d,p,h,m,g,y,b,v,$,w,x,k,A,_,S,C=Lt.str(t[12].name)+"",O=1==t[12].shots?"":"×"+t[12].shots,T=t[12].accuracy+"",E=t[12].cost.time+"",I=t[12].flatTime?"":"%",j=t[12].range&&gr(t);const M=new qn({props:{bonus:t[12].accuracyMultiplier}});let N=Object.keys(t[12].cost),B=[];for(let e=0;e<N.length;e+=1)B[e]=br(cr(t,N,e));const F=t=>Ge(B[t],1,1,()=>{B[t]=null});return{c(){e=ye("td"),n=be(C),r=be(O),i=ve(),o=ye("td"),s=ye("nobr"),l=ye("span"),a=ye("em"),c=be(T),u=ve(),f=be("%"),d=ve(),p=ye("span"),j&&j.c(),h=ve(),m=ye("div"),We(M.$$.fragment),g=ve(),y=ye("td"),b=ye("nobr"),v=ye("em"),$=be(E),w=ve(),x=be(I),k=ve(),(A=ye("small")).textContent=`${Lt.str("TU")}`,_=ve();for(let t=0;t<B.length;t+=1)B[t].c();xe(a,"class","big-number")},m(t,C){he(t,e,C),pe(e,n),pe(e,r),he(t,i,C),he(t,o,C),pe(o,s),pe(s,l),pe(l,a),pe(a,c),pe(l,u),pe(l,f),pe(s,d),pe(s,p),j&&j.m(p,null),pe(s,h),pe(s,m),Xe(M,m,null),he(t,g,C),he(t,y,C),pe(y,b),pe(b,v),pe(v,$),pe(b,w),pe(b,x),pe(b,k),pe(b,A),pe(y,_);for(let t=0;t<B.length;t+=1)B[t].m(y,null);S=!0},p(t,e){(!S||4&e)&&C!==(C=Lt.str(t[12].name)+"")&&ke(n,C),(!S||4&e)&&O!==(O=1==t[12].shots?"":"×"+t[12].shots)&&ke(r,O),(!S||4&e)&&T!==(T=t[12].accuracy+"")&&ke(c,T),t[12].range?j?j.p(t,e):((j=gr(t)).c(),j.m(p,null)):j&&(j.d(1),j=null);const i={};if(4&e&&(i.bonus=t[12].accuracyMultiplier),M.$set(i),(!S||4&e)&&E!==(E=t[12].cost.time+"")&&ke($,E),(!S||4&e)&&I!==(I=t[12].flatTime?"":"%")&&ke(x,I),4&e){let n;for(N=Object.keys(t[12].cost),n=0;n<N.length;n+=1){const r=cr(t,N,n);B[n]?(B[n].p(r,e),Ze(B[n],1)):(B[n]=br(r),B[n].c(),Ze(B[n],1),B[n].m(y,null))}for(He(),n=N.length;n<B.length;n+=1)F(n);Ue()}},i(t){if(!S){Ze(M.$$.fragment,t);for(let t=0;t<N.length;t+=1)Ze(B[t]);S=!0}},o(t){Ge(M.$$.fragment,t),B=B.filter(Boolean);for(let t=0;t<B.length;t+=1)Ge(B[t]);S=!1},d(t){t&&me(e),t&&me(i),t&&me(o),j&&j.d(),Ke(M),t&&me(g),t&&me(y),ge(B,t)}}}function mr(t){let e,n,r,i,o,s,l,a,c,u,f,d,p,h,m,g=Lt.str("Shots")+"",y=t[12].item.clipSize+"",b=Lt.str("Wgt")+"",v=t[12].item.weight+"";const $=new Kn({props:{src:Lt.sprite(t[12].item.sprite),maxWidth:32*t[12].item.invWidth,maxHeight:32*t[12].item.invHeight,zoom:"2"}}),w=new rn({props:{href:t[12].item.type}});return{c(){e=ye("td"),We($.$$.fragment),n=ve(),r=ye("td"),We(w.$$.fragment),i=ve(),o=ye("br"),s=ve(),l=ye("small"),a=be(g),c=be(": "),u=be(y),f=ve(),d=be(b),p=be(": "),h=be(v),xe(e,"class","ammo-img svelte-1lgzdls"),xe(r,"colspan","2")},m(t,g){he(t,e,g),Xe($,e,null),he(t,n,g),he(t,r,g),Xe(w,r,null),pe(r,i),pe(r,o),pe(r,s),pe(r,l),pe(l,a),pe(l,c),pe(l,u),pe(l,f),pe(l,d),pe(l,p),pe(l,h),m=!0},p(t,e){const n={};4&e&&(n.src=Lt.sprite(t[12].item.sprite)),4&e&&(n.maxWidth=32*t[12].item.invWidth),4&e&&(n.maxHeight=32*t[12].item.invHeight),$.$set(n);const r={};4&e&&(r.href=t[12].item.type),w.$set(r),(!m||4&e)&&y!==(y=t[12].item.clipSize+"")&&ke(u,y),(!m||4&e)&&v!==(v=t[12].item.weight+"")&&ke(h,v)},i(t){m||(Ze($.$$.fragment,t),Ze(w.$$.fragment,t),m=!0)},o(t){Ge($.$$.fragment,t),Ge(w.$$.fragment,t),m=!1},d(t){t&&me(e),Ke($),t&&me(n),t&&me(r),Ke(w)}}}function gr(t){let e,n=Lt.str("at N m").replace("N",`<em>${t[12].range}</em>`)+"";return{c(){e=new Se(n,null)},m(t,n){e.m(t,n)},p(t,r){4&r&&n!==(n=Lt.str("at N m").replace("N",`<em>${t[12].range}</em>`)+"")&&e.p(n)},d(t){t&&e.d()}}}function yr(t){let e,n,r,i,o,s,l,a,c=Lt.str(t[15])+"";const u=new Tn({props:{val:t[12].cost[t[15]]}});return{c(){e=ye("br"),n=ve(),r=ye("nobr"),We(u.$$.fragment),i=ve(),o=ye("small"),s=be(c),l=ve()},m(t,c){he(t,e,c),he(t,n,c),he(t,r,c),Xe(u,r,null),pe(r,i),pe(r,o),pe(o,s),pe(r,l),a=!0},p(t,e){const n={};4&e&&(n.val=t[12].cost[t[15]]),u.$set(n),(!a||4&e)&&c!==(c=Lt.str(t[15])+"")&&ke(s,c)},i(t){a||(Ze(u.$$.fragment,t),a=!0)},o(t){Ge(u.$$.fragment,t),a=!1},d(t){t&&me(e),t&&me(n),t&&me(r),Ke(u)}}}function br(t){let e,n,r="time"!=t[15]&&0!=t[12].cost[t[15]]&&yr(t);return{c(){r&&r.c(),e=$e()},m(t,i){r&&r.m(t,i),he(t,e,i),n=!0},p(t,n){"time"!=t[15]&&0!=t[12].cost[t[15]]?r?(r.p(t,n),Ze(r,1)):((r=yr(t)).c(),Ze(r,1),r.m(e.parentNode,e)):r&&(He(),Ge(r,1,1,()=>{r=null}),Ue())},i(t){n||(Ze(r),n=!0)},o(t){Ge(r),n=!1},d(t){r&&r.d(t),t&&me(e)}}}function vr(t){let e,n,r,i,o,s,l,a,c,u,f,d,p,h,m,g,y=t[12].pellets>1&&t[12].damageBonus?"(":"",b=(t[12].damage||0)+"",v=t[12].pellets>1&&t[12].damageBonus?")":"",$=t[12].pellets>1?" ×"+t[12].pellets:"";const w=new qn({props:{plus:!0,bonus:t[12].damageBonus}});let x=t[12].damageType&&$r(t);return{c(){e=ye("nobr"),n=be(y),r=ve(),i=ye("em"),o=be(b),s=ve(),l=ye("small"),We(w.$$.fragment),a=ve(),c=be(v),u=ve(),f=be($),d=ve(),p=ye("br"),h=ve(),x&&x.c(),m=$e()},m(t,y){he(t,e,y),pe(e,n),pe(e,r),pe(e,i),pe(i,o),pe(e,s),pe(e,l),Xe(w,l,null),pe(l,a),pe(l,c),pe(e,u),pe(e,f),he(t,d,y),he(t,p,y),he(t,h,y),x&&x.m(t,y),he(t,m,y),g=!0},p(t,e){(!g||4&e)&&y!==(y=t[12].pellets>1&&t[12].damageBonus?"(":"")&&ke(n,y),(!g||4&e)&&b!==(b=(t[12].damage||0)+"")&&ke(o,b);const r={};4&e&&(r.bonus=t[12].damageBonus),w.$set(r),(!g||4&e)&&v!==(v=t[12].pellets>1&&t[12].damageBonus?")":"")&&ke(c,v),(!g||4&e)&&$!==($=t[12].pellets>1?" ×"+t[12].pellets:"")&&ke(f,$),t[12].damageType?x?(x.p(t,e),Ze(x,1)):((x=$r(t)).c(),Ze(x,1),x.m(m.parentNode,m)):x&&(He(),Ge(x,1,1,()=>{x=null}),Ue())},i(t){g||(Ze(w.$$.fragment,t),Ze(x),g=!0)},o(t){Ge(w.$$.fragment,t),Ge(x),g=!1},d(t){t&&me(e),Ke(w),t&&me(d),t&&me(p),t&&me(h),x&&x.d(t),t&&me(m)}}}function $r(t){let e;const n=new rn({props:{href:Lt.damageTypes[t[12].damageType]}});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};4&e&&(r.href=Lt.damageTypes[t[12].damageType]),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function wr(t){let e;const n=new er({props:{items:t[12].alter}});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};4&e&&(r.items=t[12].alter),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function xr(t){let e,n,r,i,o,s,l,a;const c=[mr,hr],u=[];function f(t,e){return"ammo"==t[12].mode?0:1}n=f(t),r=u[n]=c[n](t);let d=("damage"in t[12]||"damageType"in t[12])&&vr(t),p="ammo"==t[12].mode&&t[12].alter&&wr(t);return{c(){e=ye("tr"),r.c(),i=ve(),o=ye("td"),d&&d.c(),s=ve(),p&&p.c(),l=$e()},m(t,r){he(t,e,r),u[n].m(e,null),pe(e,i),pe(e,o),d&&d.m(o,null),he(t,s,r),p&&p.m(t,r),he(t,l,r),a=!0},p(t,s){let a=n;(n=f(t))===a?u[n].p(t,s):(He(),Ge(u[a],1,1,()=>{u[a]=null}),Ue(),(r=u[n])||(r=u[n]=c[n](t)).c(),Ze(r,1),r.m(e,i)),"damage"in t[12]||"damageType"in t[12]?d?(d.p(t,s),Ze(d,1)):((d=vr(t)).c(),Ze(d,1),d.m(o,null)):d&&(He(),Ge(d,1,1,()=>{d=null}),Ue()),"ammo"==t[12].mode&&t[12].alter?p?(p.p(t,s),Ze(p,1)):((p=wr(t)).c(),Ze(p,1),p.m(l.parentNode,l)):p&&(He(),Ge(p,1,1,()=>{p=null}),Ue())},i(t){a||(Ze(r),Ze(d),Ze(p),a=!0)},o(t){Ge(r),Ge(d),Ge(p),a=!1},d(t){t&&me(e),u[n].d(),d&&d.d(),t&&me(s),p&&p.d(t),t&&me(l)}}}function kr(t){let e;const n=new er({props:{items:t[0].damageAlter}});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.items=t[0].damageAlter),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function Ar(t){let e,n,r,i,o,s,l,a,c,u,f,d,p;const h=new or({props:{key:t[3]}}),m=[jr,Ir,Er,Tr,Or,Cr,Sr,_r],g=[];function y(t,e){return 1&e&&(i=!!["requiresBuyBaseFunc"].includes(t[3])),i?0:(1&e&&(o=!!["manufacture","componentOf"].includes(t[3])),o?1:(1&e&&(s=!!["damageBonus","meleeBonus","accuracyMultiplier","meleeMultiplier","closeQuartersMultiplier"].includes(t[3])),s?2:(1&e&&(l=!!["damageType","meleeType"].includes(t[3])),l?3:"battleType"==t[3]?4:(1&e&&(a=!!t[3].includes("Sound")),a?5:(1&e&&(c=!!["floorSprite","handSprite"].includes(t[3])),c?6:7)))))}return u=y(t,-1),f=g[u]=m[u](t),{c(){e=ye("tr"),We(h.$$.fragment),n=ve(),r=ye("td"),f.c(),d=ve(),xe(r,"class","right-column svelte-1lgzdls")},m(t,i){he(t,e,i),Xe(h,e,null),pe(e,n),pe(e,r),g[u].m(r,null),pe(e,d),p=!0},p(t,e){const n={};1&e&&(n.key=t[3]),h.$set(n);let i=u;(u=y(t,e))===i?g[u].p(t,e):(He(),Ge(g[i],1,1,()=>{g[i]=null}),Ue(),(f=g[u])||(f=g[u]=m[u](t)).c(),Ze(f,1),f.m(r,null))},i(t){p||(Ze(h.$$.fragment,t),Ze(f),p=!0)},o(t){Ge(h.$$.fragment,t),Ge(f),p=!1},d(t){t&&me(e),Ke(h),g[u].d()}}}function _r(t){let e;const n=new Tn({props:{val:t[4]}});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.val=t[4]),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function Sr(t){let e,n,r,i,o,s,l,a=t[4]+"";return{c(){e=ye("a"),n=be(a),i=ve(),o=ye("img"),_e(e,"vertical-align","top"),xe(e,"href",r=Lt.specialSprite(t[3],t[4])),xe(o,"class","sprite svelte-1lgzdls"),xe(o,"alt",s=t[4]),o.src!==(l=Lt.specialSprite(t[3],t[4]))&&xe(o,"src",l)},m(t,r){he(t,e,r),pe(e,n),he(t,i,r),he(t,o,r)},p(t,i){1&i&&a!==(a=t[4]+"")&&ke(n,a),1&i&&r!==(r=Lt.specialSprite(t[3],t[4]))&&xe(e,"href",r),1&i&&s!==(s=t[4])&&xe(o,"alt",s),1&i&&o.src!==(l=Lt.specialSprite(t[3],t[4]))&&xe(o,"src",l)},i:se,o:se,d(t){t&&me(e),t&&me(i),t&&me(o)}}}function Cr(t){let e,n=Lr(t[4]),r=[];for(let e=0;e<n.length;e+=1)r[e]=Mr(sr(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=$e()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);he(t,e,n)},p(t,i){if(1&i){let o;for(n=Lr(t[4]),o=0;o<n.length;o+=1){const s=sr(t,n,o);r[o]?r[o].p(s,i):(r[o]=Mr(s),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},i:se,o:se,d(t){ge(r,t),t&&me(e)}}}function Or(t){let e,n,r,i=t[4]+"",o=Lt.str(Lt.battleTypes[t[4]])+"";return{c(){e=be(i),n=be(": "),r=be(o)},m(t,i){he(t,e,i),he(t,n,i),he(t,r,i)},p(t,n){1&n&&i!==(i=t[4]+"")&&ke(e,i),1&n&&o!==(o=Lt.str(Lt.battleTypes[t[4]])+"")&&ke(r,o)},i:se,o:se,d(t){t&&me(e),t&&me(n),t&&me(r)}}}function Tr(t){let e,n=Lt.damageTypeName(t[4])+"";return{c(){e=be(n)},m(t,n){he(t,e,n)},p(t,r){1&r&&n!==(n=Lt.damageTypeName(t[4])+"")&&ke(e,n)},i:se,o:se,d(t){t&&me(e)}}}function Er(t){let e;const n=new qn({props:{bonus:t[4]}});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.bonus=t[4]),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function Ir(t){let e,n,r=Object.keys(t[4]),i=[];for(let e=0;e<r.length;e+=1)i[e]=Nr(lr(t,r,e));const o=t=>Ge(i[t],1,1,()=>{i[t]=null});return{c(){e=ye("table");for(let t=0;t<i.length;t+=1)i[t].c();xe(e,"class","number-table")},m(t,r){he(t,e,r);for(let t=0;t<i.length;t+=1)i[t].m(e,null);n=!0},p(t,n){if(1&n){let s;for(r=Object.keys(t[4]),s=0;s<r.length;s+=1){const o=lr(t,r,s);i[s]?(i[s].p(o,n),Ze(i[s],1)):(i[s]=Nr(o),i[s].c(),Ze(i[s],1),i[s].m(e,null))}for(He(),s=r.length;s<i.length;s+=1)o(s);Ue()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)Ze(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)Ge(i[t]);n=!1},d(t){t&&me(e),ge(i,t)}}}function jr(t){let e;const n=new Nn({props:{items:t[4],vertical:!0}});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.items=t[4]),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function Mr(t){let e,n,r,i,o,s=t[9]>0?"<br/>":"";return{c(){n=ve(),r=ye("audio"),i=be("Audio tag not working"),e=new Se(s,n),r.controls=!0,r.src!==(o=t[10])&&xe(r,"src",o)},m(t,o){e.m(t,o),he(t,n,o),he(t,r,o),pe(r,i)},p(t,e){1&e&&r.src!==(o=t[10])&&xe(r,"src",o)},d(t){t&&e.d(),t&&me(n),t&&me(r)}}}function Nr(t){let e,n,r,i,o,s,l,a,c=t[4][t[7]]+"";const u=new rn({props:{href:t[7]}});return{c(){e=ye("tr"),n=ye("td"),r=ye("em"),i=be(c),o=ve(),s=ye("td"),We(u.$$.fragment),l=ve()},m(t,c){he(t,e,c),pe(e,n),pe(n,r),pe(r,i),pe(e,o),pe(e,s),Xe(u,s,null),pe(e,l),a=!0},p(t,e){(!a||1&e)&&c!==(c=t[4][t[7]]+"")&&ke(i,c);const n={};1&e&&(n.href=t[7]),u.$set(n)},i(t){a||(Ze(u.$$.fragment,t),a=!0)},o(t){Ge(u.$$.fragment,t),a=!1},d(t){t&&me(e),Ke(u)}}}function Br(t){let e,n,r=!["sprite","type","_attacks","damageAlter"].includes(t[3]),i=r&&Ar(t);return{c(){i&&i.c(),e=$e()},m(t,r){i&&i.m(t,r),he(t,e,r),n=!0},p(t,n){1&n&&(r=!["sprite","type","_attacks","damageAlter"].includes(t[3])),r?i?(i.p(t,n),Ze(i,1)):((i=Ar(t)).c(),Ze(i,1),i.m(e.parentNode,e)):i&&(He(),Ge(i,1,1,()=>{i=null}),Ue())},i(t){n||(Ze(i),n=!0)},o(t){Ge(i),n=!1},d(t){i&&i.d(t),t&&me(e)}}}function Fr(t){let e,n,r,i,o,s,l,a=(t[0].sprite&&"Resources/Blanks/Blank.png"!=t[0].sprite||t[2].length>0)&&fr(t),c=Object.entries(t[0]).sort(Rr),u=[];for(let e=0;e<c.length;e+=1)u[e]=Br(ar(t,c,e));const f=t=>Ge(u[t],1,1,()=>{u[t]=null});return{c(){e=ye("tr"),n=ye("td"),r=be(t[1]),i=ve(),a&&a.c(),o=ve();for(let t=0;t<u.length;t+=1)u[t].c();s=$e(),xe(n,"colspan","2"),xe(e,"class","table-header")},m(t,c){he(t,e,c),pe(e,n),pe(n,r),he(t,i,c),a&&a.m(t,c),he(t,o,c);for(let e=0;e<u.length;e+=1)u[e].m(t,c);he(t,s,c),l=!0},p(t,[e]){if((!l||2&e)&&ke(r,t[1]),t[0].sprite&&"Resources/Blanks/Blank.png"!=t[0].sprite||t[2].length>0?a?(a.p(t,e),Ze(a,1)):((a=fr(t)).c(),Ze(a,1),a.m(o.parentNode,o)):a&&(He(),Ge(a,1,1,()=>{a=null}),Ue()),1&e){let n;for(c=Object.entries(t[0]).sort(Rr),n=0;n<c.length;n+=1){const r=ar(t,c,n);u[n]?(u[n].p(r,e),Ze(u[n],1)):(u[n]=Br(r),u[n].c(),Ze(u[n],1),u[n].m(s.parentNode,s))}for(He(),n=c.length;n<u.length;n+=1)f(n);Ue()}},i(t){if(!l){Ze(a);for(let t=0;t<c.length;t+=1)Ze(u[t]);l=!0}},o(t){Ge(a),u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)Ge(u[t]);l=!1},d(t){t&&me(e),t&&me(i),a&&a.d(t),t&&me(o),ge(u,t),t&&me(s)}}}function Lr(t){return t?(t.length||(t=[t]),t.map(t=>Lt.path+Lt.sounds[t]).filter(t=>t)):[]}const Rr=(t,e)=>t[0]>e[0]?1:-1;function Dr(t,e,n){let r,{item:i}=e,{title:o=Lt.str("Item")}=e;return console.info(i),t.$set=(t=>{"item"in t&&n(0,i=t.item),"title"in t&&n(1,o=t.title)}),t.$$.update=(()=>{if(5&t.$$.dirty){if(n(2,r=i.attacks().slice()),i.compatibleAmmo)for(let t of i.compatibleAmmo){let e=Lt.items[t].attacks()[0];r.push(e)}console.info(r)}}),[i,o,r]}class Pr extends Je{constructor(t){super(),Ve(this,t,Dr,Fr,fe,{item:0,title:1})}}function zr(t,e,n){const r=t.slice();return r[13]=e[n],r[12]=n,r}function Hr(t,e,n){const r=t.slice();return r[10]=e[n],r[12]=n,r}function Ur(t,e,n){const r=t.slice();return r[6]=e[n][0],r[7]=e[n][1],r}function Zr(t,e,n){const r=t.slice();return r[19]=e[n],r[21]=n,r}function Gr(t,e,n){const r=t.slice();return r[6]=e[n][0],r[17]=e[n][1],r[12]=n,r}function qr(t,e,n){const r=t.slice();return r[7]=e[n],r}function Wr(t,e,n){const r=t.slice();return r[24]=e[n],r[21]=n,r}function Xr(t,e,n){const r=t.slice();return r[22]=e[n],r[12]=n,r}function Kr(t){let e,n,r;const i=new vn({props:{items:t[2]}});return{c(){(e=ye("span")).textContent="- see also",n=ve(),We(i.$$.fragment),_e(e,"color","white")},m(t,o){he(t,e,o),he(t,n,o),Xe(i,t,o),r=!0},p(t,e){const n={};4&e&&(n.items=t[2]),i.$set(n)},i(t){r||(Ze(i.$$.fragment,t),r=!0)},o(t){Ge(i.$$.fragment,t),r=!1},d(t){t&&me(e),t&&me(n),Ke(i,t)}}}function Yr(t){let e,n,r,i,o,s=t[1]?"Hide":"See";return{c(){e=ye("p"),n=ye("button"),r=be(s),i=be(" all variants"),xe(n,"class","btn-hover-effect btn-hover-effect--effect-1"),o=we(n,"click",t[3])},m(t,o){he(t,e,o),pe(e,n),pe(n,r),pe(n,i)},p(t,e){2&e&&s!==(s=t[1]?"Hide":"See")&&ke(r,s)},d(t){t&&me(e),o()}}}function Vr(t){let e,n,r,i=Object.keys(t[0].dollSprites).sort(t[4]),o=[];for(let e=0;e<i.length;e+=1)o[e]=ei(Xr(t,i,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=ve(),xe(n=ye("div"),"style",r="height:"+(t[1]?120*(Math.floor(Object.keys(t[0].dollSprites).length/$i)+1):120)+"px")},m(t,r){for(let e=0;e<o.length;e+=1)o[e].m(t,r);he(t,e,r),he(t,n,r)},p(t,s){if(3&s){let n;for(i=Object.keys(t[0].dollSprites).sort(t[4]),n=0;n<i.length;n+=1){const r=Xr(t,i,n);o[n]?o[n].p(r,s):(o[n]=ei(r),o[n].c(),o[n].m(e.parentNode,e))}for(;n<o.length;n+=1)o[n].d(1);o.length=i.length}3&s&&r!==(r="height:"+(t[1]?120*(Math.floor(Object.keys(t[0].dollSprites).length/$i)+1):120)+"px")&&xe(n,"style",r)},d(t){ge(o,t),t&&me(e),t&&me(n)}}}function Jr(t){let e,n,r=t[1]&&Qr(t),i=t[0].dollSprites[t[22]],o=[];for(let e=0;e<i.length;e+=1)o[e]=ti(Wr(t,i,e));return{c(){e=ye("div"),r&&r.c(),n=ve();for(let t=0;t<o.length;t+=1)o[t].c();xe(e,"class","armor"),_e(e,"left",t[12]%$i*80+"px"),_e(e,"top",120*Math.floor(t[12]/$i)+"px")},m(t,i){he(t,e,i),r&&r.m(e,null),pe(e,n);for(let t=0;t<o.length;t+=1)o[t].m(e,null)},p(t,s){if(t[1]?r?r.p(t,s):((r=Qr(t)).c(),r.m(e,n)):r&&(r.d(1),r=null),1&s){let n;for(i=t[0].dollSprites[t[22]],n=0;n<i.length;n+=1){const r=Wr(t,i,n);o[n]?o[n].p(r,s):(o[n]=ti(r),o[n].c(),o[n].m(e,null))}for(;n<o.length;n+=1)o[n].d(1);o.length=i.length}},d(t){t&&me(e),r&&r.d(),ge(o,t)}}}function Qr(t){let e,n,r=t[22]+"";return{c(){e=ye("div"),n=be(r),xe(e,"class","armor-variant")},m(t,r){he(t,e,r),pe(e,n)},p(t,e){1&e&&r!==(r=t[22]+"")&&ke(n,r)},d(t){t&&me(e)}}}function ti(t){let e,n,r;return{c(){(e=ye("img")).src!==(n=t[24])&&xe(e,"src",n),xe(e,"alt",r=t[22]),xe(e,"onerror","this.onerror=null; console.log(this.src + ' not found'); this.src='xpedia/0.png';"),xe(e,"class","armor-layer")},m(t,n){he(t,e,n)},p(t,i){1&i&&e.src!==(n=t[24])&&xe(e,"src",n),1&i&&r!==(r=t[22])&&xe(e,"alt",r)},d(t){t&&me(e)}}}function ei(t){let e,n=(t[1]||0==t[12])&&Jr(t);return{c(){n&&n.c(),e=$e()},m(t,r){n&&n.m(t,r),he(t,e,r)},p(t,r){t[1]||0==t[12]?n?n.p(t,r):((n=Jr(t)).c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&me(e)}}}function ni(t){let e,n,r,i,o,s,l,a=Lt.decamelize(t[7])+"",c=Object.entries(t[0][t[7]]).sort(t[5]),u=[];for(let e=0;e<c.length;e+=1)u[e]=ai(Gr(t,c,e));const f=t=>Ge(u[t],1,1,()=>{u[t]=null});return{c(){e=ye("table"),n=ye("thead"),r=ye("tr"),i=ye("td"),o=ve();for(let t=0;t<u.length;t+=1)u[t].c();s=ve(),xe(i,"colspan","2"),xe(i,"class","number-table-header"),_e(i,"text-align","center"),xe(e,"class","number-table armor-column")},m(t,c){he(t,e,c),pe(e,n),pe(n,r),pe(r,i),i.innerHTML=a,pe(e,o);for(let t=0;t<u.length;t+=1)u[t].m(e,null);pe(e,s),l=!0},p(t,n){if(1&n){let r;for(c=Object.entries(t[0][t[7]]).sort(t[5]),r=0;r<c.length;r+=1){const i=Gr(t,c,r);u[r]?(u[r].p(i,n),Ze(u[r],1)):(u[r]=ai(i),u[r].c(),Ze(u[r],1),u[r].m(e,s))}for(He(),r=c.length;r<u.length;r+=1)f(r);Ue()}},i(t){if(!l){for(let t=0;t<c.length;t+=1)Ze(u[t]);l=!0}},o(t){u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)Ge(u[t]);l=!1},d(t){t&&me(e),ge(u,t)}}}function ri(t){let e,n,r=Lt.decamelize(t[6])+"";return{c(){e=ye("nobr"),n=be(r)},m(t,r){he(t,e,r),pe(e,n)},p(t,e){1&e&&r!==(r=Lt.decamelize(t[6])+"")&&ke(n,r)},i:se,o:se,d(t){t&&me(e)}}}function ii(t){let e;const n=new rn({props:{href:Lt.damageTypes[t[6]]}});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.href=Lt.damageTypes[t[6]]),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function oi(t){let e,n=("damageModifier"==t[7]?Math.floor(100*t[17]):Lt.decamelize(t[17]))+"";return{c(){e=ye("em")},m(t,r){he(t,e,r),e.innerHTML=n},p(t,r){1&r&&n!==(n=("damageModifier"==t[7]?Math.floor(100*t[17]):Lt.decamelize(t[17]))+"")&&(e.innerHTML=n)},d(t){t&&me(e)}}}function si(t){let e,n=Object.keys(t[17]),r=[];for(let e=0;e<n.length;e+=1)r[e]=li(Zr(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=$e()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);he(t,e,n)},p(t,i){if(1&i){let o;for(n=Object.keys(t[17]),o=0;o<n.length;o+=1){const s=Zr(t,n,o);r[o]?r[o].p(s,i):(r[o]=li(s),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){ge(r,t),t&&me(e)}}}function li(t){let e,n,r,i,o=Lt.decamelize(t[19])+"",s=Lt.decamelize(t[17][t[19]])+"",l=0!=t[21]&&function(t){let e;return{c(){e=ye("br")},m(t,n){he(t,e,n)},d(t){t&&me(e)}}}();return{c(){l&&l.c(),e=ve(),r=be("\r\n                        :\r\n                        "),i=ye("em"),n=new Se(o,r)},m(t,o){l&&l.m(t,o),he(t,e,o),n.m(t,o),he(t,r,o),he(t,i,o),i.innerHTML=s},p(t,e){1&e&&o!==(o=Lt.decamelize(t[19])+"")&&n.p(o),1&e&&s!==(s=Lt.decamelize(t[17][t[19]])+"")&&(i.innerHTML=s)},d(t){l&&l.d(t),t&&me(e),t&&n.d(),t&&me(r),t&&me(i)}}}function ai(t){let e,n,r,i,o,s,l;const a=[ii,ri],c=[];r=function(t,e){return"damageModifier"==t[7]?0:1}(t),i=c[r]=a[r](t);let u=function(t,e){return"recovery"==t[7]?si:oi}(t)(t);return{c(){e=ye("tr"),n=ye("td"),i.c(),o=ve(),s=ye("td"),u.c()},m(t,i){he(t,e,i),pe(e,n),c[r].m(n,null),pe(e,o),pe(e,s),u.m(s,null),l=!0},p(t,e){i.p(t,e),u.p(t,e)},i(t){l||(Ze(i),l=!0)},o(t){Ge(i),l=!1},d(t){t&&me(e),c[r].d(),u.d()}}}function ci(t){let e,n,r=t[0][t[7]]&&ni(t);return{c(){r&&r.c(),e=$e()},m(t,i){r&&r.m(t,i),he(t,e,i),n=!0},p(t,n){t[0][t[7]]?r?(r.p(t,n),Ze(r,1)):((r=ni(t)).c(),Ze(r,1),r.m(e.parentNode,e)):r&&(He(),Ge(r,1,1,()=>{r=null}),Ue())},i(t){n||(Ze(r),n=!0)},o(t){Ge(r),n=!1},d(t){r&&r.d(t),t&&me(e)}}}function ui(t){let e,n,r,i,o,s,l,a,c,u,f=Lt.decamelize(t[6])+"";const d=[mi,hi,pi,di,fi],p=[];function h(t,e){return"damageModifier"==t[6]?0:(1&e&&(o=!!["corpseBattle"].includes(t[6])),o?1:"spriteSheet"==t[6]?2:(1&e&&(s=!!["builtInWeapons","users","units"].includes(t[6])),s?3:4))}return l=h(t,-1),a=p[l]=d[l](t),{c(){e=ye("tr"),n=ye("td"),r=ve(),i=ye("td"),a.c(),c=ve()},m(t,o){he(t,e,o),pe(e,n),n.innerHTML=f,pe(e,r),pe(e,i),p[l].m(i,null),pe(e,c),u=!0},p(t,e){(!u||1&e)&&f!==(f=Lt.decamelize(t[6])+"")&&(n.innerHTML=f);let r=l;(l=h(t,e))===r?p[l].p(t,e):(He(),Ge(p[r],1,1,()=>{p[r]=null}),Ue(),(a=p[l])||(a=p[l]=d[l](t)).c(),Ze(a,1),a.m(i,null))},i(t){u||(Ze(a),u=!0)},o(t){Ge(a),u=!1},d(t){t&&me(e),p[l].d()}}}function fi(t){let e;const n=new Tn({props:{val:t[7]}});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.val=t[7]),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function di(t){let e,n,r=t[7].filter(xi),i=[];for(let e=0;e<r.length;e+=1)i[e]=gi(zr(t,r,e));const o=t=>Ge(i[t],1,1,()=>{i[t]=null});return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=$e()},m(t,r){for(let e=0;e<i.length;e+=1)i[e].m(t,r);he(t,e,r),n=!0},p(t,n){if(1&n){let s;for(r=t[7].filter(xi),s=0;s<r.length;s+=1){const o=zr(t,r,s);i[s]?(i[s].p(o,n),Ze(i[s],1)):(i[s]=gi(o),i[s].c(),Ze(i[s],1),i[s].m(e.parentNode,e))}for(He(),s=r.length;s<i.length;s+=1)o(s);Ue()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)Ze(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)Ge(i[t]);n=!1},d(t){ge(i,t),t&&me(e)}}}function pi(t){let e,n,r,i=t[7]+"";return{c(){e=ye("a"),n=be(i),xe(e,"href",r=Lt.sprite(t[7]))},m(t,r){he(t,e,r),pe(e,n)},p(t,o){1&o&&i!==(i=t[7]+"")&&ke(n,i),1&o&&r!==(r=Lt.sprite(t[7]))&&xe(e,"href",r)},i:se,o:se,d(t){t&&me(e)}}}function hi(t){let e;const n=new rn({props:{href:t[7][0]}});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.href=t[7][0]),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function mi(t){let e,n=t[7],r=[];for(let e=0;e<n.length;e+=1)r[e]=yi(Hr(t,n,e));return{c(){e=ye("table");for(let t=0;t<r.length;t+=1)r[t].c();xe(e,"class","number-table")},m(t,n){he(t,e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null)},p(t,i){if(1&i){let o;for(n=t[7],o=0;o<n.length;o+=1){const s=Hr(t,n,o);r[o]?r[o].p(s,i):(r[o]=yi(s),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},i:se,o:se,d(t){t&&me(e),ge(r,t)}}}function gi(t){let e,n,r=0!=t[12]&&function(t){let e;return{c(){e=be(",")},m(t,n){he(t,e,n)},d(t){t&&me(e)}}}();const i=new rn({props:{href:t[13]}});return{c(){r&&r.c(),e=ve(),We(i.$$.fragment)},m(t,o){r&&r.m(t,o),he(t,e,o),Xe(i,t,o),n=!0},p(t,e){const n={};1&e&&(n.href=t[13]),i.$set(n)},i(t){n||(Ze(i.$$.fragment,t),n=!0)},o(t){Ge(i.$$.fragment,t),n=!1},d(t){r&&r.d(t),t&&me(e),Ke(i,t)}}}function yi(t){let e,n,r,i,o,s,l,a,c=Lt.damageTypeName(t[12])+"",u=Math.round(100*t[10])+"";return{c(){e=ye("tr"),n=ye("td"),r=be(c),i=ve(),o=ye("td"),s=be(u),l=be("%"),a=ve(),xe(n,"width","50%"),xe(n,"class","number-table1"),xe(o,"width","50%"),xe(o,"class","number-table2")},m(t,c){he(t,e,c),pe(e,n),pe(n,r),pe(e,i),pe(e,o),pe(o,s),pe(o,l),pe(e,a)},p(t,e){1&e&&u!==(u=Math.round(100*t[10])+"")&&ke(s,u)},d(t){t&&me(e)}}}function bi(t){let e,n,r=!["recovery","type","layersDefinition","spriteFaceColor","spriteHairColor","spriteUtileColor","spriteFaceGroup","spriteHairGroup","spriteUtileGroup","customArmorPreviewIndex","dollSprites","layersDefaultPrefix","frontArmor","sideArmor","rearArmor","underArmor","spriteInv","scripts","armor","damageModifier","stats"].includes(t[6]),i=r&&ui(t);return{c(){i&&i.c(),e=$e()},m(t,r){i&&i.m(t,r),he(t,e,r),n=!0},p(t,n){1&n&&(r=!["recovery","type","layersDefinition","spriteFaceColor","spriteHairColor","spriteUtileColor","spriteFaceGroup","spriteHairGroup","spriteUtileGroup","customArmorPreviewIndex","dollSprites","layersDefaultPrefix","frontArmor","sideArmor","rearArmor","underArmor","spriteInv","scripts","armor","damageModifier","stats"].includes(t[6])),r?i?(i.p(t,n),Ze(i,1)):((i=ui(t)).c(),Ze(i,1),i.m(e.parentNode,e)):i&&(He(),Ge(i,1,1,()=>{i=null}),Ue())},i(t){n||(Ze(i),n=!0)},o(t){Ge(i),n=!1},d(t){i&&i.d(t),t&&me(e)}}}function vi(t){let e,n,r,i,o,s,l,a,c,u,f,d,p,h,m,g=Object.keys(t[0].dollSprites).length>1,y=t[2].length>0&&Kr(t),b=g&&Yr(t),v=t[0].dollSprites&&Vr(t),$=["armor","damageModifier","stats","recovery"],w=[];for(let e=0;e<4;e+=1)w[e]=ci(qr(t,$,e));const x=t=>Ge(w[t],1,1,()=>{w[t]=null});let k=Object.entries(t[0]).sort(wi),A=[];for(let e=0;e<k.length;e+=1)A[e]=bi(Ur(t,k,e));const _=t=>Ge(A[t],1,1,()=>{A[t]=null});return{c(){e=ye("table"),n=ye("tr"),r=ye("td"),i=be("Armor\r\n      "),y&&y.c(),o=ve(),s=ye("tr"),l=ye("td"),a=ye("div"),b&&b.c(),c=ve(),v&&v.c(),u=ve(),f=ye("tr"),d=ye("td"),p=ye("div");for(let t=0;t<4;t+=1)w[t].c();h=ve();for(let t=0;t<A.length;t+=1)A[t].c();xe(r,"colspan","2"),xe(r,"class","table-header"),xe(a,"class","armors"),xe(l,"colspan","2"),xe(p,"class","flex-horisontal"),xe(d,"colspan","2"),xe(e,"class","main-table")},m(t,g){he(t,e,g),pe(e,n),pe(n,r),pe(r,i),y&&y.m(r,null),pe(e,o),pe(e,s),pe(s,l),pe(l,a),b&&b.m(a,null),pe(a,c),v&&v.m(a,null),pe(e,u),pe(e,f),pe(f,d),pe(d,p);for(let t=0;t<4;t+=1)w[t].m(p,null);pe(e,h);for(let t=0;t<A.length;t+=1)A[t].m(e,null);m=!0},p(t,[n]){if(t[2].length>0?y?(y.p(t,n),Ze(y,1)):((y=Kr(t)).c(),Ze(y,1),y.m(r,null)):y&&(He(),Ge(y,1,1,()=>{y=null}),Ue()),1&n&&(g=Object.keys(t[0].dollSprites).length>1),g?b?b.p(t,n):((b=Yr(t)).c(),b.m(a,c)):b&&(b.d(1),b=null),t[0].dollSprites?v?v.p(t,n):((v=Vr(t)).c(),v.m(a,null)):v&&(v.d(1),v=null),1&n){let e;for($=["armor","damageModifier","stats","recovery"],e=0;e<4;e+=1){const r=qr(t,$,e);w[e]?(w[e].p(r,n),Ze(w[e],1)):(w[e]=ci(r),w[e].c(),Ze(w[e],1),w[e].m(p,null))}for(He(),e=4;e<4;e+=1)x(e);Ue()}if(1&n){let r;for(k=Object.entries(t[0]).sort(wi),r=0;r<k.length;r+=1){const i=Ur(t,k,r);A[r]?(A[r].p(i,n),Ze(A[r],1)):(A[r]=bi(i),A[r].c(),Ze(A[r],1),A[r].m(e,null))}for(He(),r=k.length;r<A.length;r+=1)_(r);Ue()}},i(t){if(!m){Ze(y);for(let t=0;t<4;t+=1)Ze(w[t]);for(let t=0;t<k.length;t+=1)Ze(A[t]);m=!0}},o(t){Ge(y),w=w.filter(Boolean);for(let t=0;t<4;t+=1)Ge(w[t]);A=A.filter(Boolean);for(let t=0;t<A.length;t+=1)Ge(A[t]);m=!1},d(t){t&&me(e),y&&y.d(),b&&b.d(),v&&v.d(),ge(w,t),ge(A,t)}}}let $i=6;const wi=(t,e)=>t[0]>e[0]?1:-1,xi=t=>"INV_NULL"!=t.substr(0,8);function ki(t,e,n){let{armor:r}=e,i=!1,o=[];return t.$set=(t=>{"armor"in t&&n(0,r=t.armor)}),t.$$.update=(()=>{if(5&t.$$.dirty&&(console.log(r),n(2,o=[]),"storeItem"in r&&"STR_NONE"!=r.storeItem&&o.push(r.storeItem),"users"in r))for(let t of r.users.filter(t=>"INV_NULL"!=t.substr(0,8)&&t!=r.type&&"#"+t!=window.location.hash))o.push(t)}),[r,i,o,t=>n(1,i=!i),(t,e)=>Lt.bodiesCompare([t,e]),(t,e)=>Lt.str(t[0])>Lt.str(e[0])?1:-1]}class Ai extends Je{constructor(t){super(),Ve(this,t,ki,vi,fe,{armor:0})}}function _i(t,e,n){const r=t.slice();return r[2]=e[n][0],r[3]=e[n][1],r}function Si(t){let e,n,r,i,o,s,l,a,c,u;const f=new or({props:{key:t[2]}}),d=[Ei,Ti,Oi,Ci],p=[];function h(t,e){return 1&e&&(i=!!["weaponStrings"].includes(t[2])),i?0:(1&e&&(o=!!["sprite"].includes(t[2])),o?1:(1&e&&(s=!!["requiresBaseFunc"].includes(t[2])),s?2:3))}return l=h(t,-1),a=p[l]=d[l](t),{c(){e=ye("tr"),We(f.$$.fragment),n=ve(),r=ye("td"),a.c(),c=ve()},m(t,i){he(t,e,i),Xe(f,e,null),pe(e,n),pe(e,r),p[l].m(r,null),pe(e,c),u=!0},p(t,e){const n={};1&e&&(n.key=t[2]),f.$set(n);let i=l;(l=h(t,e))===i?p[l].p(t,e):(He(),Ge(p[i],1,1,()=>{p[i]=null}),Ue(),(a=p[l])||(a=p[l]=d[l](t)).c(),Ze(a,1),a.m(r,null))},i(t){u||(Ze(f.$$.fragment,t),Ze(a),u=!0)},o(t){Ge(f.$$.fragment,t),Ge(a),u=!1},d(t){t&&me(e),Ke(f),p[l].d()}}}function Ci(t){let e;const n=new Tn({props:{val:t[3]}});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.val=t[3]),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function Oi(t){let e;const n=new Nn({props:{items:t[3],vertical:!0}});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.items=t[3]),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function Ti(t){let e,n;return{c(){xe(e=ye("img"),"class","craft sprite"),xe(e,"onerror","this.onerror=null; this.src='xpedia/0.png'"),xe(e,"alt","X"),e.src!==(n=Lt.specialSprite("baseSprite",1*t[3]+33))&&xe(e,"src",n)},m(t,n){he(t,e,n)},p(t,r){1&r&&e.src!==(n=Lt.specialSprite("baseSprite",1*t[3]+33))&&xe(e,"src",n)},i:se,o:se,d(t){t&&me(e)}}}function Ei(t){let e;const n=new Tn({props:{val:t[3].map(t[1])}});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.val=t[3].map(t[1])),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function Ii(t){let e,n,r=!["type","battlescapeTerrainData","craftInventoryTile","deployment"].includes(t[2]),i=r&&Si(t);return{c(){i&&i.c(),e=$e()},m(t,r){i&&i.m(t,r),he(t,e,r),n=!0},p(t,n){1&n&&(r=!["type","battlescapeTerrainData","craftInventoryTile","deployment"].includes(t[2])),r?i?(i.p(t,n),Ze(i,1)):((i=Si(t)).c(),Ze(i,1),i.m(e.parentNode,e)):i&&(He(),Ge(i,1,1,()=>{i=null}),Ue())},i(t){n||(Ze(i),n=!0)},o(t){Ge(i),n=!1},d(t){i&&i.d(t),t&&me(e)}}}function ji(t){let e,n,r,i,o,s=Object.entries(t[0]).sort(Mi),l=[];for(let e=0;e<s.length;e+=1)l[e]=Ii(_i(t,s,e));const a=t=>Ge(l[t],1,1,()=>{l[t]=null});return{c(){e=ye("table"),n=ye("tr"),(r=ye("td")).textContent=`${Lt.str("Craft")}`,i=ve();for(let t=0;t<l.length;t+=1)l[t].c();xe(r,"colspan","2"),xe(r,"class","table-header"),xe(e,"class","main-table")},m(t,s){he(t,e,s),pe(e,n),pe(n,r),pe(e,i);for(let t=0;t<l.length;t+=1)l[t].m(e,null);o=!0},p(t,[n]){if(1&n){let r;for(s=Object.entries(t[0]).sort(Mi),r=0;r<s.length;r+=1){const i=_i(t,s,r);l[r]?(l[r].p(i,n),Ze(l[r],1)):(l[r]=Ii(i),l[r].c(),Ze(l[r],1),l[r].m(e,null))}for(He(),r=s.length;r<l.length;r+=1)a(r);Ue()}},i(t){if(!o){for(let t=0;t<s.length;t+=1)Ze(l[t]);o=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)Ge(l[t]);o=!1},d(t){t&&me(e),ge(l,t)}}}const Mi=(t,e)=>t[0]>e[0]?1:-1;function Ni(t,e,n){let{craft:r}=e;return t.$set=(t=>{"craft"in t&&n(0,r=t.craft)}),t.$$.update=(()=>{1&t.$$.dirty&&console.info(r)}),[r,t=>Lt.str(t).replace(">{ALT}{0}","")]}class Bi extends Je{constructor(t){super(),Ve(this,t,Ni,ji,fe,{craft:0})}}function Fi(t,e,n){const r=t.slice();return r[1]=e[n],r}function Li(t){let e,n,r,i,o,s,l=Lt.decamelize(t[1][0])+"";const a=new Tn({props:{val:t[1][1]}});return{c(){e=ye("tr"),n=ye("td"),r=ve(),i=ye("td"),We(a.$$.fragment),o=ve(),xe(n,"class","padding-right svelte-8df2j8"),xe(i,"class","svelte-8df2j8")},m(t,c){he(t,e,c),pe(e,n),n.innerHTML=l,pe(e,r),pe(e,i),Xe(a,i,null),pe(e,o),s=!0},p(t,e){(!s||1&e)&&l!==(l=Lt.decamelize(t[1][0])+"")&&(n.innerHTML=l);const r={};1&e&&(r.val=t[1][1]),a.$set(r)},i(t){s||(Ze(a.$$.fragment,t),s=!0)},o(t){Ge(a.$$.fragment,t),s=!1},d(t){t&&me(e),Ke(a)}}}function Ri(t){let e,n,r=!["type"].includes(t[1][0]),i=r&&Li(t);return{c(){i&&i.c(),e=$e()},m(t,r){i&&i.m(t,r),he(t,e,r),n=!0},p(t,n){1&n&&(r=!["type"].includes(t[1][0])),r?i?(i.p(t,n),Ze(i,1)):((i=Li(t)).c(),Ze(i,1),i.m(e.parentNode,e)):i&&(He(),Ge(i,1,1,()=>{i=null}),Ue())},i(t){n||(Ze(i),n=!0)},o(t){Ge(i),n=!1},d(t){i&&i.d(t),t&&me(e)}}}function Di(t){let e;const n=new Pr({props:{item:Lt.items[t[0].launcher],title:"Launcher: "+Lt.str(t[0].launcher)}});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.item=Lt.items[t[0].launcher]),1&e&&(r.title="Launcher: "+Lt.str(t[0].launcher)),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function Pi(t){let e;const n=new Pr({props:{item:Lt.items[t[0].clip],title:"Clip: "+Lt.str(t[0].clip)}});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.item=Lt.items[t[0].clip]),1&e&&(r.title="Clip: "+Lt.str(t[0].clip)),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function zi(t){let e,n,r,i,o,s,l,a,c,u,f,d=Object.entries(t[0]).sort(Hi),p=[];for(let e=0;e<d.length;e+=1)p[e]=Ri(Fi(t,d,e));const h=t=>Ge(p[t],1,1,()=>{p[t]=null});let m=t[0].launcher&&Di(t),g=t[0].clip&&Pi(t);return{c(){e=ye("table"),n=ye("tr"),r=ye("td"),i=ye("table"),(o=ye("tr")).innerHTML='<td colspan="2" class="table-header svelte-8df2j8">Weapon</td>',s=ve();for(let t=0;t<p.length;t+=1)p[t].c();l=ve(),a=ye("td"),c=ye("table"),m&&m.c(),u=ve(),g&&g.c(),xe(i,"class","main-table"),xe(r,"class","svelte-8df2j8"),xe(c,"class","main-table"),xe(a,"class","svelte-8df2j8"),xe(e,"class","panels3 svelte-8df2j8")},m(t,d){he(t,e,d),pe(e,n),pe(n,r),pe(r,i),pe(i,o),pe(i,s);for(let t=0;t<p.length;t+=1)p[t].m(i,null);pe(n,l),pe(n,a),pe(a,c),m&&m.m(c,null),pe(c,u),g&&g.m(c,null),f=!0},p(t,[e]){if(1&e){let n;for(d=Object.entries(t[0]).sort(Hi),n=0;n<d.length;n+=1){const r=Fi(t,d,n);p[n]?(p[n].p(r,e),Ze(p[n],1)):(p[n]=Ri(r),p[n].c(),Ze(p[n],1),p[n].m(i,null))}for(He(),n=d.length;n<p.length;n+=1)h(n);Ue()}t[0].launcher?m?(m.p(t,e),Ze(m,1)):((m=Di(t)).c(),Ze(m,1),m.m(c,u)):m&&(He(),Ge(m,1,1,()=>{m=null}),Ue()),t[0].clip?g?(g.p(t,e),Ze(g,1)):((g=Pi(t)).c(),Ze(g,1),g.m(c,null)):g&&(He(),Ge(g,1,1,()=>{g=null}),Ue())},i(t){if(!f){for(let t=0;t<d.length;t+=1)Ze(p[t]);Ze(m),Ze(g),f=!0}},o(t){p=p.filter(Boolean);for(let t=0;t<p.length;t+=1)Ge(p[t]);Ge(m),Ge(g),f=!1},d(t){t&&me(e),ge(p,t),m&&m.d(),g&&g.d()}}}const Hi=(t,e)=>t[0]>e[0]?1:-1;function Ui(t,e,n){let{weapon:r}=e;return t.$set=(t=>{"weapon"in t&&n(0,r=t.weapon)}),t.$$.update=(()=>{1&t.$$.dirty&&console.log(r)}),[r]}class Zi extends Je{constructor(t){super(),Ve(this,t,Ui,zi,fe,{weapon:0})}}function Gi(t,e,n){const r=t.slice();return r[8]=e[n],r[10]=n,r}function qi(t,e,n){const r=t.slice();return r[5]=e[n],r[7]=n,r}function Wi(t,e,n){const r=t.slice();return r[1]=e[n][0],r[2]=e[n][1],r}function Xi(t){let e,n,r,i,o,s,l,a,c,u=Lt.decamelize(t[1])+"";const f=[Yi,Ki],d=[];function p(t,e){return 1&e&&(o=!!["builtInWeaponSets"].includes(t[2][0])),o?0:1}return s=p(t,-1),l=d[s]=f[s](t),{c(){e=ye("tr"),n=ye("td"),r=ve(),i=ye("td"),l.c(),a=ve(),xe(n,"class","padding-right")},m(t,o){he(t,e,o),pe(e,n),n.innerHTML=u,pe(e,r),pe(e,i),d[s].m(i,null),pe(e,a),c=!0},p(t,e){(!c||1&e)&&u!==(u=Lt.decamelize(t[1])+"")&&(n.innerHTML=u);let r=s;(s=p(t,e))===r?d[s].p(t,e):(He(),Ge(d[r],1,1,()=>{d[r]=null}),Ue(),(l=d[s])||(l=d[s]=f[s](t)).c(),Ze(l,1),l.m(i,null))},i(t){c||(Ze(l),c=!0)},o(t){Ge(l),c=!1},d(t){t&&me(e),d[s].d()}}}function Ki(t){let e;const n=new Tn({props:{val:t[2]}});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.val=t[2]),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function Yi(t){let e,n,r=Object.values(t[2]),i=[];for(let e=0;e<r.length;e+=1)i[e]=Ji(qi(t,r,e));const o=t=>Ge(i[t],1,1,()=>{i[t]=null});return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=$e()},m(t,r){for(let e=0;e<i.length;e+=1)i[e].m(t,r);he(t,e,r),n=!0},p(t,n){if(1&n){let s;for(r=Object.values(t[2]),s=0;s<r.length;s+=1){const o=qi(t,r,s);i[s]?(i[s].p(o,n),Ze(i[s],1)):(i[s]=Ji(o),i[s].c(),Ze(i[s],1),i[s].m(e.parentNode,e))}for(He(),s=r.length;s<i.length;s+=1)o(s);Ue()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)Ze(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)Ge(i[t]);n=!1},d(t){ge(i,t),t&&me(e)}}}function Vi(t){let e,n,r=0!=t[10]&&function(t){let e;return{c(){e=be(",")},m(t,n){he(t,e,n)},d(t){t&&me(e)}}}();const i=new rn({props:{href:t[8]}});return{c(){r&&r.c(),e=ve(),We(i.$$.fragment)},m(t,o){r&&r.m(t,o),he(t,e,o),Xe(i,t,o),n=!0},p(t,e){const n={};1&e&&(n.href=t[8]),i.$set(n)},i(t){n||(Ze(i.$$.fragment,t),n=!0)},o(t){Ge(i.$$.fragment,t),n=!1},d(t){r&&r.d(t),t&&me(e),Ke(i,t)}}}function Ji(t){let e,n,r,i=0!=t[7]&&function(t){let e;return{c(){e=ye("br")},m(t,n){he(t,e,n)},d(t){t&&me(e)}}}(),o=t[5],s=[];for(let e=0;e<o.length;e+=1)s[e]=Vi(Gi(t,o,e));const l=t=>Ge(s[t],1,1,()=>{s[t]=null});return{c(){i&&i.c(),e=ve();for(let t=0;t<s.length;t+=1)s[t].c();n=$e()},m(t,o){i&&i.m(t,o),he(t,e,o);for(let e=0;e<s.length;e+=1)s[e].m(t,o);he(t,n,o),r=!0},p(t,e){if(1&e){let r;for(o=t[5],r=0;r<o.length;r+=1){const i=Gi(t,o,r);s[r]?(s[r].p(i,e),Ze(s[r],1)):(s[r]=Vi(i),s[r].c(),Ze(s[r],1),s[r].m(n.parentNode,n))}for(He(),r=o.length;r<s.length;r+=1)l(r);Ue()}},i(t){if(!r){for(let t=0;t<o.length;t+=1)Ze(s[t]);r=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)Ge(s[t]);r=!1},d(t){i&&i.d(t),t&&me(e),ge(s,t),t&&me(n)}}}function Qi(t){let e,n,r=!["type","deathSound","scripts"].includes(t[1]),i=r&&Xi(t);return{c(){i&&i.c(),e=$e()},m(t,r){i&&i.m(t,r),he(t,e,r),n=!0},p(t,n){1&n&&(r=!["type","deathSound","scripts"].includes(t[1])),r?i?(i.p(t,n),Ze(i,1)):((i=Xi(t)).c(),Ze(i,1),i.m(e.parentNode,e)):i&&(He(),Ge(i,1,1,()=>{i=null}),Ue())},i(t){n||(Ze(i),n=!0)},o(t){Ge(i),n=!1},d(t){i&&i.d(t),t&&me(e)}}}function to(t){let e,n,r,i,o=Object.entries(t[0]).sort(eo),s=[];for(let e=0;e<o.length;e+=1)s[e]=Qi(Wi(t,o,e));const l=t=>Ge(s[t],1,1,()=>{s[t]=null});return{c(){(e=ye("tr")).innerHTML='<td colspan="2" class="table-header">Unit</td>',n=ve();for(let t=0;t<s.length;t+=1)s[t].c();r=$e()},m(t,o){he(t,e,o),he(t,n,o);for(let e=0;e<s.length;e+=1)s[e].m(t,o);he(t,r,o),i=!0},p(t,[e]){if(1&e){let n;for(o=Object.entries(t[0]).sort(eo),n=0;n<o.length;n+=1){const i=Wi(t,o,n);s[n]?(s[n].p(i,e),Ze(s[n],1)):(s[n]=Qi(i),s[n].c(),Ze(s[n],1),s[n].m(r.parentNode,r))}for(He(),n=o.length;n<s.length;n+=1)l(n);Ue()}},i(t){if(!i){for(let t=0;t<o.length;t+=1)Ze(s[t]);i=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)Ge(s[t]);i=!1},d(t){t&&me(e),t&&me(n),ge(s,t),t&&me(r)}}}const eo=(t,e)=>t[0]>e[0]?1:-1;function no(t,e,n){let{unit:r}=e;return t.$set=(t=>{"unit"in t&&n(0,r=t.unit)}),t.$$.update=(()=>{1&t.$$.dirty&&console.log(r)}),[r]}class ro extends Je{constructor(t){super(),Ve(this,t,no,to,fe,{unit:0})}}function io(t,e,n){const r=t.slice();return r[4]=e[n],r}function oo(t,e,n){const r=t.slice();return r[8]=e[n],r[10]=n,r}function so(t,e,n){const r=t.slice();return r[4]=e[n][0],r[5]=e[n][1],r}function lo(t){let e,n,r,i,o,s,l=Lt.decamelize(t[4])+"";const a=new Tn({props:{val:t[5]}});return{c(){e=ye("tr"),n=ye("td"),r=ve(),i=ye("td"),We(a.$$.fragment),o=ve()},m(t,c){he(t,e,c),pe(e,n),n.innerHTML=l,pe(e,r),pe(e,i),Xe(a,i,null),pe(e,o),s=!0},p(t,e){(!s||1&e)&&l!==(l=Lt.decamelize(t[4])+"")&&(n.innerHTML=l);const r={};1&e&&(r.val=t[5]),a.$set(r)},i(t){s||(Ze(a.$$.fragment,t),s=!0)},o(t){Ge(a.$$.fragment,t),s=!1},d(t){t&&me(e),Ke(a)}}}function ao(t){let e,n,r,i,o,s,l=Lt.decamelize(t[4])+"",a=Object.keys(t[5]),c=[];for(let e=0;e<a.length;e+=1)c[e]=fo(io(t,a,e));const u=t=>Ge(c[t],1,1,()=>{c[t]=null});return{c(){e=ye("tr"),n=ye("td"),r=be(l),i=ve();for(let t=0;t<c.length;t+=1)c[t].c();o=$e(),xe(n,"colspan","2"),xe(n,"class","table-subheader")},m(t,l){he(t,e,l),pe(e,n),pe(n,r),he(t,i,l);for(let e=0;e<c.length;e+=1)c[e].m(t,l);he(t,o,l),s=!0},p(t,e){if((!s||1&e)&&l!==(l=Lt.decamelize(t[4])+"")&&ke(r,l),5&e){let n;for(a=Object.keys(t[5]),n=0;n<a.length;n+=1){const r=io(t,a,n);c[n]?(c[n].p(r,e),Ze(c[n],1)):(c[n]=fo(r),c[n].c(),Ze(c[n],1),c[n].m(o.parentNode,o))}for(He(),n=a.length;n<c.length;n+=1)u(n);Ue()}},i(t){if(!s){for(let t=0;t<a.length;t+=1)Ze(c[t]);s=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)Ge(c[t]);s=!1},d(t){t&&me(e),t&&me(i),ge(c,t),t&&me(o)}}}function co(t){let e;const n=new Nn({props:{items:t[5],vertical:!0}});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.items=t[5]),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function uo(t){let e,n,r,i,o,s,l,a,c=Lt.decamelize(t[4])+"",u=t[5],f=[];for(let e=0;e<u.length;e+=1)f[e]=po(oo(t,u,e));const d=t=>Ge(f[t],1,1,()=>{f[t]=null});return{c(){e=ye("tr"),n=ye("td"),r=ye("div"),i=be(c),o=ve(),s=ye("div");for(let t=0;t<f.length;t+=1)f[t].c();l=ve(),xe(r,"class","table-subheader"),xe(s,"class","cols"),_e(s,"columns","2"),xe(n,"colspan","2"),xe(e,"class","subtable")},m(t,c){he(t,e,c),pe(e,n),pe(n,r),pe(r,i),pe(n,o),pe(n,s);for(let t=0;t<f.length;t+=1)f[t].m(s,null);pe(n,l),a=!0},p(t,e){if((!a||1&e)&&c!==(c=Lt.decamelize(t[4])+"")&&ke(i,c),5&e){let n;for(u=t[5],n=0;n<u.length;n+=1){const r=oo(t,u,n);f[n]?(f[n].p(r,e),Ze(f[n],1)):(f[n]=po(r),f[n].c(),Ze(f[n],1),f[n].m(s,null))}for(He(),n=u.length;n<f.length;n+=1)d(n);Ue()}},i(t){if(!a){for(let t=0;t<u.length;t+=1)Ze(f[t]);a=!0}},o(t){f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)Ge(f[t]);a=!1},d(t){t&&me(e),ge(f,t)}}}function fo(t){let e,n,r,i;const o=new rn({props:{href:t[4]}}),s=new vn({props:{items:t[5][t[4]]}});return{c(){e=ye("tr"),n=ye("td"),We(o.$$.fragment),r=ye("td"),We(s.$$.fragment)},m(t,l){he(t,e,l),pe(e,n),Xe(o,n,null),pe(e,r),Xe(s,r,null),i=!0},p(t,e){const n={};1&e&&(n.href=t[4]),o.$set(n);const r={};1&e&&(r.items=t[5][t[4]]),s.$set(r)},i(t){i||(Ze(o.$$.fragment,t),Ze(s.$$.fragment,t),i=!0)},o(t){Ge(o.$$.fragment,t),Ge(s.$$.fragment,t),i=!1},d(t){t&&me(e),Ke(o),Ke(s)}}}function po(t){let e,n;const r=new rn({props:{href:t[8]}});return{c(){e=ye("div"),We(r.$$.fragment)},m(t,i){he(t,e,i),Xe(r,e,null),n=!0},p(t,e){const n={};1&e&&(n.href=t[8]),r.$set(n)},i(t){n||(Ze(r.$$.fragment,t),n=!0)},o(t){Ge(r.$$.fragment,t),n=!1},d(t){t&&me(e),Ke(r)}}}function ho(t){let e,n,r,i,o,s,l;const a=[uo,co,ao,lo],c=[];function u(t,i){return 1&i&&(e=!!(t[2].includes(t[4])&&t[5]&&t[5].length>0)),e?0:(1&i&&(n=!!["requiresBaseFunc"].includes(t[4])),n?1:"getOneFreeProtected"==t[4]?2:(1&i&&(r=!["name"].includes(t[4])),r?3:-1))}return~(i=u(t,-1))&&(o=c[i]=a[i](t)),{c(){o&&o.c(),s=$e()},m(t,e){~i&&c[i].m(t,e),he(t,s,e),l=!0},p(t,e){let n=i;(i=u(t,e))===n?~i&&c[i].p(t,e):(o&&(He(),Ge(c[n],1,1,()=>{c[n]=null}),Ue()),~i?((o=c[i])||(o=c[i]=a[i](t)).c(),Ze(o,1),o.m(s.parentNode,s)):o=null)},i(t){l||(Ze(o),l=!0)},o(t){Ge(o),l=!1},d(t){~i&&c[i].d(t),t&&me(s)}}}function mo(t){let e,n,r,i,o,s,l=Object.entries(t[0]).sort(t[3]),a=[];for(let e=0;e<l.length;e+=1)a[e]=ho(so(t,l,e));const c=t=>Ge(a[t],1,1,()=>{a[t]=null});return{c(){e=ye("tr"),n=ye("td"),r=be(t[1]),i=ve();for(let t=0;t<a.length;t+=1)a[t].c();o=$e(),xe(n,"colspan","2"),xe(n,"class","table-header")},m(t,l){he(t,e,l),pe(e,n),pe(n,r),he(t,i,l);for(let e=0;e<a.length;e+=1)a[e].m(t,l);he(t,o,l),s=!0},p(t,[e]){if((!s||2&e)&&ke(r,t[1]),5&e){let n;for(l=Object.entries(t[0]).sort(t[3]),n=0;n<l.length;n+=1){const r=so(t,l,n);a[n]?(a[n].p(r,e),Ze(a[n],1)):(a[n]=ho(r),a[n].c(),Ze(a[n],1),a[n].m(o.parentNode,o))}for(He(),n=l.length;n<a.length;n+=1)c(n);Ue()}},i(t){if(!s){for(let t=0;t<l.length;t+=1)Ze(a[t]);s=!0}},o(t){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)Ge(a[t]);s=!1},d(t){t&&me(e),t&&me(i),ge(a,t),t&&me(o)}}}function go(t,e,n){let{research:r}=e,{title:i=Lt.str("Research")}=e,o=["seeAlso","requiresBaseFunc","manufacture","getOneFree","freeFrom","unlocks","dependencies","leadsTo","disables"];return t.$set=(t=>{"research"in t&&n(0,r=t.research),"title"in t&&n(1,i=t.title)}),t.$$.update=(()=>{1&t.$$.dirty&&console.log(r)}),[r,i,o,(t,e)=>(o.includes(e[0])?-10:10)+(t[0]>e[0]?1:-1)]}class yo extends Je{constructor(t){super(),Ve(this,t,go,mo,fe,{research:0,title:1})}}function bo(t,e,n){const r=t.slice();return r[4]=e[n],r[6]=n,r}function vo(t,e,n){const r=t.slice();return r[1]=e[n],r}function $o(t,e,n){const r=t.slice();return r[4]=e[n],r[6]=n,r}function wo(t,e,n){const r=t.slice();return r[7]=e[n],r}function xo(t){let e,n,r,i,o,s,l,a=t[0].randomProducedItems,c=[];for(let e=0;e<a.length;e+=1)c[e]=_o(wo(t,a,e));const u=t=>Ge(c[t],1,1,()=>{c[t]=null});return{c(){e=ye("tr"),(n=ye("td")).textContent=`${Lt.decamelize("randomProducedItems")}`,r=ve(),i=ye("tr"),o=ye("td"),s=ye("table");for(let t=0;t<c.length;t+=1)c[t].c();xe(n,"colspan","2"),xe(n,"class","table-subheader"),xe(s,"class","number-table"),xe(s,"width","100%"),_e(s,"margin","0px"),xe(o,"colspan","2")},m(t,a){he(t,e,a),pe(e,n),he(t,r,a),he(t,i,a),pe(i,o),pe(o,s);for(let t=0;t<c.length;t+=1)c[t].m(s,null);l=!0},p(t,e){if(1&e){let n;for(a=t[0].randomProducedItems,n=0;n<a.length;n+=1){const r=wo(t,a,n);c[n]?(c[n].p(r,e),Ze(c[n],1)):(c[n]=_o(r),c[n].c(),Ze(c[n],1),c[n].m(s,null))}for(He(),n=a.length;n<c.length;n+=1)u(n);Ue()}},i(t){if(!l){for(let t=0;t<a.length;t+=1)Ze(c[t]);l=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)Ge(c[t]);l=!1},d(t){t&&me(e),t&&me(r),t&&me(i),ge(c,t)}}}function ko(t){let e;return{c(){(e=ye("tr")).innerHTML='<td colspan="2" style="text-align:center;">NOTHING</td>'},m(t,n){he(t,e,n)},d(t){t&&me(e)}}}function Ao(t){let e,n,r,i,o,s=t[7][1][t[4]]+"";const l=new rn({props:{href:t[4]}});return{c(){e=ye("tr"),n=ye("td"),r=be(s),i=ye("td"),We(l.$$.fragment)},m(t,s){he(t,e,s),pe(e,n),pe(n,r),pe(e,i),Xe(l,i,null),o=!0},p(t,e){(!o||1&e)&&s!==(s=t[7][1][t[4]]+"")&&ke(r,s);const n={};1&e&&(n.href=t[4]),l.$set(n)},i(t){o||(Ze(l.$$.fragment,t),o=!0)},o(t){Ge(l.$$.fragment,t),o=!1},d(t){t&&me(e),Ke(l)}}}function _o(t){let e,n,r,i,o,s,l,a,c,u,f=0==Object.keys(t[7][1]).length,d=t[7][0]+"",p=(t[7][0]/t[0].chanceSum*100).toFixed(3)+"",h=f&&ko(),m=Object.keys(t[7][1]).sort(),g=[];for(let e=0;e<m.length;e+=1)g[e]=Ao($o(t,m,e));const y=t=>Ge(g[t],1,1,()=>{g[t]=null});return{c(){h&&h.c(),e=ve();for(let t=0;t<g.length;t+=1)g[t].c();n=ve(),r=ye("tr"),i=ye("td"),o=be("×"),s=be(d),l=be(" / "),a=be(p),c=be("%"),xe(i,"colspan","2"),_e(i,"text-align","center"),_e(i,"border-bottom","solid 0.3px #382C44")},m(t,f){h&&h.m(t,f),he(t,e,f);for(let e=0;e<g.length;e+=1)g[e].m(t,f);he(t,n,f),he(t,r,f),pe(r,i),pe(i,o),pe(i,s),pe(i,l),pe(i,a),pe(i,c),u=!0},p(t,r){if(1&r&&(f=0==Object.keys(t[7][1]).length),f?h||((h=ko()).c(),h.m(e.parentNode,e)):h&&(h.d(1),h=null),1&r){let e;for(m=Object.keys(t[7][1]).sort(),e=0;e<m.length;e+=1){const i=$o(t,m,e);g[e]?(g[e].p(i,r),Ze(g[e],1)):(g[e]=Ao(i),g[e].c(),Ze(g[e],1),g[e].m(n.parentNode,n))}for(He(),e=m.length;e<g.length;e+=1)y(e);Ue()}(!u||1&r)&&d!==(d=t[7][0]+"")&&ke(s,d),(!u||1&r)&&p!==(p=(t[7][0]/t[0].chanceSum*100).toFixed(3)+"")&&ke(a,p)},i(t){if(!u){for(let t=0;t<m.length;t+=1)Ze(g[t]);u=!0}},o(t){g=g.filter(Boolean);for(let t=0;t<g.length;t+=1)Ge(g[t]);u=!1},d(t){h&&h.d(t),t&&me(e),ge(g,t),t&&me(n),t&&me(r)}}}function So(t){let e,n,r,i,o,s,l,a,c,u,f=Lt.decamelize(t[1][0])+"";const d=[To,Oo,Co],p=[];function h(t,e){return 1&e&&(o=!!["requiresBaseFunc"].includes(t[1][0])),o?0:(1&e&&(s=!!["producedItems","requiredItems"].includes(t[1][0])),s?1:2)}return l=h(t,-1),a=p[l]=d[l](t),{c(){e=ye("tr"),n=ye("td"),r=ve(),i=ye("td"),a.c(),c=ve(),xe(n,"class","padding-right")},m(t,o){he(t,e,o),pe(e,n),n.innerHTML=f,pe(e,r),pe(e,i),p[l].m(i,null),pe(e,c),u=!0},p(t,e){(!u||1&e)&&f!==(f=Lt.decamelize(t[1][0])+"")&&(n.innerHTML=f);let r=l;(l=h(t,e))===r?p[l].p(t,e):(He(),Ge(p[r],1,1,()=>{p[r]=null}),Ue(),(a=p[l])||(a=p[l]=d[l](t)).c(),Ze(a,1),a.m(i,null))},i(t){u||(Ze(a),u=!0)},o(t){Ge(a),u=!1},d(t){t&&me(e),p[l].d()}}}function Co(t){let e;const n=new Tn({props:{val:t[1][1]}});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.val=t[1][1]),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function Oo(t){let e,n,r=Object.keys(t[1][1]).sort(),i=[];for(let e=0;e<r.length;e+=1)i[e]=Eo(bo(t,r,e));const o=t=>Ge(i[t],1,1,()=>{i[t]=null});return{c(){e=ye("table");for(let t=0;t<i.length;t+=1)i[t].c();xe(e,"class","number-table")},m(t,r){he(t,e,r);for(let t=0;t<i.length;t+=1)i[t].m(e,null);n=!0},p(t,n){if(1&n){let s;for(r=Object.keys(t[1][1]).sort(),s=0;s<r.length;s+=1){const o=bo(t,r,s);i[s]?(i[s].p(o,n),Ze(i[s],1)):(i[s]=Eo(o),i[s].c(),Ze(i[s],1),i[s].m(e,null))}for(He(),s=r.length;s<i.length;s+=1)o(s);Ue()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)Ze(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)Ge(i[t]);n=!1},d(t){t&&me(e),ge(i,t)}}}function To(t){let e;const n=new Nn({props:{items:t[1][1],vertical:!0}});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.items=t[1][1]),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function Eo(t){let e,n,r,i,o,s=t[1][1][t[4]]+"";const l=new rn({props:{href:t[4]}});return{c(){e=ye("tr"),n=ye("td"),r=be(s),i=ye("td"),We(l.$$.fragment)},m(t,s){he(t,e,s),pe(e,n),pe(n,r),pe(e,i),Xe(l,i,null),o=!0},p(t,e){(!o||1&e)&&s!==(s=t[1][1][t[4]]+"")&&ke(r,s);const n={};1&e&&(n.href=t[4]),l.$set(n)},i(t){o||(Ze(l.$$.fragment,t),o=!0)},o(t){Ge(l.$$.fragment,t),o=!1},d(t){t&&me(e),Ke(l)}}}function Io(t){let e,n,r=!["name","randomProducedItems"].includes(t[1][0]),i=r&&So(t);return{c(){i&&i.c(),e=$e()},m(t,r){i&&i.m(t,r),he(t,e,r),n=!0},p(t,n){1&n&&(r=!["name","randomProducedItems"].includes(t[1][0])),r?i?(i.p(t,n),Ze(i,1)):((i=So(t)).c(),Ze(i,1),i.m(e.parentNode,e)):i&&(He(),Ge(i,1,1,()=>{i=null}),Ue())},i(t){n||(Ze(i),n=!0)},o(t){Ge(i),n=!1},d(t){i&&i.d(t),t&&me(e)}}}function jo(t){let e,n,r,i,o,s,l="randomProducedItems"in t[0]&&xo(t),a=Object.entries(t[0]).sort(Mo),c=[];for(let e=0;e<a.length;e+=1)c[e]=Io(vo(t,a,e));const u=t=>Ge(c[t],1,1,()=>{c[t]=null});return{c(){e=ye("tr"),(n=ye("td")).textContent=`${Lt.str("Manufacture")}`,r=ve(),l&&l.c(),i=ve();for(let t=0;t<c.length;t+=1)c[t].c();o=$e(),xe(n,"colspan","2"),xe(n,"class","table-header")},m(t,a){he(t,e,a),pe(e,n),he(t,r,a),l&&l.m(t,a),he(t,i,a);for(let e=0;e<c.length;e+=1)c[e].m(t,a);he(t,o,a),s=!0},p(t,[e]){if("randomProducedItems"in t[0]?l?(l.p(t,e),Ze(l,1)):((l=xo(t)).c(),Ze(l,1),l.m(i.parentNode,i)):l&&(He(),Ge(l,1,1,()=>{l=null}),Ue()),1&e){let n;for(a=Object.entries(t[0]).sort(Mo),n=0;n<a.length;n+=1){const r=vo(t,a,n);c[n]?(c[n].p(r,e),Ze(c[n],1)):(c[n]=Io(r),c[n].c(),Ze(c[n],1),c[n].m(o.parentNode,o))}for(He(),n=a.length;n<c.length;n+=1)u(n);Ue()}},i(t){if(!s){Ze(l);for(let t=0;t<a.length;t+=1)Ze(c[t]);s=!0}},o(t){Ge(l),c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)Ge(c[t]);s=!1},d(t){t&&me(e),t&&me(r),l&&l.d(t),t&&me(i),ge(c,t),t&&me(o)}}}const Mo=(t,e)=>t[0]>e[0]?1:-1;function No(t,e,n){let{manufacture:r}=e;return t.$set=(t=>{"manufacture"in t&&n(0,r=t.manufacture)}),t.$$.update=(()=>{1&t.$$.dirty&&console.log(r)}),[r]}class Bo extends Je{constructor(t){super(),Ve(this,t,No,jo,fe,{manufacture:0})}}function Fo(t){let e,n,r,i,o;const s=new dn({props:{links:t[0].allowedCraft,title:Lt.str("Allowed Craft")}}),l=new dn({props:{links:t[0].allowedItemCategories,title:Lt.str("Allowed Item Categories")}}),a=new dn({props:{links:t[0].allowedArmors,title:Lt.str("Allowed Armors")}}),c=new dn({props:{links:t[0].allowedVehicles,title:Lt.str("Allowed Vehicles")}}),u=new dn({props:{links:t[0].deployments,title:Lt.str("Deployments")}});return{c(){We(s.$$.fragment),e=ve(),We(l.$$.fragment),n=ve(),We(a.$$.fragment),r=ve(),We(c.$$.fragment),i=ve(),We(u.$$.fragment)},m(t,f){Xe(s,t,f),he(t,e,f),Xe(l,t,f),he(t,n,f),Xe(a,t,f),he(t,r,f),Xe(c,t,f),he(t,i,f),Xe(u,t,f),o=!0},p(t,[e]){const n={};1&e&&(n.links=t[0].allowedCraft),s.$set(n);const r={};1&e&&(r.links=t[0].allowedItemCategories),l.$set(r);const i={};1&e&&(i.links=t[0].allowedArmors),a.$set(i);const o={};1&e&&(o.links=t[0].allowedVehicles),c.$set(o);const f={};1&e&&(f.links=t[0].deployments),u.$set(f)},i(t){o||(Ze(s.$$.fragment,t),Ze(l.$$.fragment,t),Ze(a.$$.fragment,t),Ze(c.$$.fragment,t),Ze(u.$$.fragment,t),o=!0)},o(t){Ge(s.$$.fragment,t),Ge(l.$$.fragment,t),Ge(a.$$.fragment,t),Ge(c.$$.fragment,t),Ge(u.$$.fragment,t),o=!1},d(t){Ke(s,t),t&&me(e),Ke(l,t),t&&me(n),Ke(a,t),t&&me(r),Ke(c,t),t&&me(i),Ke(u,t)}}}function Lo(t,e,n){let{conditions:r}=e;return t.$set=(t=>{"conditions"in t&&n(0,r=t.conditions)}),[r]}class Ro extends Je{constructor(t){super(),Ve(this,t,Lo,Fo,fe,{conditions:0})}}function Do(t,e,n){const r=t.slice();return r[8]=e[n],r[10]=n,r}function Po(t,e,n){const r=t.slice();return r[5]=e[n],r[7]=n,r}function zo(t,e,n){const r=t.slice();return r[1]=e[n][0],r[2]=e[n][1],r}function Ho(t){let e,n,r,i,o,s,l,a,c,u=Lt.decamelize(t[1])+"";const f=[Go,Zo,Uo],d=[];function p(t,e){return 1&e&&(o=!!["modSprite"].includes(t[1])),o?0:"raceBonus"==t[1]?1:2}return s=p(t,-1),l=d[s]=f[s](t),{c(){e=ye("tr"),n=ye("td"),r=ve(),i=ye("td"),l.c(),a=ve(),xe(n,"class","padding-right")},m(t,o){he(t,e,o),pe(e,n),n.innerHTML=u,pe(e,r),pe(e,i),d[s].m(i,null),pe(e,a),c=!0},p(t,e){(!c||1&e)&&u!==(u=Lt.decamelize(t[1])+"")&&(n.innerHTML=u);let r=s;(s=p(t,e))===r?d[s].p(t,e):(He(),Ge(d[r],1,1,()=>{d[r]=null}),Ue(),(l=d[s])||(l=d[s]=f[s](t)).c(),Ze(l,1),l.m(i,null))},i(t){c||(Ze(l),c=!0)},o(t){Ge(l),c=!1},d(t){t&&me(e),d[s].d()}}}function Uo(t){let e;const n=new Tn({props:{val:t[2]}});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.val=t[2]),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function Zo(t){let e,n,r=Object.keys(t[2]).sort(),i=[];for(let e=0;e<r.length;e+=1)i[e]=Wo(Po(t,r,e));const o=t=>Ge(i[t],1,1,()=>{i[t]=null});return{c(){e=ye("table");for(let t=0;t<i.length;t+=1)i[t].c();xe(e,"class","number-table")},m(t,r){he(t,e,r);for(let t=0;t<i.length;t+=1)i[t].m(e,null);n=!0},p(t,n){if(1&n){let s;for(r=Object.keys(t[2]).sort(),s=0;s<r.length;s+=1){const o=Po(t,r,s);i[s]?(i[s].p(o,n),Ze(i[s],1)):(i[s]=Wo(o),i[s].c(),Ze(i[s],1),i[s].m(e,null))}for(He(),s=r.length;s<i.length;s+=1)o(s);Ue()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)Ze(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)Ge(i[t]);n=!1},d(t){t&&me(e),ge(i,t)}}}function Go(t){let e,n;return{c(){xe(e=ye("img"),"class","sprite"),xe(e,"alt","X"),e.src!==(n=Lt.sprite(t[2]))&&xe(e,"src",n),xe(e,"onerror","this.onerror=null; this.src='xpedia/0.jpg'")},m(t,n){he(t,e,n)},p(t,r){1&r&&e.src!==(n=Lt.sprite(t[2]))&&xe(e,"src",n)},i:se,o:se,d(t){t&&me(e)}}}function qo(t){let e,n,r,i,o,s=Lt.decamelize(t[8])+"";const l=new rn({props:{href:t[2][t[5]][t[8]]}});return{c(){e=be(s),n=be(": "),r=ye("em"),We(l.$$.fragment),i=ye("br")},m(t,s){he(t,e,s),he(t,n,s),he(t,r,s),Xe(l,r,null),he(t,i,s),o=!0},p(t,n){(!o||1&n)&&s!==(s=Lt.decamelize(t[8])+"")&&ke(e,s);const r={};1&n&&(r.href=t[2][t[5]][t[8]]),l.$set(r)},i(t){o||(Ze(l.$$.fragment,t),o=!0)},o(t){Ge(l.$$.fragment,t),o=!1},d(t){t&&me(e),t&&me(n),t&&me(r),Ke(l),t&&me(i)}}}function Wo(t){let e,n,r,i,o,s,l=Lt.str(t[5])+"",a=Object.keys(t[2][t[5]]).sort(),c=[];for(let e=0;e<a.length;e+=1)c[e]=qo(Do(t,a,e));const u=t=>Ge(c[t],1,1,()=>{c[t]=null});return{c(){e=ye("tr"),n=ye("td"),r=be(l),i=ye("td");for(let t=0;t<c.length;t+=1)c[t].c();o=ve()},m(t,l){he(t,e,l),pe(e,n),pe(n,r),pe(e,i);for(let t=0;t<c.length;t+=1)c[t].m(i,null);pe(i,o),s=!0},p(t,e){if((!s||1&e)&&l!==(l=Lt.str(t[5])+"")&&ke(r,l),1&e){let n;for(a=Object.keys(t[2][t[5]]).sort(),n=0;n<a.length;n+=1){const r=Do(t,a,n);c[n]?(c[n].p(r,e),Ze(c[n],1)):(c[n]=qo(r),c[n].c(),Ze(c[n],1),c[n].m(i,o))}for(He(),n=a.length;n<c.length;n+=1)u(n);Ue()}},i(t){if(!s){for(let t=0;t<a.length;t+=1)Ze(c[t]);s=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)Ge(c[t]);s=!1},d(t){t&&me(e),ge(c,t)}}}function Xo(t){let e,n,r=!["type","battlescapeTerrainData","craftInventoryTile","deployment"].includes(t[1]),i=r&&Ho(t);return{c(){i&&i.c(),e=$e()},m(t,r){i&&i.m(t,r),he(t,e,r),n=!0},p(t,n){1&n&&(r=!["type","battlescapeTerrainData","craftInventoryTile","deployment"].includes(t[1])),r?i?(i.p(t,n),Ze(i,1)):((i=Ho(t)).c(),Ze(i,1),i.m(e.parentNode,e)):i&&(He(),Ge(i,1,1,()=>{i=null}),Ue())},i(t){n||(Ze(i),n=!0)},o(t){Ge(i),n=!1},d(t){i&&i.d(t),t&&me(e)}}}function Ko(t){let e,n,r,i,o=Object.entries(t[0]).sort(Yo),s=[];for(let e=0;e<o.length;e+=1)s[e]=Xo(zo(t,o,e));const l=t=>Ge(s[t],1,1,()=>{s[t]=null});return{c(){e=ye("table"),(n=ye("tr")).innerHTML='<td colspan="2" class="table-header">Craft</td>',r=ve();for(let t=0;t<s.length;t+=1)s[t].c();xe(e,"class","main-table")},m(t,o){he(t,e,o),pe(e,n),pe(e,r);for(let t=0;t<s.length;t+=1)s[t].m(e,null);i=!0},p(t,[n]){if(1&n){let r;for(o=Object.entries(t[0]).sort(Yo),r=0;r<o.length;r+=1){const i=zo(t,o,r);s[r]?(s[r].p(i,n),Ze(s[r],1)):(s[r]=Xo(i),s[r].c(),Ze(s[r],1),s[r].m(e,null))}for(He(),r=o.length;r<s.length;r+=1)l(r);Ue()}},i(t){if(!i){for(let t=0;t<o.length;t+=1)Ze(s[t]);i=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)Ge(s[t]);i=!1},d(t){t&&me(e),ge(s,t)}}}const Yo=(t,e)=>t[0]>e[0]?1:-1;function Vo(t,e,n){let{ufo:r}=e;return t.$set=(t=>{"ufo"in t&&n(0,r=t.ufo)}),t.$$.update=(()=>{1&t.$$.dirty&&console.info(r)}),[r]}class Jo extends Je{constructor(t){super(),Ve(this,t,Vo,Ko,fe,{ufo:0})}}function Qo(t,e,n){const r=t.slice();return r[11]=e[n],r[15]=n,r}function ts(t,e,n){const r=t.slice();return r[11]=e[n],r[13]=n,r}function es(t,e,n){const r=t.slice();return r[8]=e[n],r[10]=n,r}function ns(t,e,n){const r=t.slice();return r[4]=e[n][0],r[5]=e[n][1],r}function rs(t){let e,n,r,i,o,s,l,a,c,u,f,d,p=Lt.decamelize(t[4])+"";const h=[as,ls,ss,os,is],m=[];function g(t,e){return 1&e&&(o=!!["buildCostItems"].includes(t[4])),o?0:(1&e&&(s=!!["storageTiles"].includes(t[4])),s?1:(1&e&&(l=!!["provideBaseFunc","requiresBaseFunc","forbiddenBaseFunc"].includes(t[4])),l?2:(1&e&&(a=!!["spriteFacility","spriteShape"].includes(t[4])),a?3:4)))}return c=g(t,-1),u=m[c]=h[c](t),{c(){e=ye("tr"),n=ye("td"),r=ve(),i=ye("td"),u.c(),f=ve(),xe(n,"class","padding-right")},m(t,o){he(t,e,o),pe(e,n),n.innerHTML=p,pe(e,r),pe(e,i),m[c].m(i,null),pe(e,f),d=!0},p(t,e){(!d||1&e)&&p!==(p=Lt.decamelize(t[4])+"")&&(n.innerHTML=p);let r=c;(c=g(t,e))===r?m[c].p(t,e):(He(),Ge(m[r],1,1,()=>{m[r]=null}),Ue(),(u=m[c])||(u=m[c]=h[c](t)).c(),Ze(u,1),u.m(i,null))},i(t){d||(Ze(u),d=!0)},o(t){Ge(u),d=!1},d(t){t&&me(e),m[c].d()}}}function is(t){let e;const n=new Tn({props:{val:t[5]}});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.val=t[5]),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function os(t){let e,n={length:t[2]},r=[];for(let e=0;e<n.length;e+=1)r[e]=us(ts(t,n,e));return{c(){e=ye("div");for(let t=0;t<r.length;t+=1)r[t].c();xe(e,"class","tight"),_e(e,"columns",t[2]),_e(e,"width",64*t[2]+"px")},m(t,n){he(t,e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null)},p(t,i){if(5&i){let o;for(n={length:t[2]},o=0;o<n.length;o+=1){const s=ts(t,n,o);r[o]?r[o].p(s,i):(r[o]=us(s),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}4&i&&_e(e,"columns",t[2]),4&i&&_e(e,"width",64*t[2]+"px")},i:se,o:se,d(t){t&&me(e),ge(r,t)}}}function ss(t){let e;const n=new Nn({props:{items:t[5],vertical:!0}});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.items=t[5]),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function ls(t){let e,n,r,i,o,s,l,a=t[1]&&fs(t);return{c(){e=ye("div"),n=ye("div"),(r=ye("button")).textContent="Expand",i=ve(),o=ye("div"),a&&a.c(),xe(r,"class","button"),l=we(r,"click",t[3])},m(t,l){he(t,e,l),pe(e,n),pe(n,r),pe(e,i),pe(e,o),a&&a.m(o,null),s=!0},p(t,e){t[1]?a?(a.p(t,e),Ze(a,1)):((a=fs(t)).c(),Ze(a,1),a.m(o,null)):a&&(He(),Ge(a,1,1,()=>{a=null}),Ue())},i(t){s||(Ze(a),s=!0)},o(t){Ge(a),s=!1},d(t){t&&me(e),a&&a.d(),l()}}}function as(t){let e,n,r=Object.keys(t[5]).sort(),i=[];for(let e=0;e<r.length;e+=1)i[e]=ds(es(t,r,e));const o=t=>Ge(i[t],1,1,()=>{i[t]=null});return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=$e()},m(t,r){for(let e=0;e<i.length;e+=1)i[e].m(t,r);he(t,e,r),n=!0},p(t,n){if(1&n){let s;for(r=Object.keys(t[5]).sort(),s=0;s<r.length;s+=1){const o=es(t,r,s);i[s]?(i[s].p(o,n),Ze(i[s],1)):(i[s]=ds(o),i[s].c(),Ze(i[s],1),i[s].m(e.parentNode,e))}for(He(),s=r.length;s<i.length;s+=1)o(s);Ue()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)Ze(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)Ge(i[t]);n=!1},d(t){ge(i,t),t&&me(e)}}}function cs(t){let e,n;return{c(){xe(e=ye("img"),"class","facility sprite"),xe(e,"onerror","this.onerror=null; this.src='xpedia/0.jpg'"),xe(e,"alt","X"),e.src!==(n=Lt.specialSprite("baseSprite",1*t[5]+t[15]*t[2]+t[13]))&&xe(e,"src",n)},m(t,n){he(t,e,n)},p(t,r){5&r&&e.src!==(n=Lt.specialSprite("baseSprite",1*t[5]+t[15]*t[2]+t[13]))&&xe(e,"src",n)},d(t){t&&me(e)}}}function us(t){let e,n={length:t[2]},r=[];for(let e=0;e<n.length;e+=1)r[e]=cs(Qo(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=$e()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);he(t,e,n)},p(t,i){if(5&i){let o;for(n={length:t[2]},o=0;o<n.length;o+=1){const s=Qo(t,n,o);r[o]?r[o].p(s,i):(r[o]=cs(s),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){ge(r,t),t&&me(e)}}}function fs(t){let e,n;const r=new vn({props:{items:t[5],vertical:!0}});return{c(){e=ye("div"),We(r.$$.fragment),_e(e,"columns","6")},m(t,i){he(t,e,i),Xe(r,e,null),n=!0},p(t,e){const n={};1&e&&(n.items=t[5]),r.$set(n)},i(t){n||(Ze(r.$$.fragment,t),n=!0)},o(t){Ge(r.$$.fragment,t),n=!1},d(t){t&&me(e),Ke(r)}}}function ds(t){let e,n,r,i,o,s,l=t[5][t[8]].build+"",a=t[5][t[8]].refund+"",c=0!=t[10]&&function(t){let e;return{c(){e=ye("br")},m(t,n){he(t,e,n)},d(t){t&&me(e)}}}();const u=new rn({props:{href:t[8]}});return{c(){c&&c.c(),e=ve(),We(u.$$.fragment),n=be("\r\n              : "),r=be(l),i=be(" / "),o=be(a)},m(t,l){c&&c.m(t,l),he(t,e,l),Xe(u,t,l),he(t,n,l),he(t,r,l),he(t,i,l),he(t,o,l),s=!0},p(t,e){const n={};1&e&&(n.href=t[8]),u.$set(n),(!s||1&e)&&l!==(l=t[5][t[8]].build+"")&&ke(r,l),(!s||1&e)&&a!==(a=t[5][t[8]].refund+"")&&ke(o,a)},i(t){s||(Ze(u.$$.fragment,t),s=!0)},o(t){Ge(u.$$.fragment,t),s=!1},d(t){c&&c.d(t),t&&me(e),Ke(u,t),t&&me(n),t&&me(r),t&&me(i),t&&me(o)}}}function ps(t){let e,n,r=!["type","battlescapeTerrainData","craftInventoryTile","deployment"].includes(t[4]),i=r&&rs(t);return{c(){i&&i.c(),e=$e()},m(t,r){i&&i.m(t,r),he(t,e,r),n=!0},p(t,n){1&n&&(r=!["type","battlescapeTerrainData","craftInventoryTile","deployment"].includes(t[4])),r?i?(i.p(t,n),Ze(i,1)):((i=rs(t)).c(),Ze(i,1),i.m(e.parentNode,e)):i&&(He(),Ge(i,1,1,()=>{i=null}),Ue())},i(t){n||(Ze(i),n=!0)},o(t){Ge(i),n=!1},d(t){i&&i.d(t),t&&me(e)}}}function hs(t){let e,n,r,i,o,s=Object.entries(t[0]).sort(ms),l=[];for(let e=0;e<s.length;e+=1)l[e]=ps(ns(t,s,e));const a=t=>Ge(l[t],1,1,()=>{l[t]=null});return{c(){e=ye("table"),n=ye("tr"),(r=ye("td")).textContent=`${Lt.str("Facility")}`,i=ve();for(let t=0;t<l.length;t+=1)l[t].c();xe(r,"colspan","2"),xe(r,"class","table-header"),xe(e,"class","main-table")},m(t,s){he(t,e,s),pe(e,n),pe(n,r),pe(e,i);for(let t=0;t<l.length;t+=1)l[t].m(e,null);o=!0},p(t,[n]){if(7&n){let r;for(s=Object.entries(t[0]).sort(ms),r=0;r<s.length;r+=1){const i=ns(t,s,r);l[r]?(l[r].p(i,n),Ze(l[r],1)):(l[r]=ps(i),l[r].c(),Ze(l[r],1),l[r].m(e,null))}for(He(),r=s.length;r<l.length;r+=1)a(r);Ue()}},i(t){if(!o){for(let t=0;t<s.length;t+=1)Ze(l[t]);o=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)Ge(l[t]);o=!1},d(t){t&&me(e),ge(l,t)}}}const ms=(t,e)=>t[0]>e[0]&&"storageTiles"!=t[0]?1:-1;function gs(t,e,n){let{facility:r}=e,i=!1,o=1;return t.$set=(t=>{"facility"in t&&n(0,r=t.facility)}),t.$$.update=(()=>{5&t.$$.dirty&&(n(2,o=r.size||1),console.log(o),console.info(r))}),[r,i,o,t=>n(1,i=!i)]}class ys extends Je{constructor(t){super(),Ve(this,t,gs,hs,fe,{facility:0})}}function bs(t,e,n){const r=t.slice();return r[1]=e[n],r}function vs(t){let e,n,r,i,o,s,l=Lt.decamelize(t[1][0])+"";const a=new vn({props:{items:t[1][1]}});return{c(){e=ye("tr"),n=ye("td"),r=be(l),i=ve(),o=ye("td"),We(a.$$.fragment)},m(t,l){he(t,e,l),pe(e,n),pe(n,r),pe(e,i),pe(e,o),Xe(a,o,null),s=!0},p(t,e){(!s||1&e)&&l!==(l=Lt.decamelize(t[1][0])+"")&&ke(r,l);const n={};1&e&&(n.items=t[1][1]),a.$set(n)},i(t){s||(Ze(a.$$.fragment,t),s=!0)},o(t){Ge(a.$$.fragment,t),s=!1},d(t){t&&me(e),Ke(a)}}}function $s(t){let e,n,r=!["id"].includes(t[1][0]),i=r&&vs(t);return{c(){i&&i.c(),e=$e()},m(t,r){i&&i.m(t,r),he(t,e,r),n=!0},p(t,n){1&n&&(r=!["id"].includes(t[1][0])),r?i?(i.p(t,n),Ze(i,1)):((i=vs(t)).c(),Ze(i,1),i.m(e.parentNode,e)):i&&(He(),Ge(i,1,1,()=>{i=null}),Ue())},i(t){n||(Ze(i),n=!0)},o(t){Ge(i),n=!1},d(t){i&&i.d(t),t&&me(e)}}}function ws(t){let e,n,r=Object.entries(t[0]).sort(xs),i=[];for(let e=0;e<r.length;e+=1)i[e]=$s(bs(t,r,e));const o=t=>Ge(i[t],1,1,()=>{i[t]=null});return{c(){e=ye("table");for(let t=0;t<i.length;t+=1)i[t].c();xe(e,"class","main-table")},m(t,r){he(t,e,r);for(let t=0;t<i.length;t+=1)i[t].m(e,null);n=!0},p(t,[n]){if(1&n){let s;for(r=Object.entries(t[0]).sort(xs),s=0;s<r.length;s+=1){const o=bs(t,r,s);i[s]?(i[s].p(o,n),Ze(i[s],1)):(i[s]=$s(o),i[s].c(),Ze(i[s],1),i[s].m(e,null))}for(He(),s=r.length;s<i.length;s+=1)o(s);Ue()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)Ze(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)Ge(i[t]);n=!1},d(t){t&&me(e),ge(i,t)}}}const xs=(t,e)=>("providedBy"==t[0]?-10:10)+(t[0]>e[0]?1:-1);function ks(t,e,n){let{service:r}=e;return t.$set=(t=>{"service"in t&&n(0,r=t.service)}),[r]}class As extends Je{constructor(t){super(),Ve(this,t,ks,ws,fe,{service:0})}}function _s(t,e,n){const r=t.slice();return r[1]=e[n],r}function Ss(t){let e,n,r,i,o,s,l,a,c,u=Lt.str(t[1][0])+"";const f=new vn({props:{items:t[1][1].providedBy}});return{c(){e=ye("tr"),n=ye("td"),r=ye("a"),o=ve(),s=ye("td"),We(f.$$.fragment),l=ve(),xe(r,"color","cyan"),xe(r,"href",i="#"+t[1][0]),xe(r,"class","svelte-edz6kn"),xe(n,"class","svelte-edz6kn"),xe(s,"class","svelte-edz6kn"),xe(e,"class",a=de(t[1][0]==t[0]?"highlight":"")+" svelte-edz6kn")},m(t,i){he(t,e,i),pe(e,n),pe(n,r),r.innerHTML=u,pe(e,o),pe(e,s),Xe(f,s,null),pe(e,l),c=!0},p(t,n){(!c||1&n&&a!==(a=de(t[1][0]==t[0]?"highlight":"")+" svelte-edz6kn"))&&xe(e,"class",a)},i(t){c||(Ze(f.$$.fragment,t),c=!0)},o(t){Ge(f.$$.fragment,t),c=!1},d(t){t&&me(e),Ke(f)}}}function Cs(t){let e,n,r=Object.entries(Lt.baseServices),i=[];for(let e=0;e<r.length;e+=1)i[e]=Ss(_s(t,r,e));const o=t=>Ge(i[t],1,1,()=>{i[t]=null});return{c(){e=ye("table");for(let t=0;t<i.length;t+=1)i[t].c();xe(e,"class","main-table")},m(t,r){he(t,e,r);for(let t=0;t<i.length;t+=1)i[t].m(e,null);n=!0},p(t,[n]){if(1&n){let s;for(r=Object.entries(Lt.baseServices),s=0;s<r.length;s+=1){const o=_s(t,r,s);i[s]?(i[s].p(o,n),Ze(i[s],1)):(i[s]=Ss(o),i[s].c(),Ze(i[s],1),i[s].m(e,null))}for(He(),s=r.length;s<i.length;s+=1)o(s);Ue()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)Ze(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)Ge(i[t]);n=!1},d(t){t&&me(e),ge(i,t)}}}function Os(t,e,n){let{query:r=null}=e;return console.log(r),t.$set=(t=>{"query"in t&&n(0,r=t.query)}),[r]}class Ts extends Je{constructor(t){super(),Ve(this,t,Os,Cs,fe,{query:0})}}function Es(t){let e;const n=new Rn({props:{id:t[0].image_id}});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.id=t[0].image_id),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function Is(t){let e,n,r,i,o=t[0].id in Lt.items&&js(t);return{c(){e=ye("div"),o&&o.c(),n=ve(),r=ye("span"),xe(e,"class","article-text")},m(s,l){he(s,e,l),o&&o.m(e,null),pe(e,n),pe(e,r),r.innerHTML=t[2],i=!0},p(t,s){t[0].id in Lt.items?o?(o.p(t,s),Ze(o,1)):((o=js(t)).c(),Ze(o,1),o.m(e,n)):o&&(He(),Ge(o,1,1,()=>{o=null}),Ue()),(!i||4&s)&&(r.innerHTML=t[2])},i(t){i||(Ze(o),i=!0)},o(t){Ge(o),i=!1},d(t){t&&me(e),o&&o.d()}}}function js(t){let e;const n=new Kn({props:{item:Lt.items[t[0].id],zoom:"2"}});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.item=Lt.items[t[0].id]),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function Ms(t){let e;const n=new dn({props:{links:Lt.sections[t[0].id].articles.map(Ks)}});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.links=Lt.sections[t[0].id].articles.map(Ks)),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function Ns(t){let e;const n=new dn({props:{links:Lt.categories[t[0].id]}});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.links=Lt.categories[t[0].id]),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function Bs(t){let e;const n=new Ro({props:{conditions:Lt.startingConditions[t[0].id]}});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.conditions=Lt.startingConditions[t[0].id]),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function Fs(t){let e;const n=new Ts({});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p:se,i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function Ls(t){let e;const n=new ro({props:{unit:Lt.units[t[0].id]}});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.unit=Lt.units[t[0].id]),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function Rs(t){let e;const n=new Pr({props:{item:Lt.items[t[0].id]}});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.item=Lt.items[t[0].id]),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function Ds(t){let e;const n=new Ai({props:{armor:Lt.armors[Lt.units[t[0].id].armor]}});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.armor=Lt.armors[Lt.units[t[0].id].armor]),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function Ps(t){let e;const n=new Ai({props:{armor:Lt.armors[t[0].id]}});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.armor=Lt.armors[t[0].id]),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function zs(t){let e;const n=new As({props:{service:Lt.baseServices[t[0].id]}});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.service=Lt.baseServices[t[0].id]),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function Hs(t){let e;const n=new Bi({props:{craft:Lt.crafts[t[0].id]}});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.craft=Lt.crafts[t[0].id]),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function Us(t){let e;const n=new Zi({props:{weapon:Lt.craftWeapons[t[0].id]}});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.weapon=Lt.craftWeapons[t[0].id]),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function Zs(t){let e;const n=new Jo({props:{ufo:Lt.ufos[t[0].id]}});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.ufo=Lt.ufos[t[0].id]),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function Gs(t){let e;const n=new ys({props:{facility:Lt.facilities[t[0].id]}});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.facility=Lt.facilities[t[0].id]),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function qs(t){let e;const n=new Bo({props:{manufacture:Lt.manufacture[t[0].id]}});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.manufacture=Lt.manufacture[t[0].id]),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function Ws(t){let e;const n=new yo({props:{research:Lt.research[t[0].id]}});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.research=Lt.research[t[0].id]),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function Xs(t){let e,n,r,i,o,s,l,a,c,u,f,d,p,h,m,g,y,b,v,$,w,x,k,A,_,S,C,O,T,E,I,j,M,N,B,F=(t[0].title||t[0].id)+"";document.title=e=Lt.str(t[0].title||"XPedia");let L=!(t[0].id in Lt.units)&&Es(t),R=t[2]&&Is(t);const D=[Fs,Bs,Ns,Ms],P=[];function z(t,e){return"SERVICES"==t[0].id?0:"CONDITIONS"==t[0].type_id?1:"CATEGORIES"==t[0].type_id?2:"PEDIA"==t[0].type_id||"TYPE"==t[0].type_id?3:-1}~(m=z(t))&&(g=P[m]=D[m](t));var H=t[3];function U(t){return{props:{query:t[1]}}}if(H)var Z=new H(U(t));let G=t[0].id in Lt.units&&Ls(t),q=t[0].id in Lt.items&&Rs(t);const W=[Ps,Ds],X=[];function K(t,e){return t[0].id in Lt.armors?0:t[0].id in Lt.units&&Lt.units[t[0].id].armor?1:-1}~(k=K(t))&&(A=X[k]=W[k](t));let Y=t[0].id in Lt.baseServices&&zs(t),V=t[0].id in Lt.crafts&&Hs(t),J=t[0].id in Lt.craftWeapons&&Us(t),Q=t[0].id in Lt.ufos&&Zs(t),tt=t[0].id in Lt.facilities&&Gs(t),et=t[0].id in Lt.manufacture&&qs(t),nt=t[0].id in Lt.research&&Ws(t);return{c(){n=ve(),r=ye("h1"),i=ye("nobr"),o=be(F),s=ve(),l=ye("span"),a=ve(),(c=ye("button")).textContent="<",u=ve(),(f=ye("button")).textContent=">",d=ve(),L&&L.c(),p=ve(),R&&R.c(),h=ve(),g&&g.c(),y=ve(),b=ye("div"),Z&&We(Z.$$.fragment),v=ve(),$=ye("table"),G&&G.c(),w=ve(),q&&q.c(),x=ve(),A&&A.c(),_=ve(),Y&&Y.c(),S=ve(),V&&V.c(),C=ve(),J&&J.c(),O=ve(),Q&&Q.c(),T=ve(),tt&&tt.c(),E=ve(),I=ye("div"),j=ye("table"),et&&et.c(),M=ve(),nt&&nt.c(),_e(l,"flex","1"),xe(c,"class","page-turn"),xe(f,"class","page-turn"),xe($,"class","main-table"),xe(j,"class","main-table"),xe(I,"class","flex-vertical"),xe(b,"class","flex-horisontal"),B=[we(c,"click",t[5]),we(f,"click",t[6])]},m(t,e){he(t,n,e),he(t,r,e),pe(r,i),pe(i,o),pe(r,s),pe(r,l),pe(r,a),pe(r,c),pe(r,u),pe(r,f),he(t,d,e),L&&L.m(t,e),he(t,p,e),R&&R.m(t,e),he(t,h,e),~m&&P[m].m(t,e),he(t,y,e),he(t,b,e),Z&&Xe(Z,b,null),pe(b,v),pe(b,$),G&&G.m($,null),pe($,w),q&&q.m($,null),pe(b,x),~k&&X[k].m(b,null),pe(b,_),Y&&Y.m(b,null),pe(b,S),V&&V.m(b,null),pe(b,C),J&&J.m(b,null),pe(b,O),Q&&Q.m(b,null),pe(b,T),tt&&tt.m(b,null),pe(b,E),pe(b,I),pe(I,j),et&&et.m(j,null),pe(j,M),nt&&nt.m(j,null),N=!0},p(t,[n]){(!N||1&n)&&e!==(e=Lt.str(t[0].title||"XPedia"))&&(document.title=e),(!N||1&n)&&F!==(F=(t[0].title||t[0].id)+"")&&ke(o,F),t[0].id in Lt.units?L&&(He(),Ge(L,1,1,()=>{L=null}),Ue()):L?(L.p(t,n),Ze(L,1)):((L=Es(t)).c(),Ze(L,1),L.m(p.parentNode,p)),t[2]?R?(R.p(t,n),Ze(R,1)):((R=Is(t)).c(),Ze(R,1),R.m(h.parentNode,h)):R&&(He(),Ge(R,1,1,()=>{R=null}),Ue());let r=m;(m=z(t))===r?~m&&P[m].p(t,n):(g&&(He(),Ge(P[r],1,1,()=>{P[r]=null}),Ue()),~m?((g=P[m])||(g=P[m]=D[m](t)).c(),Ze(g,1),g.m(y.parentNode,y)):g=null);const i={};if(2&n&&(i.query=t[1]),H!==(H=t[3])){if(Z){He();const t=Z;Ge(t.$$.fragment,1,0,()=>{Ke(t,1)}),Ue()}H?(We((Z=new H(U(t))).$$.fragment),Ze(Z.$$.fragment,1),Xe(Z,b,v)):Z=null}else H&&Z.$set(i);t[0].id in Lt.units?G?(G.p(t,n),Ze(G,1)):((G=Ls(t)).c(),Ze(G,1),G.m($,w)):G&&(He(),Ge(G,1,1,()=>{G=null}),Ue()),t[0].id in Lt.items?q?(q.p(t,n),Ze(q,1)):((q=Rs(t)).c(),Ze(q,1),q.m($,null)):q&&(He(),Ge(q,1,1,()=>{q=null}),Ue());let s=k;(k=K(t))===s?~k&&X[k].p(t,n):(A&&(He(),Ge(X[s],1,1,()=>{X[s]=null}),Ue()),~k?((A=X[k])||(A=X[k]=W[k](t)).c(),Ze(A,1),A.m(b,_)):A=null),t[0].id in Lt.baseServices?Y?(Y.p(t,n),Ze(Y,1)):((Y=zs(t)).c(),Ze(Y,1),Y.m(b,S)):Y&&(He(),Ge(Y,1,1,()=>{Y=null}),Ue()),t[0].id in Lt.crafts?V?(V.p(t,n),Ze(V,1)):((V=Hs(t)).c(),Ze(V,1),V.m(b,C)):V&&(He(),Ge(V,1,1,()=>{V=null}),Ue()),t[0].id in Lt.craftWeapons?J?(J.p(t,n),Ze(J,1)):((J=Us(t)).c(),Ze(J,1),J.m(b,O)):J&&(He(),Ge(J,1,1,()=>{J=null}),Ue()),t[0].id in Lt.ufos?Q?(Q.p(t,n),Ze(Q,1)):((Q=Zs(t)).c(),Ze(Q,1),Q.m(b,T)):Q&&(He(),Ge(Q,1,1,()=>{Q=null}),Ue()),t[0].id in Lt.facilities?tt?(tt.p(t,n),Ze(tt,1)):((tt=Gs(t)).c(),Ze(tt,1),tt.m(b,E)):tt&&(He(),Ge(tt,1,1,()=>{tt=null}),Ue()),t[0].id in Lt.manufacture?et?(et.p(t,n),Ze(et,1)):((et=qs(t)).c(),Ze(et,1),et.m(j,M)):et&&(He(),Ge(et,1,1,()=>{et=null}),Ue()),t[0].id in Lt.research?nt?(nt.p(t,n),Ze(nt,1)):((nt=Ws(t)).c(),Ze(nt,1),nt.m(j,null)):nt&&(He(),Ge(nt,1,1,()=>{nt=null}),Ue())},i(t){N||(Ze(L),Ze(R),Ze(g),Z&&Ze(Z.$$.fragment,t),Ze(G),Ze(q),Ze(A),Ze(Y),Ze(V),Ze(J),Ze(Q),Ze(tt),Ze(et),Ze(nt),N=!0)},o(t){Ge(L),Ge(R),Ge(g),Z&&Ge(Z.$$.fragment,t),Ge(G),Ge(q),Ge(A),Ge(Y),Ge(V),Ge(J),Ge(Q),Ge(tt),Ge(et),Ge(nt),N=!1},d(t){t&&me(n),t&&me(r),t&&me(d),L&&L.d(t),t&&me(p),R&&R.d(t),t&&me(h),~m&&P[m].d(t),t&&me(y),t&&me(b),Z&&Ke(Z),G&&G.d(),q&&q.d(),~k&&X[k].d(),Y&&Y.d(),V&&V.d(),J&&J.d(),Q&&Q.d(),tt&&tt.d(),et&&et.d(),nt&&nt.d(),ce(B)}}}const Ks=t=>t.id;function Ys(t,e,n){const r=Ee();let i,{article:o}=e,{query:s}=e,l=!1;return t.$set=(t=>{"article"in t&&n(0,o=t.article),"query"in t&&n(1,s=t.query)}),t.$$.update=(()=>{if(7&t.$$.dirty&&(n(2,i=o.text||""),n(3,l="OTHER"==o.type_id&&{BaseServices:Ts}[o.id]),s))for(let t of s.split()){let e=new RegExp(t,"ig");n(2,i=i.replace(e,"<span class='queried'>$&</span>"))}}),[o,s,i,l,r,t=>r("prev"),t=>r("next")]}class Vs extends Je{constructor(t){super(),Ve(this,t,Ys,Xs,fe,{article:0,query:1})}}const{document:Js}=qe;function Qs(t,e,n){const r=t.slice();return r[43]=e[n],r}function tl(t,e,n){const r=t.slice();return r[40]=e[n],r}function el(t,e,n){const r=t.slice();return r[46]=e[n],r}function nl(t,e,n){const r=t.slice();return r[40]=e[n],r[50]=n,r}function rl(t,e,n){const r=t.slice();return r[40]=e[n],r[50]=n,r}function il(t){return{c(){Js.title="XPedia"},m:se,d:se}}function ol(t){return{c:se,m:se,p:se,i:se,o:se,d:se}}function sl(t){let e,n,r,i,o,s,l,a,c,u,f,d,p,h,m,g,y,b,v,$,w,x,k,A,_,S,C,O,T,E,I,j,M,N,B,F,L,R,D,P,z,H,U,Z,G,q,W,X,K=(t[3]?t[3].title:"")+"",Y=Lt.typeSectionsOrder,V=[];for(let e=0;e<Y.length;e+=1)V[e]=ll(rl(t,Y,e));let J=Lt.sectionsOrder,Q=[];for(let e=0;e<J.length;e+=1)Q[e]=al(nl(t,J,e));let tt=Lt.config&&Lt.config.languages&&Lt.config.languages.length>1&&function(t){let e,n,r,i,o,s,l=Lt.config.languages,a=[];for(let e=0;e<l.length;e+=1)a[e]=cl(el(t,l,e));return{c(){e=ye("div"),(n=ye("div")).innerHTML="<big>Aあ</big>",r=ve(),i=ye("div");for(let t=0;t<a.length;t+=1)a[t].c();xe(n,"class","navbar-button"),xe(i,"class","navbar-dropdown"),xe(i,"style",o=t[11]?"visibility:visible":"visibility:hidden"),xe(e,"class","navbar-dropdown-container"),s=[we(n,"mousedown",t[28]),we(e,"mouseover",t[29]),we(e,"mouseout",t[30])]},m(t,o){he(t,e,o),pe(e,n),pe(e,r),pe(e,i);for(let t=0;t<a.length;t+=1)a[t].m(i,null)},p(t,e){if(64&e[0]){let n;for(l=Lt.config.languages,n=0;n<l.length;n+=1){const r=el(t,l,n);a[n]?a[n].p(r,e):(a[n]=cl(r),a[n].c(),a[n].m(i,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=l.length}2048&e[0]&&o!==(o=t[11]?"visibility:visible":"visibility:hidden")&&xe(i,"style",o)},d(t){t&&me(e),ge(a,t),ce(s)}}}(t),et=t[8]&&ul(t);const nt=[bl,yl,gl],rt=[];function it(t,e){return t[0]?0:t[2]?1:t[2]?-1:2}return~(H=it(t))&&(U=rt[H]=nt[H](t)),{c(){e=ye("nav"),n=ye("div"),r=ye("div"),i=ye("img"),s=ve(),l=ye("nobr"),(a=ye("span")).textContent=`${Lt.str("BootyPedia")} `,c=ve(),(u=ye("span")).textContent="v",f=be("\n           "),d=ve(),p=ye("div"),h=ye("div"),m=ye("div"),(g=ye("a")).textContent=`${Lt.str("HOME")}`,y=ve(),b=ye("div"),v=ve();for(let t=0;t<V.length;t+=1)V[t].c();$=ve(),w=ye("div");for(let t=0;t<Q.length;t+=1)Q[t].c();k=ve(),A=ye("a"),_=be(K),C=ve(),O=ye("div"),T=ve(),tt&&tt.c(),E=ve(),I=ve(),j=ye("div"),M=ye("input"),B=ve(),et&&et.c(),F=ve(),L=ye("button"),(R=ye("span")).textContent="≡",P=ve(),z=ye("div"),U&&U.c(),G=ve(),(q=ye("div")).textContent="Tooltip",i.src!==(o="xpedia/favicon.png")&&xe(i,"src","xpedia/favicon.png"),xe(i,"alt","XPedia"),xe(i,"class","xpedia-icon"),xe(a,"class","on-wide"),_e(u,"transform","scale(1.5,0.75)"),_e(u,"display","inline-block"),xe(r,"class","navbar-button"),xe(g,"href","##MAIN"),_e(g,"text-decoration","underline"),_e(b,"height","0.5em"),xe(m,"class","navbar-auto navbar-list"),xe(w,"class","navbar-custom navbar-list"),xe(h,"class","flex-horisontal"),_e(h,"flex-wrap","nowrap"),xe(p,"class","navbar-dropdown"),xe(p,"style",x=t[10]?"visibility:visible":"visibility:hidden"),xe(n,"class","navbar-dropdown-container"),xe(A,"class","navbar-button navbar-current-article"),xe(A,"href",S="##"+(t[3]?t[3].id:"MAIN")),xe(O,"class","stretcher"),xe(M,"class","input"),xe(M,"type","text"),xe(M,"placeholder",N=Lt.str("Search...")),xe(j,"class","navbar-search"),xe(e,"class","navbar flex-horisontal"),_e(R,"font-size","150%"),xe(L,"class","side-hide-button"),xe(L,"style",D=t[8]?"":"left:1em;"),xe(z,"class","main"),xe(z,"style",Z=t[8]?"":"padding-left:3rem;"),xe(q,"class","tooltip fadein"),X=[we(r,"mousedown",t[25]),we(n,"mouseover",t[26]),we(n,"mouseout",t[27]),we(M,"input",t[32]),we(M,"keyup",t[18]),we(L,"click",t[36])]},m(o,x){he(o,e,x),pe(e,n),pe(n,r),pe(r,i),pe(r,s),pe(r,l),pe(l,a),pe(l,c),pe(l,u),pe(l,f),pe(n,d),pe(n,p),pe(p,h),pe(h,m),pe(m,g),pe(m,y),pe(m,b),pe(m,v);for(let t=0;t<V.length;t+=1)V[t].m(m,null);pe(h,$),pe(h,w);for(let t=0;t<Q.length;t+=1)Q[t].m(w,null);pe(e,k),pe(e,A),pe(A,_),pe(e,C),pe(e,O),pe(e,T),tt&&tt.m(e,null),pe(e,E),pe(e,I),pe(e,j),pe(j,M),Ae(M,t[2]),he(o,B,x),et&&et.m(o,x),he(o,F,x),he(o,L,x),pe(L,R),he(o,P,x),he(o,z,x),~H&&rt[H].m(z,null),he(o,G,x),he(o,q,x),t[39](q),W=!0},p(t,e){if(0&e){let n;for(Y=Lt.typeSectionsOrder,n=0;n<Y.length;n+=1){const r=rl(t,Y,n);V[n]?V[n].p(r,e):(V[n]=ll(r),V[n].c(),V[n].m(m,null))}for(;n<V.length;n+=1)V[n].d(1);V.length=Y.length}if(0&e){let n;for(J=Lt.sectionsOrder,n=0;n<J.length;n+=1){const r=nl(t,J,n);Q[n]?Q[n].p(r,e):(Q[n]=al(r),Q[n].c(),Q[n].m(w,null))}for(;n<Q.length;n+=1)Q[n].d(1);Q.length=J.length}(!W||1024&e[0]&&x!==(x=t[10]?"visibility:visible":"visibility:hidden"))&&xe(p,"style",x),(!W||8&e[0])&&K!==(K=(t[3]?t[3].title:"")+"")&&ke(_,K),(!W||8&e[0]&&S!==(S="##"+(t[3]?t[3].id:"MAIN")))&&xe(A,"href",S),Lt.config&&Lt.config.languages&&Lt.config.languages.length>1&&tt.p(t,e),4&e[0]&&M.value!==t[2]&&Ae(M,t[2]),t[8]?et?et.p(t,e):((et=ul(t)).c(),et.m(F.parentNode,F)):et&&(et.d(1),et=null),(!W||256&e[0]&&D!==(D=t[8]?"":"left:1em;"))&&xe(L,"style",D);let n=H;(H=it(t))===n?~H&&rt[H].p(t,e):(U&&(He(),Ge(rt[n],1,1,()=>{rt[n]=null}),Ue()),~H?((U=rt[H])||(U=rt[H]=nt[H](t)).c(),Ze(U,1),U.m(z,null)):U=null),(!W||256&e[0]&&Z!==(Z=t[8]?"":"padding-left:3rem;"))&&xe(z,"style",Z)},i(t){W||(Ze(U),W=!0)},o(t){Ge(U),W=!1},d(n){n&&me(e),ge(V,n),ge(Q,n),tt&&tt.d(),n&&me(B),et&&et.d(n),n&&me(F),n&&me(L),n&&me(P),n&&me(z),~H&&rt[H].d(),n&&me(G),n&&me(q),t[39](null),ce(X)}}}function ll(t){let e,n,r,i=t[40].title+"";return{c(){e=ye("a"),n=be(i),xe(e,"href",r="##"+t[40].id)},m(t,r){he(t,e,r),pe(e,n)},p:se,d(t){t&&me(e)}}}function al(t){let e,n,r,i=t[40].title+"";return{c(){e=ye("a"),n=be(i),xe(e,"href",r="##"+t[40].id)},m(t,r){he(t,e,r),pe(e,n)},p:se,d(t){t&&me(e)}}}function cl(t){let e,n,r,i=t[46].name+"";return{c(){e=ye("a"),n=be(i),xe(e,"href",r=t[46].save_as+"##"+t[6])},m(t,r){he(t,e,r),pe(e,n)},p(t,n){64&n[0]&&r!==(r=t[46].save_as+"##"+t[6])&&xe(e,"href",r)},d(t){t&&me(e)}}}function ul(t){let e,n,r,i,o,s,l,a,c=Lt.str("A-Z")+"",u=t[0]&&t[0].section&&t[0].section.isType()?Lt.typeSectionsOrder:Lt.sectionsOrder,f=[];for(let e=0;e<u.length;e+=1)f[e]=ml(tl(t,u,e));return{c(){e=ye("nav"),n=ye("button"),r=be(c),o=ve();for(let t=0;t<f.length;t+=1)f[t].c();s=ve(),l=ye("br"),xe(n,"class","side-sort-button"),xe(n,"style",i=t[13]?"":"text-decoration:line-through"),xe(e,"class","sidebar"),a=we(n,"click",t[33])},m(t,i){he(t,e,i),pe(e,n),pe(n,r),pe(e,o);for(let t=0;t<f.length;t+=1)f[t].m(e,null);pe(e,s),pe(e,l)},p(t,r){if(8192&r[0]&&i!==(i=t[13]?"":"text-decoration:line-through")&&xe(n,"style",i),16441&r[0]){let n;for(u=t[0]&&t[0].section&&t[0].section.isType()?Lt.typeSectionsOrder:Lt.sectionsOrder,n=0;n<u.length;n+=1){const i=tl(t,u,n);f[n]?f[n].p(i,r):(f[n]=ml(i),f[n].c(),f[n].m(e,s))}for(;n<f.length;n+=1)f[n].d(1);f.length=u.length}},d(t){t&&me(e),ge(f,t),a()}}}function fl(t){let e,n,r,i,o=t[40].title+"",s=t[14](t[40].articles),l=[];for(let e=0;e<s.length;e+=1)l[e]=hl(Qs(t,s,e));return{c(){e=ye("p"),n=be(o),r=ve(),i=ye("div");for(let t=0;t<l.length;t+=1)l[t].c();xe(e,"class","menu-label"),xe(i,"class","menu-list")},m(t,o){he(t,e,o),pe(e,n),he(t,r,o),he(t,i,o);for(let t=0;t<l.length;t+=1)l[t].m(i,null)},p(t,e){if(1&e[0]&&o!==(o=t[40].title+"")&&ke(n,o),16433&e[0]){let n;for(s=t[14](t[40].articles),n=0;n<s.length;n+=1){const r=Qs(t,s,n);l[n]?l[n].p(r,e):(l[n]=hl(r),l[n].c(),l[n].m(i,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=s.length}},d(t){t&&me(e),t&&me(r),t&&me(i),ge(l,t)}}}function dl(t){let e,n,r,i,o=t[43].title+"";return{c(){e=ye("a"),n=be(o),xe(e,"class","side-link"),xe(e,"href",r="##"+t[43].id),i=we(e,"click",t[35])},m(t,r){he(t,e,r),pe(e,n)},p(t,i){16385&i[0]&&o!==(o=t[43].title+"")&&ke(n,o),16385&i[0]&&r!==(r="##"+t[43].id)&&xe(e,"href",r)},d(t){t&&me(e),i()}}}function pl(t){let e,n,r,i=t[43].title+"";return{c(){e=ye("a"),n=be(i),xe(e,"href",r="##"+t[43].id),xe(e,"class","active-article-option side-link")},m(r,i){he(r,e,i),pe(e,n),t[34](e)},p(t,o){16385&o[0]&&i!==(i=t[43].title+"")&&ke(n,i),16385&o[0]&&r!==(r="##"+t[43].id)&&xe(e,"href",r)},d(n){n&&me(e),t[34](null)}}}function hl(t){let e;function n(t,e){return t[0]&&t[0].id==t[43].id?pl:dl}let r=n(t),i=r(t);return{c(){i.c(),e=$e()},m(t,n){i.m(t,n),he(t,e,n)},p(t,o){r===(r=n(t))&&i?i.p(t,o):(i.d(1),(i=r(t))&&(i.c(),i.m(e.parentNode,e)))},d(t){i.d(t),t&&me(e)}}}function ml(t){let e,n=(!t[3]||t[40].id==t[3].id)&&fl(t);return{c(){n&&n.c(),e=$e()},m(t,r){n&&n.m(t,r),he(t,e,r)},p(t,r){t[3]&&t[40].id!=t[3].id?n&&(n.d(1),n=null):n?n.p(t,r):((n=fl(t)).c(),n.m(e.parentNode,e))},d(t){n&&n.d(t),t&&me(e)}}}function gl(t){let e;const n=new hn({});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p:se,i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function yl(t){let e,n,r,i,o,s,l,a,c,u;const f=[xl,wl,$l,vl],d=[];function p(t,e){return t[1]&&t[1].length>0?0:t[2].length<2?1:t[7]?2:3}return l=p(t),a=d[l]=f[l](t),{c(){e=be('Searching "\n      '),n=ye("em"),r=be(t[2]),i=be('\n      ":\n      '),o=ye("br"),s=ve(),a.c(),c=$e()},m(t,a){he(t,e,a),he(t,n,a),pe(n,r),he(t,i,a),he(t,o,a),he(t,s,a),d[l].m(t,a),he(t,c,a),u=!0},p(t,e){(!u||4&e[0])&&ke(r,t[2]);let n=l;(l=p(t))===n?d[l].p(t,e):(He(),Ge(d[n],1,1,()=>{d[n]=null}),Ue(),(a=d[l])||(a=d[l]=f[l](t)).c(),Ze(a,1),a.m(c.parentNode,c))},i(t){u||(Ze(a),u=!0)},o(t){Ge(a),u=!1},d(t){t&&me(e),t&&me(n),t&&me(i),t&&me(o),t&&me(s),d[l].d(t),t&&me(c)}}}function bl(t){let e;const n=new Vs({props:{article:t[0],query:t[2]}});return n.$on("prev",t[37]),n.$on("next",t[38]),{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};1&e[0]&&(r.article=t[0]),4&e[0]&&(r.query=t[2]),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function vl(t){let e;return{c(){(e=ye("i")).textContent="Nothing found"},m(t,n){he(t,e,n)},p:se,i:se,o:se,d(t){t&&me(e)}}}function $l(t){let e;return{c(){e=be("...")},m(t,n){he(t,e,n)},p:se,i:se,o:se,d(t){t&&me(e)}}}function wl(t){let e;return{c(){(e=ye("i")).textContent="Query too short"},m(t,n){he(t,e,n)},p:se,i:se,o:se,d(t){t&&me(e)}}}function xl(t){let e;const n=new dn({props:{links:t[1]}});return{c(){We(n.$$.fragment)},m(t,r){Xe(n,t,r),e=!0},p(t,e){const r={};2&e[0]&&(r.links=t[1]),n.$set(r)},i(t){e||(Ze(n.$$.fragment,t),e=!0)},o(t){Ge(n.$$.fragment,t),e=!1},d(t){Ke(n,t)}}}function kl(t){let e,n,r,i,o,s,l,a,c=Lt.str("Loading...")+"";return{c(){e=ye("div"),n=be(c),r=ve(),i=ye("hr"),o=ve(),xe(s=ye("img"),"alt",l=Lt.str("Loading...")),s.src!==(a="xpedia/spinner.svg")&&xe(s,"src","xpedia/spinner.svg"),xe(e,"class","centered svelte-1bo6p5d")},m(t,l){he(t,e,l),pe(e,n),pe(e,r),pe(e,i),pe(e,o),pe(e,s)},p:se,i:se,o:se,d(t){t&&me(e)}}}function Al(t){let e,n,r,i,o,s=!t[0]&&il(),l={ctx:t,current:null,token:null,pending:kl,then:sl,catch:ol,blocks:[,,,]};return function(t,e){const n=e.token={};function r(t,r,i,o){if(e.token!==n)return;e.resolved=o;let s=e.ctx;void 0!==i&&((s=s.slice())[i]=o);const l=t&&(e.current=t)(s);let a=!1;e.block&&(e.blocks?e.blocks.forEach((t,n)=>{n!==r&&t&&(He(),Ge(t,1,1,()=>{e.blocks[n]=null}),Ue())}):e.block.d(1),l.c(),Ze(l,1),l.m(e.mount(),e.anchor),a=!0),e.block=l,e.blocks&&(e.blocks[r]=l),a&&Re()}if((i=t)&&"object"==typeof i&&"function"==typeof i.then){const n=Te();if(t.then(t=>{Oe(n),r(e.then,1,e.value,t),Oe(null)},t=>{Oe(n),r(e.catch,2,e.error,t),Oe(null)}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}var i}(i=t[16],l),{c(){s&&s.c(),e=$e(),n=ve(),r=$e(),l.block.c()},m(t,i){s&&s.m(Js.head,null),pe(Js.head,e),he(t,n,i),he(t,r,i),l.block.m(t,l.anchor=i),l.mount=(()=>r.parentNode),l.anchor=r,o=!0},p(n,r){(t=n)[0]?s&&(s.d(1),s=null):s||((s=il()).c(),s.m(e.parentNode,e));{const e=t.slice();l.block.p(e,r)}},i(t){o||(Ze(l.block),o=!0)},o(t){for(let t=0;t<3;t+=1){Ge(l.blocks[t])}o=!1},d(t){s&&s.d(t),me(e),t&&me(n),t&&me(r),l.block.d(t),l.token=null,l=null}}}function _l(t){window.location.hash="##"+t}function Sl(t,e,n){let r,i,{source:o}=e,s=null,l=null,a="",c=null,u=!1,f="",d=null,p=!0,h=!1,m=!1,g=!1,y="ontouchstart"in window;async function b(){await Lt.load(o)}let v=b();function $(){n(10,m=n(11,g=!1));let t=decodeURI(document.location.hash);if("##"==t.substr(0,2)){if(n(6,f=t.substr(2)),"MAIN"==f&&n(2,a=""),f){let t=f.indexOf("::");-1!=t&&(n(2,a=f.substr(t+2)),n(6,f=f.substr(0,t))),"SEARCH"==f?(a.length>=2?n(1,l=Lt.search.findArticles(a).map(t=>t.id)):n(1,l=0),n(0,s=null)):(n(1,l=null),s&&s.id==f||n(0,s=Lt.article(f))),console.log(f),console.log(s)}s?s.section&&c!=s.section&&n(3,c=s.section):n(3,c=null),r&&r.scrollIntoView({behavior:"auto",block:"center"})}}function w(t){let e=Lt.findNextArticle(s,t);e&&_l(e.id)}window.onhashchange=$,v.then($);let x=!1;function k(t=null){null===t?n(10,m=!m):y||n(10,m=t)}function A(t){n(12,i.innerHTML=t,i);let e=i.classList;t?e.add("visible"):e.remove("visible")}document.addEventListener("keydown",t=>{const e=t.key;"ArrowRight"==e&&w(1),"ArrowLeft"==e&&w(-1)}),window.addEventListener("mousemove",async t=>{if(i){let e=t.target;for(;e&&e.attributes&&!e.attributes.tooltip;)e=e.parentNode;if(e&&e.attributes){let r=e.attributes.tooltip,o=t.target.getBoundingClientRect();n(12,i.style.left=o.left+o.width/2+"px",i),n(12,i.style.top=o.top+"px",i);let s=r.value;A(s in Lt.lang&&!t.shiftKey?Lt.lang[s]:s.substr(4))}else A(null)}});let _;return t.$set=(t=>{"source"in t&&n(20,o=t.source)}),t.$$.update=(()=>{1&t.$$.dirty[0]&&console.info(s||"no article"),8192&t.$$.dirty[0]&&n(14,_=(t=>x?t.slice().sort((t,e)=>t.title>e.title?1:-1):t))}),[s,l,a,c,r,u,f,d,p,h,m,g,i,x,_,y,v,w,function(t){d&&clearTimeout(d),n(7,d=setTimeout(()=>{_l("SEARCH::"+t.target.value),n(7,d=null)},"Enter"==t.key?10:1e3))},k,o,b,$,function(t){n(3,c=Lt.sections[t])},A,t=>k(),t=>k(!0),t=>k(!1),t=>n(11,g=!g),t=>!y&&n(11,g=!0),t=>!y&&n(11,g=!1),t=>n(9,h=!h),function(){a=this.value,n(2,a)},t=>n(13,x=!x),function(t){je[t?"unshift":"push"](()=>{n(4,r=t)})},()=>n(5,u=!0),t=>{0==t.button&&n(8,p=!p)},t=>w(-1),t=>w(1),function(t){je[t?"unshift":"push"](()=>{n(12,i=t)})}]}class Cl extends Je{constructor(t){super(),Ve(this,t,Sl,Al,fe,{source:20},[-1,-1])}}return window.onload=function(){let t=function(t){let e={"&amp;":"&","&lt;":"<","&gt;":">"};return t.replace(/&amp;|&quot;|&lt;|&gt;/g,t=>e[t])}(document.body.textContent);document.body.innerHTML="",document.body.style.display="block",new ie,app=new Cl({props:{source:t},target:document.body})},app}();
